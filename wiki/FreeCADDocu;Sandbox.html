<link href="site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">FreeCADDocu:Sandbox</span></h1><div class="mw-parser-output"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Test"><span class="tocnumber">1</span> <span class="toctext">Test</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#HowTo_test"><span class="tocnumber">1.1</span> <span class="toctext">HowTo test</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Test_code"><span class="tocnumber">2</span> <span class="toctext">Test code</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Test_python"><span class="tocnumber">3</span> <span class="toctext">Test python</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Test_pre"><span class="tocnumber">4</span> <span class="toctext">Test pre</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Test_syntaxhighlight"><span class="tocnumber">5</span> <span class="toctext">Test syntaxhighlight</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Test_source_lang=python"><span class="tocnumber">6</span> <span class="toctext">Test source lang=python</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Test_code_2"><span class="tocnumber">7</span> <span class="toctext">Test code</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Test_code=bash"><span class="tocnumber">8</span> <span class="toctext">Test code=bash</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Test_SystemInput"><span class="tocnumber">9</span> <span class="toctext">Test SystemInput</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Test_syntaxhighlight_2"><span class="tocnumber">10</span> <span class="toctext">Test syntaxhighlight</span></a></li>
</ul>
</div>
<h2><span class="mw-headline" id="Test">Test</span></h2>
<p>This is some line, and then <code>some inline code</code>
</p><p>
This is some line, and then </p><div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">font</span><span class="o">-</span><span class="n">family</span><span class="p">:</span> <span class="s1">'Times New Roman'</span><span class="p">,</span> <span class="n">serif</span><span class="p">;</span>
</pre></div>
<p><a href="Draft_Line.html" title="Draft Line">Draft Line</a> and <a href="Draft_Line.html" title="Draft Line">Draft_Line</a>
</p>
<table class="fcinfobox wikitable ct" style="float: right; width: 230px; margin-left: 1em" width="100%">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 114%;">
<p><span typeof="mw:File"><a class="mw-file-description" href="File/NoIconFound.png" title="Official icon not found"><img alt="Official icon not found" decoding="async" height="32" src="File/NoIconFound.png" srcset="/images/thumb/a/a6/NoIconFound.png/48px-NoIconFound.png 1.5x, /images/a/a6/NoIconFound.png 2x" width="32"/></a></span> {{{Name}}}
</p>
</td></tr>
<tr>
<th class="ctOdd">Menu location
</th></tr>
<tr>
<td class="ctEven">{{{MenuLocation}}}
</td></tr>
<tr>
<th class="ctOdd">Workbenches
</th></tr>
<tr>
<td class="ctEven">{{{Workbenches}}}
</td></tr></tbody></table>
<table class="wikitable" style="width: 100%;">
<tbody><tr>
<td style="width: 18%;"><b>Installation:</b>
</td>
<td><a href="Installing_on_Linux.html" title="Installing on Linux">Linux</a>, <a href="Installing_on_Windows.html" title="Installing on Windows">Windows</a>, <a href="Installing_on_Mac.html" title="Installing on Mac">Mac</a>; <b><a href="Getting_started.html" title="Getting started">Getting started</a></b>
</td></tr>
<tr>
<td style="font-weight:bold;">Basics:
</td>
<td><a href="About_FreeCAD.html" title="About FreeCAD">About FreeCAD</a>, <a href="Workbenches.html" title="Workbenches">Workbenches</a>, <a href="Preferences_Editor.html" title="Preferences Editor">Preferences</a>, <a href="Document_structure.html" title="Document structure">Document structure</a>, <a href="Interface_Customization.html" title="Interface Customization">Interface Customization</a>, <a href="Property.html" title="Property">Properties</a>, <a href="Mouse_navigation.html" title="Mouse navigation">Mouse navigation</a>
</td></tr>
<tr>
<td style="font-weight:bold;">Core workbenches:
</td>
<td><a href="Draft_Workbench.html" title="Draft Workbench">Draft</a>, <a href="Part_Workbench.html" title="Part Workbench">Part</a>, <a href="PartDesign_Workbench.html" title="PartDesign Workbench">PartDesign</a>, <a href="Sketcher_Workbench.html" title="Sketcher Workbench">Sketcher</a>, <a href="TechDraw_Workbench.html" title="TechDraw Workbench">TechDraw</a>
</td></tr>
<tr>
<td style="font-weight:bold;">Expert workbenches:
</td>
<td><a href="BIM_Workbench.html" title="BIM Workbench">BIM</a>, <a href="CAM_Workbench.html" title="CAM Workbench">CAM</a>, <a href="FEM_Workbench.html" title="FEM Workbench">FEM</a>, <a href="Inspection_Workbench.html" title="Inspection Workbench">Inspection</a>, <a href="Mesh_Workbench.html" title="Mesh Workbench">Mesh</a>, <a href="OpenSCAD_Workbench.html" title="OpenSCAD Workbench">OpenSCAD</a>, <a href="Points_Workbench.html" title="Points Workbench">Points</a>, <a href="Raytracing_Workbench.html" title="Raytracing Workbench">Raytracing</a>, <a href="Reverse_Engineering_Workbench.html" title="Reverse Engineering Workbench">Reverse Engineering</a>, <a href="Robot_Workbench.html" title="Robot Workbench">Robot</a>, <a href="Ship_Workbench.html" title="Ship Workbench">Ship</a>
</td></tr>
<tr>
<td style="font-weight:bold;">Auxiliary workbenches:
</td>
<td><a href="Plot_Workbench.html" title="Plot Workbench">Plot</a>, <a href="Spreadsheet_Workbench.html" title="Spreadsheet Workbench">Spreadsheet</a>, <a href="Debugging.html" title="Debugging">Test Framework</a>
</td></tr></tbody></table>
<h3><span class="mw-headline" id="HowTo_test">HowTo test</span></h3>
<p>Experimental HowTo page: <a href="Sandbox;HowTo.html" title="Sandbox:HowTo">Sandbox:HowTo</a>
</p><p><a href="#top">top</a>
</p>
<h2><span class="mw-headline" id="Test_code">Test code</span></h2>
<p><b>Code|code=</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">pivy</span> <span class="kn">import</span> <span class="n">coin</span>
<span class="n">cam</span> <span class="o">=</span> <span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ActiveView</span><span class="o">.</span><span class="n">getCameraNode</span><span class="p">()</span>
<span class="n">rot</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">coin</span><span class="o">.</span><span class="n">SbVec3f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralWidget</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_1</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">151</span><span class="p">,</span> <span class="mi">22</span><span class="p">))</span>
</pre></div>
<h2><span class="mw-headline" id="Test_python">Test python</span></h2>
<p><b>Code|lang=python|code=</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">pivy</span> <span class="kn">import</span> <span class="n">coin</span>
<span class="n">cam</span> <span class="o">=</span> <span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ActiveView</span><span class="o">.</span><span class="n">getCameraNode</span><span class="p">()</span>
<span class="n">rot</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">coin</span><span class="o">.</span><span class="n">SbVec3f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralWidget</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_1</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">151</span><span class="p">,</span> <span class="mi">22</span><span class="p">))</span>
</pre></div>
<p><br/>
</p>
<h2><span class="mw-headline" id="Test_pre">Test pre</span></h2>
<p><b>pre</b>
</p>
<pre>import math
from pivy import coin
cam = Gui.ActiveDocument.ActiveView.getCameraNode()
rot.setValue(coin.SbVec3f(0,0,1),math.pi/2)
       self.lineEdit_1 = QtGui.QLineEdit(self.centralWidget)
       self.lineEdit_1.setGeometry(QtCore.QRect(320, 30, 151, 22))
</pre>
<h2><span class="mw-headline" id="Test_syntaxhighlight">Test syntaxhighlight</span></h2>
<p><b>syntaxhighlight lang="python"</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">pivy</span> <span class="kn">import</span> <span class="n">coin</span>
<span class="n">cam</span> <span class="o">=</span> <span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ActiveView</span><span class="o">.</span><span class="n">getCameraNode</span><span class="p">()</span>
<span class="n">rot</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">coin</span><span class="o">.</span><span class="n">SbVec3f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralWidget</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_1</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">151</span><span class="p">,</span> <span class="mi">22</span><span class="p">))</span>
</pre></div>
<h2><span id="Test_source_lang.3Dpython"></span><span class="mw-headline" id="Test_source_lang=python">Test source lang=python</span></h2>
<p><b>source lang=python</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span> 
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">from</span> <span class="nn">pivy</span> <span class="kn">import</span> <span class="n">coin</span>
<span class="n">cam</span> <span class="o">=</span> <span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ActiveView</span><span class="o">.</span><span class="n">getCameraNode</span><span class="p">()</span>
<span class="n">rot</span><span class="o">.</span><span class="n">setValue</span><span class="p">(</span><span class="n">coin</span><span class="o">.</span><span class="n">SbVec3f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">centralWidget</span><span class="p">)</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">lineEdit_1</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">QRect</span><span class="p">(</span><span class="mi">320</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">151</span><span class="p">,</span> <span class="mi">22</span><span class="p">))</span>
</pre></div>
<h2><span class="mw-headline" id="Test_code_2">Test code</span></h2>
<p><b>Code|code=</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">lyre</span><span class="o">.</span><span class="n">mit</span><span class="o">.</span><span class="n">edu</span><span class="o">/~</span><span class="n">powell</span><span class="o">/</span><span class="n">opencascade</span><span class="o">/</span><span class="n">opencascade_6</span><span class="mf">.2.0</span><span class="o">.</span><span class="n">orig</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">lyre</span><span class="o">.</span><span class="n">mit</span><span class="o">.</span><span class="n">edu</span><span class="o">/~</span><span class="n">powell</span><span class="o">/</span><span class="n">opencascade</span><span class="o">/</span><span class="n">opencascade_6</span><span class="mf">.2.0</span><span class="o">-</span><span class="mf">7.</span><span class="n">dsc</span>
<span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">lyre</span><span class="o">.</span><span class="n">mit</span><span class="o">.</span><span class="n">edu</span><span class="o">/~</span><span class="n">powell</span><span class="o">/</span><span class="n">opencascade</span><span class="o">/</span><span class="n">opencascade_6</span><span class="mf">.2.0</span><span class="o">-</span><span class="mf">7.</span><span class="n">diff</span><span class="o">.</span><span class="n">gz</span>

<span class="n">dpkg</span><span class="o">-</span><span class="n">source</span> <span class="o">-</span><span class="n">x</span> <span class="n">opencascade_6</span><span class="mf">.2.0</span><span class="o">-</span><span class="mf">7.</span><span class="n">dsc</span>

<span class="c1"># Install OCC build-deps</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">devscripts</span> <span class="n">debhelper</span> <span class="n">autoconf</span> <span class="n">automake</span> <span class="n">libtool</span> <span class="n">bison</span> <span class="n">libx11</span><span class="o">-</span><span class="n">dev</span> <span class="n">tcl8</span><span class="mf">.4</span><span class="o">-</span><span class="n">dev</span> <span class="n">tk8</span><span class="mf">.4</span><span class="o">-</span><span class="n">dev</span> <span class="n">libgl1</span><span class="o">-</span><span class="n">mesa</span><span class="o">-</span><span class="n">dev</span> <span class="n">libglu1</span><span class="o">-</span><span class="n">mesa</span><span class="o">-</span><span class="n">dev</span> <span class="n">java</span><span class="o">-</span><span class="n">gcj</span><span class="o">-</span><span class="n">compat</span><span class="o">-</span><span class="n">dev</span> <span class="n">libxmu</span><span class="o">-</span><span class="n">dev</span>

<span class="c1">#Build Opencascade packages. This takes hours and requires</span>
<span class="c1"># at least 8 GB of free disk space</span>
<span class="n">cd</span> <span class="n">opencascade</span><span class="o">-</span><span class="mf">6.2.0</span> <span class="p">;</span> <span class="n">debuild</span>

<span class="c1"># Install the resulting library debs</span>
<span class="n">sudo</span> <span class="n">dpkg</span> <span class="o">-</span><span class="n">i</span> <span class="n">libopencascade6</span><span class="mf">.2</span><span class="o">-</span><span class="mf">0_6.2.0</span><span class="o">-</span><span class="mi">7</span><span class="n">_i386</span><span class="o">.</span><span class="n">deb</span>
<span class="n">libopencascade6</span><span class="mf">.2</span><span class="o">-</span><span class="n">dev_6</span><span class="mf">.2.0</span><span class="o">-</span><span class="mi">7</span><span class="n">_i386</span><span class="o">.</span><span class="n">deb</span>
</pre></div>
<h2><span id="Test_code.3Dbash"></span><span class="mw-headline" id="Test_code=bash">Test code=bash</span></h2>
<p><b>Code|code=bash</b>
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>wget http://lyre.mit.edu/~powell/opencascade/opencascade_6.2.0.orig.tar.gz
wget http://lyre.mit.edu/~powell/opencascade/opencascade_6.2.0-7.dsc
wget http://lyre.mit.edu/~powell/opencascade/opencascade_6.2.0-7.diff.gz

dpkg-source -x opencascade_6.2.0-7.dsc

<span class="c1"># Install OCC build-deps</span>
sudo apt-get install build-essential devscripts debhelper autoconf automake libtool bison libx11-dev tcl8.4-dev tk8.4-dev libgl1-mesa-dev libglu1-mesa-dev java-gcj-compat-dev libxmu-dev

<span class="c1">#Build Opencascade packages. This takes hours and requires</span>
<span class="c1"># at least 8 GB of free disk space</span>
<span class="nb">cd</span> opencascade-6.2.0 <span class="p">;</span> debuild

<span class="c1"># Install the resulting library debs</span>
sudo dpkg -i libopencascade6.2-0_6.2.0-7_i386.deb
libopencascade6.2-dev_6.2.0-7_i386.deb
</pre></div>
<h2><span class="mw-headline" id="Test_SystemInput">Test SystemInput</span></h2>
<p><b>SystemInput</b> template
</p><p><span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;"> sudo apt-get install build-essential devscripts debhelper autoconf automake libtool bison libx11-dev tcl8.4-dev tk8.4-dev libgl1-mesa-dev libglu1-mesa-dev java-gcj-compat-dev libxmu-dev</span>
</p><p><br/>
</p>
<h2><span class="mw-headline" id="Test_syntaxhighlight_2">Test syntaxhighlight</span></h2>
<p><b>syntaxhighlight line</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr mw-highlight-lines" dir="ltr"><pre><span></span><span class="linenos" data-line="1"></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">division</span> <span class="c1"># allows floating point division from integers</span>
<span class="linenos" data-line="2"></span><span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span> <span class="nn">Part</span><span class="o">,</span> <span class="nn">math</span>
<span class="linenos" data-line="3"></span><span class="kn">from</span> <span class="nn">FreeCAD</span> <span class="kn">import</span> <span class="n">Base</span>
<span class="linenos" data-line="4"></span> 
<span class="linenos" data-line="5"></span><span class="k">class</span> <span class="nc">RectEllipseShape</span><span class="p">:</span>
<span class="linenos" data-line="6"></span>   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
<span class="linenos" data-line="7"></span>      <span class="sd">''' Add the properties: Radius, Eccentricity, Height, Segments (see Property View) '''</span>
<span class="linenos" data-line="8"></span>      <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyLength"</span><span class="p">,</span><span class="s2">"a"</span><span class="p">,</span><span class="s2">"Rectellipse"</span><span class="p">,</span><span class="s2">"A - horizontal radius"</span><span class="p">)</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mf">16.0</span>
<span class="linenos" data-line="9"></span>      <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyLength"</span><span class="p">,</span><span class="s2">"b"</span><span class="p">,</span><span class="s2">"Rectellipse"</span><span class="p">,</span><span class="s2">"B - vertical radius"</span><span class="p">)</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="mf">9.0</span>
<span class="linenos" data-line="10"></span>      <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span><span class="s2">"n"</span><span class="p">,</span><span class="s2">"Rectellipse"</span><span class="p">,</span><span class="s2">"N "</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="o">=</span><span class="mf">0.2</span>
<span class="linenos" data-line="11"></span>      <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyBool"</span><span class="p">,</span><span class="s2">"createFace"</span><span class="p">,</span><span class="s2">"Rectellipse"</span><span class="p">,</span><span class="s2">"Wheter to create a face or not"</span><span class="p">)</span><span class="o">.</span><span class="n">createFace</span><span class="o">=</span><span class="kc">True</span>
<span class="linenos" data-line="12"></span>      <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
<span class="linenos" data-line="13"></span> 
<span class="linenos" data-line="14"></span>   <span class="k">def</span> <span class="nf">onChanged</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">,</span> <span class="n">prop</span><span class="p">):</span>
<span class="linenos" data-line="15"></span>      <span class="k">if</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">"a"</span> <span class="ow">or</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">"b"</span> <span class="ow">or</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">"n"</span> <span class="ow">or</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">"segments"</span> <span class="ow">or</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">"height"</span> <span class="ow">or</span> <span class="n">prop</span> <span class="o">==</span> <span class="s2">"createFace"</span><span class="p">:</span>
<span class="linenos" data-line="16"></span>         <span class="c1">#if one of these is changed</span>
<span class="linenos" data-line="17"></span>         <span class="bp">self</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
<span class="linenos" data-line="18"></span> 
<span class="linenos" data-line="19"></span>   <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fp</span><span class="p">):</span>
<span class="linenos" data-line="20"></span>      <span class="n">r1</span><span class="o">=</span><span class="n">fp</span><span class="o">.</span><span class="n">a</span>
<span class="linenos" data-line="21"></span>      <span class="n">r2</span><span class="o">=</span><span class="n">fp</span><span class="o">.</span><span class="n">b</span>
<span class="linenos" data-line="22"></span>      <span class="n">s</span><span class="o">=</span><span class="n">fp</span><span class="o">.</span><span class="n">n</span>
<span class="linenos" data-line="23"></span>      <span class="n">z</span><span class="o">=</span><span class="mf">0.0</span>
<span class="linenos" data-line="24"></span>      <span class="n">p</span><span class="o">=</span><span class="mf">1.0</span>
<span class="linenos" data-line="25"></span>      <span class="c1">####w=2**0.5/2.0 #Ellipse</span>
<span class="linenos" data-line="26"></span>      <span class="n">w</span><span class="o">=</span><span class="mi">2</span><span class="o">**</span><span class="mf">0.5</span><span class="o">/</span><span class="mf">2.0</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">s</span><span class="o">**</span><span class="n">p</span><span class="p">)</span>
<span class="linenos" data-line="27"></span>      <span class="n">curve</span><span class="o">=</span><span class="n">Part</span><span class="o">.</span><span class="n">BSplineCurve</span><span class="p">()</span>
<span class="linenos" data-line="28"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">setPeriodic</span><span class="p">()</span>
<span class="linenos" data-line="29"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">increaseDegree</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">#quadratic</span>
<span class="linenos" data-line="30"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">insertKnots</span><span class="p">([</span><span class="n">i</span><span class="o">*</span><span class="mf">1.0</span><span class="o">/</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)],[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span> <span class="c1">#5Knots 8 Poles</span>
<span class="linenos" data-line="31"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">setPole</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="n">r2</span><span class="p">,</span><span class="n">z</span><span class="p">),</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos" data-line="32"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">setPole</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="o">-</span><span class="n">r1</span><span class="p">,</span><span class="o">-</span><span class="n">r2</span><span class="p">,</span><span class="n">z</span><span class="p">),</span><span class="n">w</span><span class="p">)</span>
<span class="linenos" data-line="33"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">setPole</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="o">-</span><span class="n">r1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">z</span><span class="p">),</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos" data-line="34"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">setPole</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="o">-</span><span class="n">r1</span><span class="p">,</span><span class="n">r2</span><span class="p">,</span><span class="n">z</span><span class="p">),</span><span class="n">w</span><span class="p">)</span>
<span class="linenos" data-line="35"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">setPole</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">r2</span><span class="p">,</span><span class="n">z</span><span class="p">),</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos" data-line="36"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">setPole</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span><span class="n">r2</span><span class="p">,</span><span class="n">z</span><span class="p">),</span><span class="n">w</span><span class="p">)</span>
<span class="linenos" data-line="37"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">setPole</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">z</span><span class="p">),</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos" data-line="38"></span>      <span class="n">curve</span><span class="o">.</span><span class="n">setPole</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span><span class="o">-</span><span class="n">r2</span><span class="p">,</span><span class="n">z</span><span class="p">),</span><span class="n">w</span><span class="p">)</span>
<span class="linenos" data-line="39"></span>      <span class="k">if</span> <span class="n">fp</span><span class="o">.</span><span class="n">createFace</span> <span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
<span class="linenos" data-line="40"></span>         <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Face</span><span class="p">(</span><span class="n">Part</span><span class="o">.</span><span class="n">Wire</span><span class="p">(</span><span class="n">curve</span><span class="o">.</span><span class="n">toShape</span><span class="p">()))</span>
<span class="linenos" data-line="41"></span>      <span class="k">else</span><span class="p">:</span>
<span class="linenos" data-line="42"></span>         <span class="n">fp</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">curve</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
<span class="linenos" data-line="43"></span> 
<span class="linenos" data-line="44"></span><span class="k">def</span> <span class="nf">makeRectellipseBlock</span><span class="p">():</span>
<span class="linenos" data-line="45"></span>   <span class="n">doc</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">activeDocument</span><span class="p">()</span>
<span class="linenos" data-line="46"></span>   <span class="k">if</span> <span class="n">doc</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
<span class="linenos" data-line="47"></span>      <span class="n">doc</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span>
<span class="linenos" data-line="48"></span>   <span class="n">obj</span><span class="o">=</span><span class="n">doc</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::FeaturePython"</span><span class="p">,</span><span class="s2">"RectEllipseShape"</span><span class="p">)</span> <span class="c1">#add object to document</span>
<span class="linenos" data-line="49"></span>   <span class="n">obj</span><span class="o">.</span><span class="n">Label</span> <span class="o">=</span> <span class="s2">"RectEllipsse"</span>
<span class="linenos" data-line="50"></span>   <span class="n">RectEllipseShape</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="linenos" data-line="51"></span>   <span class="n">obj</span><span class="o">.</span><span class="n">ViewObject</span><span class="o">.</span><span class="n">Proxy</span><span class="o">=</span><span class="mi">0</span>
<span class="linenos" data-line="52"></span>   <span class="n">viewObject</span> <span class="o">=</span> <span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">getObject</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Name</span><span class="p">)</span>
<span class="linenos" data-line="53"></span>   <span class="n">viewObject</span><span class="o">.</span><span class="n">ShapeColor</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.00</span><span class="p">,</span><span class="mf">0.33</span><span class="p">,</span><span class="mf">1.00</span><span class="p">)</span>
<span class="linenos" data-line="54"></span>   <span class="n">viewObject</span><span class="o">.</span><span class="n">DisplayMode</span> <span class="o">=</span> <span class="s2">"Flat Lines"</span>
<span class="linenos" data-line="55"></span>   <span class="n">obj</span><span class="o">.</span><span class="n">Shape</span><span class="o">.</span><span class="n">check</span><span class="p">()</span>
<span class="linenos" data-line="56"></span> 
<span class="linenos" data-line="57"></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">"__main__"</span><span class="p">:</span>
<span class="linenos" data-line="58"></span>   <span class="c1">#feature will be generated after macro execution</span>
<span class="linenos" data-line="59"></span>   <span class="n">makeRectellipseBlock</span><span class="p">()</span>
</pre></div>
<!-- 
NewPP limit report
Cached time: 20241129212059
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.060 seconds
Real time usage: 1.027 seconds
Preprocessor visited node count: 175/1000000
Post‐expand include size: 739/2097152 bytes
Template argument size: 2206/2097152 bytes
Highest expansion depth: 4/100
Expensive parser function count: 8/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 30706/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  832.906      1 -total
 80.24%  668.310      5 Template:Code
  0.32%    2.684      1 Template:Incode
  0.10%    0.869      1 Template:SystemInput
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:2888-0!canonical and timestamp 20241129212058 and revision id 1455854. Rendering was triggered because: api-parse
 -->
</div></div><script src="script.js"></script>
