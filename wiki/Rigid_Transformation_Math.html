<link href="site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Rigid Transformation Math</span></h1><div class="mw-parser-output"><p><i>This page is under construction.  Test LaTex capability</i>
</p><p>Rotations can be represented as orthogonal 3 x 3 matrices. Acting on a position vector they generate the rotated coordinates by <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\textstyle x^{\prime }=Rx}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="false" scriptlevel="0">
<msup>
<mi>x</mi>
<mrow class="MJX-TeXAtom-ORD">
<mi class="MJX-variant" mathvariant="normal">′<!-- ′ --></mi>
</mrow>
</msup>
<mo>=</mo>
<mi>R</mi>
<mi>x</mi>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\textstyle x^{\prime }=Rx}</annotation>
</semantics>
</math></span><img alt="{\textstyle x^{\prime }=Rx}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/2e80c01e2b65d53beca10a61ea873ccb54561f8d" style="vertical-align: -0.338ex; width:8.207ex; height:2.343ex;"/></span>. Rotations keep the origin fixed.  A general (proper) rigid motion combines a rotation with a translation <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\textstyle x^{\prime }=x+a}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="false" scriptlevel="0">
<msup>
<mi>x</mi>
<mrow class="MJX-TeXAtom-ORD">
<mi class="MJX-variant" mathvariant="normal">′<!-- ′ --></mi>
</mrow>
</msup>
<mo>=</mo>
<mi>x</mi>
<mo>+</mo>
<mi>a</mi>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\textstyle x^{\prime }=x+a}</annotation>
</semantics>
</math></span><img alt="{\textstyle x^{\prime }=x+a}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/fae6b6082cbf73848b9e6edd4763b10b1c86cc9b" style="vertical-align: -0.505ex; width:10.513ex; height:2.509ex;"/></span>, that is <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\textstyle x^{\prime }=Rx+a}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="false" scriptlevel="0">
<msup>
<mi>x</mi>
<mrow class="MJX-TeXAtom-ORD">
<mi class="MJX-variant" mathvariant="normal">′<!-- ′ --></mi>
</mrow>
</msup>
<mo>=</mo>
<mi>R</mi>
<mi>x</mi>
<mo>+</mo>
<mi>a</mi>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\textstyle x^{\prime }=Rx+a}</annotation>
</semantics>
</math></span><img alt="{\textstyle x^{\prime }=Rx+a}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/74336b1350c8a72545792566b11b16c83c8d19c2" style="vertical-align: -0.505ex; width:12.277ex; height:2.509ex;"/></span>. (A proper rigid motion is one that preserves lengths and angles, but excludes reflections. A FreeCAD placement is such.)
</p><p>There is a very useful representation, used by FreeCAD's <i>Placement</i>, of these proper rigid motions by 4 x 4 matrices of the special form 
<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\displaystyle {\begin{pmatrix}R&amp;a\\0&amp;1\end{pmatrix}}}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="true" scriptlevel="0">
<mrow class="MJX-TeXAtom-ORD">
<mrow>
<mo>(</mo>
<mtable columnspacing="1em" rowspacing="4pt">
<mtr>
<mtd>
<mi>R</mi>
</mtd>
<mtd>
<mi>a</mi>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0</mn>
</mtd>
<mtd>
<mn>1</mn>
</mtd>
</mtr>
</mtable>
<mo>)</mo>
</mrow>
</mrow>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\displaystyle {\begin{pmatrix}R&amp;a\\0&amp;1\end{pmatrix}}}</annotation>
</semantics>
</math></span><img alt="{\displaystyle {\begin{pmatrix}R&amp;a\\0&amp;1\end{pmatrix}}}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/7ded48cf40a3d22f1bd5817e04fcf5ab2e5000ac" style="vertical-align: -2.505ex; width:9.489ex; height:6.176ex;"/></span>.
The rigid motion <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\textstyle x^{\prime }=Rx+a}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="false" scriptlevel="0">
<msup>
<mi>x</mi>
<mrow class="MJX-TeXAtom-ORD">
<mi class="MJX-variant" mathvariant="normal">′<!-- ′ --></mi>
</mrow>
</msup>
<mo>=</mo>
<mi>R</mi>
<mi>x</mi>
<mo>+</mo>
<mi>a</mi>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\textstyle x^{\prime }=Rx+a}</annotation>
</semantics>
</math></span><img alt="{\textstyle x^{\prime }=Rx+a}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/74336b1350c8a72545792566b11b16c83c8d19c2" style="vertical-align: -0.505ex; width:12.277ex; height:2.509ex;"/></span> then takes the matrix form 
<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\displaystyle {\begin{pmatrix}x^{\prime }\\0\end{pmatrix}}={\begin{pmatrix}R&amp;a\\0&amp;1\end{pmatrix}}{\begin{pmatrix}x\\0\end{pmatrix}}}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="true" scriptlevel="0">
<mrow class="MJX-TeXAtom-ORD">
<mrow>
<mo>(</mo>
<mtable columnspacing="1em" rowspacing="4pt">
<mtr>
<mtd>
<msup>
<mi>x</mi>
<mrow class="MJX-TeXAtom-ORD">
<mi class="MJX-variant" mathvariant="normal">′<!-- ′ --></mi>
</mrow>
</msup>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0</mn>
</mtd>
</mtr>
</mtable>
<mo>)</mo>
</mrow>
</mrow>
<mo>=</mo>
<mrow class="MJX-TeXAtom-ORD">
<mrow>
<mo>(</mo>
<mtable columnspacing="1em" rowspacing="4pt">
<mtr>
<mtd>
<mi>R</mi>
</mtd>
<mtd>
<mi>a</mi>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0</mn>
</mtd>
<mtd>
<mn>1</mn>
</mtd>
</mtr>
</mtable>
<mo>)</mo>
</mrow>
</mrow>
<mrow class="MJX-TeXAtom-ORD">
<mrow>
<mo>(</mo>
<mtable columnspacing="1em" rowspacing="4pt">
<mtr>
<mtd>
<mi>x</mi>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0</mn>
</mtd>
</mtr>
</mtable>
<mo>)</mo>
</mrow>
</mrow>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\displaystyle {\begin{pmatrix}x^{\prime }\\0\end{pmatrix}}={\begin{pmatrix}R&amp;a\\0&amp;1\end{pmatrix}}{\begin{pmatrix}x\\0\end{pmatrix}}}</annotation>
</semantics>
</math></span><img alt="{\displaystyle {\begin{pmatrix}x^{\prime }\\0\end{pmatrix}}={\begin{pmatrix}R&amp;a\\0&amp;1\end{pmatrix}}{\begin{pmatrix}x\\0\end{pmatrix}}}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/6a090922711e1d480f437ac8a5c28ab880e8ba28" style="vertical-align: -2.505ex; width:24.277ex; height:6.176ex;"/></span>.
In this compact notation, R is the 3 by 3 rotation matrix, and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\displaystyle a}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="true" scriptlevel="0">
<mi>a</mi>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\displaystyle a}</annotation>
</semantics>
</math></span><img alt="{\displaystyle a}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/ffd2487510aa438433a2579450ab2b3d557e5edc" style="vertical-align: -0.338ex; width:1.23ex; height:1.676ex;"/></span>, <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\displaystyle x}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="true" scriptlevel="0">
<mi>x</mi>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\displaystyle x}</annotation>
</semantics>
</math></span><img alt="{\displaystyle x}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/87f9e315fd7e2ba406057a97300593c4802b53e4" style="vertical-align: -0.338ex; width:1.33ex; height:1.676ex;"/></span> and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\displaystyle x^{\prime }}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="true" scriptlevel="0">
<msup>
<mi>x</mi>
<mrow class="MJX-TeXAtom-ORD">
<mi class="MJX-variant" mathvariant="normal">′<!-- ′ --></mi>
</mrow>
</msup>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\displaystyle x^{\prime }}</annotation>
</semantics>
</math></span><img alt="{\displaystyle x^{\prime }}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a04dfa6d4671c585af87b97fd0f5d4a0da499028" style="vertical-align: -0.338ex; width:2.014ex; height:2.509ex;"/></span> are 3 by 1 column position vectors.  In FreeCAD we can construct the Placement from its constituent Rotation and displacement.
</p>
<pre>R = App.Rotation(App.Vector(0,0,1), 120) # 120 degree rotation about z-axis
a = App.Vector(10,0,0) # displacement of 10 along x axis
pl = App.Placement(a, R) # construct placement, can retrieve a as pl.Base, R as pl.Rotation
</pre>
<p>In terms of the matrices, we can decompose the general transformation into its constituent translation and rotation.
<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\displaystyle {\begin{pmatrix}R&amp;a\\0&amp;1\end{pmatrix}}={\begin{pmatrix}I&amp;a\\0&amp;1\end{pmatrix}}{\begin{pmatrix}R&amp;o\\0&amp;1\end{pmatrix}}}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="true" scriptlevel="0">
<mrow class="MJX-TeXAtom-ORD">
<mrow>
<mo>(</mo>
<mtable columnspacing="1em" rowspacing="4pt">
<mtr>
<mtd>
<mi>R</mi>
</mtd>
<mtd>
<mi>a</mi>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0</mn>
</mtd>
<mtd>
<mn>1</mn>
</mtd>
</mtr>
</mtable>
<mo>)</mo>
</mrow>
</mrow>
<mo>=</mo>
<mrow class="MJX-TeXAtom-ORD">
<mrow>
<mo>(</mo>
<mtable columnspacing="1em" rowspacing="4pt">
<mtr>
<mtd>
<mi>I</mi>
</mtd>
<mtd>
<mi>a</mi>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0</mn>
</mtd>
<mtd>
<mn>1</mn>
</mtd>
</mtr>
</mtable>
<mo>)</mo>
</mrow>
</mrow>
<mrow class="MJX-TeXAtom-ORD">
<mrow>
<mo>(</mo>
<mtable columnspacing="1em" rowspacing="4pt">
<mtr>
<mtd>
<mi>R</mi>
</mtd>
<mtd>
<mi>o</mi>
</mtd>
</mtr>
<mtr>
<mtd>
<mn>0</mn>
</mtd>
<mtd>
<mn>1</mn>
</mtd>
</mtr>
</mtable>
<mo>)</mo>
</mrow>
</mrow>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\displaystyle {\begin{pmatrix}R&amp;a\\0&amp;1\end{pmatrix}}={\begin{pmatrix}I&amp;a\\0&amp;1\end{pmatrix}}{\begin{pmatrix}R&amp;o\\0&amp;1\end{pmatrix}}}</annotation>
</semantics>
</math></span><img alt="{\displaystyle {\begin{pmatrix}R&amp;a\\0&amp;1\end{pmatrix}}={\begin{pmatrix}I&amp;a\\0&amp;1\end{pmatrix}}{\begin{pmatrix}R&amp;o\\0&amp;1\end{pmatrix}}}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b3480f0fb79c8fef51a0c649cc95d38c332d2616" style="vertical-align: -2.505ex; width:30.906ex; height:6.176ex;"/></span>, where <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\displaystyle I}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="true" scriptlevel="0">
<mi>I</mi>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\displaystyle I}</annotation>
</semantics>
</math></span><img alt="{\displaystyle I}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/535ea7fc4134a31cbe2251d9d3511374bc41be9f" style="vertical-align: -0.338ex; width:1.172ex; height:2.176ex;"/></span> is the Identity matrix and <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\displaystyle o}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="true" scriptlevel="0">
<mi>o</mi>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\displaystyle o}</annotation>
</semantics>
</math></span><img alt="{\displaystyle o}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/0c1031f61947aa3d1cf3a70ec3e4904df2c3675d" style="vertical-align: -0.338ex; width:1.128ex; height:1.676ex;"/></span> is the 0-vector. Note that in terms of operations, we read the matrices from right to left, i. e. we first rotate <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\displaystyle x}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="true" scriptlevel="0">
<mi>x</mi>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\displaystyle x}</annotation>
</semantics>
</math></span><img alt="{\displaystyle x}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/87f9e315fd7e2ba406057a97300593c4802b53e4" style="vertical-align: -0.338ex; width:1.33ex; height:1.676ex;"/></span>, then we translate it <span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\textstyle Rx+a\leftarrow Rx\leftarrow x}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="false" scriptlevel="0">
<mi>R</mi>
<mi>x</mi>
<mo>+</mo>
<mi>a</mi>
<mo stretchy="false">←<!-- ← --></mo>
<mi>R</mi>
<mi>x</mi>
<mo stretchy="false">←<!-- ← --></mo>
<mi>x</mi>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\textstyle Rx+a\leftarrow Rx\leftarrow x}</annotation>
</semantics>
</math></span><img alt="{\textstyle Rx+a\leftarrow Rx\leftarrow x}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/863aa80d10bb34cbfb654e9e75555b5792adbd54" style="vertical-align: -0.505ex; width:18.815ex; height:2.343ex;"/></span>.
</p>
<!-- 
NewPP limit report
Cached time: 20241214204342
Cache expiry: 86400
Reduced expiry: false
Complications: [no‐toc‐conversion]
CPU time usage: 0.367 seconds
Real time usage: 0.800 seconds
Preprocessor visited node count: 46/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 741/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:275519-0!canonical and timestamp 20241214204341 and revision id 1087879. Rendering was triggered because: api-parse
 -->
</div></div><script src="script.js"></script>
