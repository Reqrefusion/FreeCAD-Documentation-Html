<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Macro Circle/it</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Macro_Circle.html" lang="en" title="Macro Circle (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Macro_Circle.html" lang="fr" title="Macro Circle (100% translated)">français</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="it">italiano</span></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Macro_Circle.html" lang="pl" title="Makrodefinicja: Okrąg (6% translated)">polski</a></li></ul></div>
<table class="fcinfobox wikitable ct" style="float: right; width: 230px; margin-left: 10px;" width="100%">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Circle.png"><img decoding="async" height="32" src="../File/Macro_Circle.png" srcset="/images/thumb/9/9d/Macro_Circle.png/48px-Macro_Circle.png 1.5x, /images/9/9d/Macro_Circle.png 2x" width="32"/></a></span><span> </span>
Cerchio
</p>
</td></tr>
<tr>
<th class="ctOdd">Descrizione
</th></tr>
<tr>
<td class="ctEven left macro-description">Crea un cerchio o un arco basato su parametri. Il nuovo cerchio viene creato nella coordinata reale dell'oggetto, non nelle coordinate del corpo. <br/> <span style="background-color: #ffeeee"> (Riga di comando, incolla questa macro completa nella console Python)</span>.<br/><br/>Versione macro: 0.4<br/>Ultima modifica: 2019-06-19<br/>Versione FreeCAD: Tutte<br/>Download: <a class="external text" href="https://www.freecadweb.org/wiki/images/9/9d/Macro_Circle.png" rel="nofollow">Icona della barra degli strumenti</a><br/>Autore: mario52<br/>
</td></tr>
<tr>
<th class="ctOdd">Autore
</th></tr>
<tr>
<td class="ctEven macro-author"><a href="User;Mario52.html" title="User:Mario52">mario52</a>
</td></tr>
<tr>
<th class="ctOdd">Download
</th></tr>
<tr>
<td class="ctEven macro-download"><a class="external text" href="https://www.freecadweb.org/wiki/images/9/9d/Macro_Circle.png" rel="nofollow">Icona della barra degli strumenti</a>
</td></tr>
<tr>
<th class="ctOdd">Link
</th></tr>
<tr>
<td class="ctEven macro-Links"><a href="Macros_recipes.html" title="Macros recipes/it">Raccolta di macro</a><br/><a href="How_to_install_macros.html" title="How to install macros/it">Come installare le macro</a><br/><a href="Customize_Toolbars.html" title="Customize Toolbars/it">Personalizzare la  toolbar</a>
</td></tr>
<tr>
<th class="ctOdd">Versione macro
</th></tr>
<tr>
<td class="ctEven macro-version">0.4
</td></tr>
<tr>
<th class="ctOdd">Data ultima modifica
</th></tr>
<tr>
<td class="ctEven macro-date">2019-06-19
</td></tr>
<tr>
<th class="ctOdd">Versioni di FreeCAD
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">Tutte
</td></tr>
<tr>
<th class="ctOdd">Scorciatoia
</th></tr>
<tr>
<td class="ctEven"><i>Nessuna</i>
</td></tr>
<tr>
<th class="ctOdd">Vedere anche
</th></tr>
<tr>
<td class="ctEven"><a href="Macro_CirclePlus.html" title="Macro CirclePlus/it">Macro CirclePlus</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_CirclePlus.png"><img decoding="async" height="24" src="../File/Macro_CirclePlus.png" srcset="/images/thumb/4/4c/Macro_CirclePlus.png/36px-Macro_CirclePlus.png 1.5x, /images/thumb/4/4c/Macro_CirclePlus.png/48px-Macro_CirclePlus.png 2x" width="24"/></a></span>
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Descrizione"><span class="tocnumber">1</span> <span class="toctext">Descrizione</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Utilizzo"><span class="tocnumber">2</span> <span class="toctext">Utilizzo</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Script"><span class="tocnumber">3</span> <span class="toctext">Script</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Promemoria_sulle_circonferenze"><span class="tocnumber">4</span> <span class="toctext">Promemoria sulle circonferenze</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Versione"><span class="tocnumber">5</span> <span class="toctext">Versione</span></a></li>
</ul>
</div>
</td></tr>
</tbody></table>
<p><span id="Description"></span>
</p>
<h2><span class="mw-headline" id="Descrizione">Descrizione</span></h2>
<p>Questa piccola macro crea un cerchio o un arco fornendo  a scelta raggio, diametro, circonferenza, area, angolo iniziale, angolo finale, arco, centro dell'angolo, corda, freccia, centro (punto), placemObject. Il nuovo cerchio viene creato nelle coordinate reali dell'oggetto, non nelle coordinate del corpo.<br/><span style="background-color: #ffeeee">(Riga di comando, incolla questa macro completa nella console Python)</span>.
</p><p>Il cerchio viene posto frontale allo schermo, con getCameraOrientation, oppure secondo il posizionamento dato 
</p><p><span id="Usage"></span>
</p>
<h2><span class="mw-headline" id="Utilizzo">Utilizzo</span></h2>
<p>Copiare il codice e incollarlo nella console Python di FreeCAD il comando arà disponibile per tutta la sessione di FreeCAD.
Assegnare a scelta i parametri: 
</p>
<ul><li><b>x y z</b> : coordinate del cerchio, se non sono attribuite, il cerchio viene creato alle coordinate 0,0,0</li>
<li><b>radius</b> : raggio del cerchio</li>
<li><b>diameter</b> : diametro del cerchio</li>
<li><b>circumference</b> : circonferenza del cerchio</li>
<li><b>area</b> : area del cerchio</li>
<li><b>startangle</b> : angolo iniziale di un arco</li>
<li><b>endangle</b> : angolo finale di un arco</li>
<li><b>arc</b> e <b>anglecenter</b> : arco in combinazione con anglecenter
<ul><li><b>arc</b> =  lunghezza di un arco</li>
<li><b>anglecenter</b> = angolo al centro di un arco, in gradi</li></ul></li>
<li><b>cord</b> e <b>arrow</b> : corda in combinazione con la freccia
<ul><li><b>cord</b> : lunghezza della corda</li>
<li><b>arrow</b> : lunghezza della freccia</li></ul></li>
<li><b>center</b> : se "center" è diverso da 0 viene creato un punto al centro del cerchio</li>
<li><b>placemObject</b>
<ul><li>esempio :</li>
<li>pl=FreeCAD.Placement()</li>
<li>pl.Rotation.Q=(0.0,-0.0,-0.0,1.0)</li>
<li>pl.Base=FreeCAD.Vector(-1.89847898483,-0.490152746439,0.0)</li>
<li>give <b>placemObject = pl</b></li></ul></li></ul>
<p>Se non vengono forniti dei parametri, ad esempio "<b>circle()</b>", nella vista Report viene visualizzato l'elenco delle funzioni disponibili.
<br/><br/>
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p>Icona della barra degli strumenti <span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Circle.png"><img decoding="async" height="64" src="../File/Macro_Circle.png" width="64"/></a></span>
</p><p><b>Macro_circle.FCMacro</b>
</p>
<pre>#-*- coding: utf-8 -*-
#from math import sqrt, pi
# creer un cercle ou un arc entierement parametrabel en utilisant :
# create a circle or arc fully parametrabel using:
#
# paste the complete macro in the Python console
#
# x x x coordinates
#with radius
#with diameter
#with circumference
#with area
#with startangle
#with endangle
#with [arc and anglecenter]      in combination (angle in degrees)
#with [cord and arrow]           in combination
#with center (if center as different 0 one point is created on center of circle)
#give placemObject  
# ex :pl=FreeCAD.Placement()
#     pl.Rotation.Q=(0.0,-0.0,-0.0,1.0)
#     pl.Base=FreeCAD.Vector(-1.89847898483,-0.490152746439,0.0)
#     placemObject = pl
# s'il n'y a pas de parametre "circle()" une liste des fonctions s'affiche dans la Vue rapport
# if there is no parameter "circle()" a list of functions is displayed in the report view

__title__   = "circle"
__author__  = "Mario52"
__version__ = "0.4"
__date__    = "19/06/2019"

import Draft #, Part
import FreeCAD
App = FreeCAD

def circle(x=0.0,y=0.0,z=0.0,radius=0.0,diameter=0.0,circumference=0.0,area=0.0,startangle=0.0,endangle=0.0,arc=0.0,anglecenter=0.0,cord=0.0,arrow=0.0,center=0,placemObject=""):
    from math import sqrt, pi
    if placemObject == "":
        pl = FreeCAD.Placement()
        pl.Rotation = FreeCADGui.ActiveDocument.ActiveView.getCameraOrientation()   
        pl.Base = FreeCAD.Vector(x,y,z)
    else:
        pl = FreeCAD.Placement()
        pl = placemObject                                  # placement imposted
    if diameter != 0:                                      # with diameter
        radius = diameter / 2.0
    elif circumference != 0:                               # with circumference
        radius = (circumference / pi) / 2.0
    elif area != 0:                                        # with area
        radius =  sqrt((area / pi))
    elif (cord != 0) and (arrow != 0):                     # with cord and arrow
        radius = ((arrow**2) + (cord**2) / 4.0) / (arrow*2) 
    elif (arc != 0) and (anglecenter != 0):                # with arc and anglecenter central in degrees
        radius = ((360/anglecenter)*arc) / pi/2.0
        if endangle != 0:
            startangle  = endangle - anglecenter
        endangle   = anglecenter + startangle
        startangle  = endangle - anglecenter
    if radius != 0:
        try:
            Draft.makeCircle(radius,placement=pl,face=False,startangle=startangle,endangle=endangle,support=None)
            if center != 0:
                x=pl.Base.x
                y=pl.Base.y
                z=pl.Base.z
                Draft.makePoint(x,y,z)
            
        except Exception:
            App.Console.PrintError("Unexpected keyword argument" + "\n")
        App.ActiveDocument.recompute()
    else:
        App.Console.PrintMessage("Unexpected keyword argument" + "\n")
        App.Console.PrintMessage("circle(x,y,z,radius,diameter,circumference,area,startangle,endangle,[arc,anglecenter],[cord,arrow],center,placemObject)" + "\n")
        App.Console.PrintMessage("circle(radius=10.0,placemObject=App.Placement(App.Vector(11,20,30), App.Rotation(30,40,0), App.Vector(0,0,0)))" + "\n")
#example
#circle(arc=50,anglecenter=20,center=1)
#circle(x=10.0,y=10.0,z=10.0,radius=10.0)
#circle(radius=10.0,center=1,placemObject=App.Placement(App.Vector(11,20,30), App.Rotation(30,40,0), App.Vector(0,0,0)))</pre>
<p><span id="Memo_of_circle"></span>
</p>
<h2><span class="mw-headline" id="Promemoria_sulle_circonferenze">Promemoria sulle circonferenze</span></h2>
<p><b>Esempi di codice</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>    <span class="c1"># example 1</span>
<span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">diameter</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>    <span class="c1"># example 2</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">circumference</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>    <span class="c1"># example 3</span>
</pre></div>
<figure class="mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Circle_01.png" title="examples 1, 2, 3"><img alt="examples 1, 2, 3" decoding="async" height="293" src="../File/Macro_Circle_01.png" srcset="/images/6/61/Macro_Circle_01.png 1.5x" width="640"/></a><figcaption>examples 1, 2, 3</figcaption></figure>
<div style="clear:both"></div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">area</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>    <span class="c1"># example 4</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">startangle</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span><span class="n">endangle</span><span class="o">=-</span><span class="mi">20</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 5</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">cord</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">arrow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 6 left</span>
<span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">arc</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span><span class="n">anglecenter</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">startangle</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 6 rigth</span>
</pre></div>
<figure class="mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Circle_02.png" title="examples"><img alt="examples" decoding="async" height="293" src="../File/Macro_Circle_02.png" srcset="/images/2/23/Macro_Circle_02.png 1.5x" width="640"/></a><figcaption>examples</figcaption></figure>
<div style="clear:both"></div>
<p><span id="Version"></span>
</p>
<h2><span class="mw-headline" id="Versione">Versione</span></h2>
<p>ver 0.4 19/06/2019 : upgrade ver 0.19
</p><p>ver 0.3 10/06/2018 : replace /2 to /2.0 (float)
</p><p>ver 0.2 24/02/2015 : agiunto function "<b>placemObject</b>"
</p>
<!-- 
NewPP limit report
Cached time: 20241129211441
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.056 seconds
Real time usage: 0.259 seconds
Preprocessor visited node count: 162/1000000
Post‐expand include size: 3186/2097152 bytes
Template argument size: 4690/2097152 bytes
Highest expansion depth: 7/100
Expensive parser function count: 2/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 7506/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  200.237      1 -total
 97.60%  195.434      2 Template:Code
  1.10%    2.207      1 Template:Macro/it
  0.51%    1.021      1 Template:MacroCode
  0.44%    0.885      2 Template:Clear
  0.41%    0.824      2 Template:ColoredText
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:56345-0!canonical and timestamp 20241129211441 and revision id 1373168. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
