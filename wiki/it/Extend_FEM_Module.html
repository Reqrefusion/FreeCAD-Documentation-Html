<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Extend FEM Module/it</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../de\Extend_FEM_Module.html" lang="de" title="FEM Modul Erweitern (29% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Extend_FEM_Module.html" lang="en" title="Extend FEM Module (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../es\Extend_FEM_Module.html" lang="es" title="Extend FEM Module (17% translated)">español</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../fr\Extend_FEM_Module.html" lang="fr" title="FEM Module d'extension (100% translated)">français</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--med" dir="ltr" lang="it">italiano</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../pl\Extend_FEM_Module.html" lang="pl" title="Rozszerzenie modułu MES (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../ro\Extend_FEM_Module.html" lang="ro" title="FEM: Modul Suplimentar MEF (33% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../ru\Extend_FEM_Module.html" lang="ru" title="Расширение рабочей среды верстака МКЭ (25% translated)">русский</a></li></ul></div>
<table class="fcinfobox wikitable ct" style="width: 230px; float: right; margin-left: 1em">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;"><span typeof="mw:File"><span><img decoding="async" height="32" src="../File/Freecad.svg" width="32"/></span></span> Tutorial
</td></tr>
<tr>
<th class="ctOdd">Argomento
</th></tr>
<tr>
<td class="ctEven">FEM
</td></tr>
<tr>
<th class="ctOdd">Livello di difficoltà
</th></tr>
<tr>
<td class="ctEven">Intermediate
</td></tr>
<tr>
<th class="ctOdd">Tempo di esecuzione
</th></tr>
<tr>
<td class="ctEven">1 hour
</td></tr>
<tr>
<th class="ctOdd">Autori
</th></tr>
<tr>
<td class="ctEven"><a class="new" href="../index.php?title=User;M42kus&amp;action=edit&amp;redlink=1.html" title="User:M42kus (page does not exist)">M42kus</a>
</td></tr>
<tr>
<th class="ctOdd">Versione di FreeCAD
</th></tr>
<tr>
<td class="ctEven">0.17
</td></tr>
<tr>
<th class="ctOdd">Files di esempio
</th></tr>
<tr>
<td class="ctEven"><i>Nessuno</i>
</td></tr>
<tr>
<th class="ctOdd">Vedere anche
</th></tr>
<tr>
<td class="ctEven"><i>Nessuno</i>
</td></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Sistema_di_costruzione_(cmake)"><span class="tocnumber">1</span> <span class="toctext">Sistema di costruzione (cmake)</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Organizzazione_del_codice_sorgente"><span class="tocnumber">2</span> <span class="toctext">Organizzazione del codice sorgente</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Solutore"><span class="tocnumber">3</span> <span class="toctext">Solutore</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Equazioni"><span class="tocnumber">4</span> <span class="toctext">Equazioni</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Vincoli"><span class="tocnumber">5</span> <span class="toctext">Vincoli</span></a></li>
</ul>
</div>
</td></tr></tbody></table>
<p>L'ambiente FEM supporta già molti vincoli diversi e diversi solutori. Nonostante ciò, gli utenti spesso necessitano di vincoli non ancora supportati da FreeCAD. Questa pagina è il punto di partenza per una serie di tutorial e altre risorse che descrivono come estendere l'ambiente FEM utilizzando il framework esistente. Sebbene questa serie possa rivelarsi utile anche per gli sviluppatori di software, l'idea è quella di consentire agli utenti FEM con un po' di interesse per la codifica Python di aggiungere autonomamente le parti di cui hanno bisogno.
</p><p>Aggiungere nuovi vincoli, equazioni o solutori è per lo più un lavoro di routine. Ma farlo per la prima volta non è così facile come potrebbe sembrare. È utile conoscere i seguenti argomenti:
</p>
<ul><li>Script Python in FreeCAD.
<ul><li><a href="../it\Python_scripting_tutorial.html" title="Python scripting tutorial/it">Tutorial sugli script di FreeCAD</a></li>
<li><a href="../it\FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/it">Nozioni di base sugli script di FreeCAD</a></li></ul></li>
<li>Estensione di FreeCAD con Python.
<ul><li><a href="../it\Scripted_objects.html" title="Scripted objects/it">Script di oggetti</a></li></ul></li>
<li>Una solida conoscenza del risolutore per il quale devono essere aggiunti nuovi oggetti (ad es. CalculiX o Elmer) è importante.</li>
<li>Una conoscenza di base dei sistemi di compilazione, in particolare cmake (sistema di compilazione utilizzato da FreeCAD).</li></ul>
<p><span id="Build_System_(cmake)"></span>
</p>
<h2><span id="Sistema_di_costruzione_.28cmake.29"></span><span class="mw-headline" id="Sistema_di_costruzione_(cmake)">Sistema di costruzione (cmake)</span></h2>
<p>Il sistema di build deve essere modificato indipendentemente da quali oggetti verranno aggiunti all'ambiente FEM. Ogni modulo (file) Python deve essere registrato. Il workbench FEM richiede che ogni nuovo modulo Python sia registrato in <code>Mod/Fem/CMakeLists.txt</code>. Questo è necessario indipendentemente dal tipo di modulo Python (GUI o non GUI). Il punto esatto in cui deve essere inserito il modulo dipende dal ruolo del modulo. Risolutore, equazioni e vincoli utilizzano tutti elenchi diversi. La ricerca di file simili e l'inserimento del nuovo file nello stesso elenco funziona nella maggior parte dei casi.
</p>
<div class="mw-translate-fuzzy">
<p>Ad esempio, proviamo ad aggiungere un nuovo vincolo di pressione. Un nuovo vincolo richiede almeno i seguenti nuovi moduli: FemConstraint&lt;name&gt;.py, ViewProviderFemConstraint&lt;name&gt;.py, CommandFemConstraint&lt;name&gt;.py. Questi tre file devono essere aggiunti a CMakeLists.txt ed anche a App/CMakeLists.txt.
</p>
</div>
<p><span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">Mod/Fem/CMakeLists.txt</span>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">SET</span><span class="p">(</span><span class="n">FemObjects_SRCS</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">base_fempythonobject</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_bodyheatsource</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_electrostaticpotential</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_flowvelocity</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_initialflowvelocity</span><span class="o">.</span><span class="n">py</span>
<span class="o">+</span>   <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_initialflowpressure</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">constraint_selfweight</span><span class="o">.</span><span class="n">py</span>
<span class="o">...</span>
    <span class="n">femobjects</span><span class="o">/</span><span class="n">solver_ccxtools</span><span class="o">.</span><span class="n">py</span>
<span class="p">)</span>
<span class="o">...</span>
<span class="n">SET</span><span class="p">(</span><span class="n">FemGuiViewProvider_SRCS</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_base_femconstraint</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_base_femobject</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_bodyheatsource</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_electrostaticpotential</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_flowvelocity</span><span class="o">.</span><span class="n">py</span>
<span class="o">+</span>   <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_flowpressure</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_initialflowvelocity</span><span class="o">.</span><span class="n">py</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_constraint_selfweight</span><span class="o">.</span><span class="n">py</span>
<span class="o">...</span>
    <span class="n">femviewprovider</span><span class="o">/</span><span class="n">view_solver_ccxtools</span><span class="o">.</span><span class="n">py</span>
<span class="p">)</span>
</pre></div>
<p><span id="Source_Organization"></span>
</p>
<h2><span class="mw-headline" id="Organizzazione_del_codice_sorgente">Organizzazione del codice sorgente</span></h2>
<div class="mw-translate-fuzzy">
<p>Per organizzare il codice Python il modulo FEM usa un approccio simile a quello usato per il codice C++ in FreeCAD. Il modulo è diviso in due pacchetti. PyObjects, che contiene tutti i proxy Python non-gui come gli oggetti del documento e PyGui che contiene tutto ciò che è collegato come proxy python per il provider di visualizzazione, i pannelli delle attività, i file ui e i comandi.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Un pacchetto non segue questo modello: FemSolver. È posizionato allo stesso livello di PyObjects e PyGui (src/Mod/Fem/FemSolver). Il pacchetto contiene il solutore con i pacchetti relativi all'equazione ed ai moduli ed è organizzato nel seguente modo:
</p>
</div>
<pre>.femsolver
.femsolver.elmer
.femsolver.elmer.equations
.femsolver.calculix
.femsolver.calculix.equations
.femsolver.z88
.femsolver.z88.equations
</pre>
<p><span id="Solver"></span>
</p>
<h2><span class="mw-headline" id="Solutore">Solutore</span></h2>
<p>In FreeCAD a solver can be split into two parts: 
</p>
<ul><li>One is the document object used by the user to interact with the solver. Through it, solver parameters can be set and it is also used to control the solving process.</li>
<li>The other one are the so called tasks of a solver. The solving process is split into those tasks, namely: <i>check, prepare, solve and results</i>. Those do the actual work of exporting the analysis into a format understood by the solver executable, starting the executable and loading the results back into FreeCAD.</li></ul>
<div class="mw-translate-fuzzy">
<p>La maggior parte dei file relativi a un solver si trovano in un sottopacchetto del pacchetto FemSolver (e.g. FemSolver.Elmer). La seguente lista elenca tutti i file relativi all'implementazione di un risolutore. Questi sono i file che devono essere copiati e modificati per aggiungere il supporto per un nuovo risolutore in FreeCAD.
</p>
</div>
<ul><li><b>femsolver/elmer/solver.py:</b> Document object visible in the tree-view. Implemented in python via a document proxy and view proxy.</li>
<li><b>femsolver/elmer/tasks.py:</b> Module containing one task class per task required for a solver implementation. Those tasks divide the process of solving a analysis into the following steps: check, prepare, solve, results.</li>
<li><b>femcommands/commands.py:</b> Adds the solver document object to the active document. Required to access the solver object from the GUI.</li></ul>
<p><span id="Equations"></span>
</p>
<h2><span class="mw-headline" id="Equazioni">Equazioni</span></h2>
<p>Un'equazione rappresenta una particolare fisica che deve essere considerata quando si risolve l'analisi (ad esempio flusso, calore). Non tutti i solutori in FreeCAD  supportano tutte le equazioni. Le equazioni sono rappresentate dagli oggetti figlio del corrispondente oggetto del risolutore. Nella vista ad albero questo assomiglia così:
</p>
<ul><li>elmer-solver
<ul><li>elasticity</li>
<li>heat</li>
<li>flow</li>
<li>electrostatics</li></ul></li></ul>
<p>Most solver specific options (e.g. max. iterations, method of solving, etc) are set via the equation objects. One consequence of this is that each solver must have it's own implementation of "the same" equation. CalculiX would have a different Heat-object that Elmer. To avoid having multiple buttons for the same physics in the GUI each solver object adds it's equations itself.
</p><p>The actual implementation can be split into the generic and the solver specific part. The generic part can be found in the <code>femsolver.equationbase</code> module. The solver specific part resides inside individual Equations sub-packages of the solver packages (e.g. <code>femsolver/elmer/equations</code>).
</p><p>Adding a new equations to Elmer should be very easy. For newcomers there exists a tutorial which shows how to add a new equation to Elmer by adding the existing elasticity solver to FreeCAD: <a href="../Add_FEM_Equation_Tutorial.html" title="Add FEM Equation Tutorial">Add FEM Equation Tutorial</a>.
</p><p><span id="Constraints"></span>
</p>
<h2><span class="mw-headline" id="Vincoli">Vincoli</span></h2>
<p>Constraints define boundary conditions for the problem that shall be solved. In FreeCAD constraints aren't specific to a particular solver. A problem setup can be solved by all solver that support all conditions in the analysis.
</p><p>Adding new constraints is quite straight forward. For newcomers there is a tutorial: <a href="../Add_FEM_Constraint_Tutorial.html" title="Add FEM Constraint Tutorial">Add FEM Constraint Tutorial</a>.
</p>
<!-- 
NewPP limit report
Cached time: 20241214204307
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.058 seconds
Real time usage: 0.289 seconds
Preprocessor visited node count: 98/1000000
Post‐expand include size: 1101/2097152 bytes
Template argument size: 1072/2097152 bytes
Highest expansion depth: 4/100
Expensive parser function count: 1/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 5247/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  227.410      1 -total
 97.56%  221.870      1 Template:Code
  1.10%    2.502      1 Template:FileName
  0.48%    1.087      1 Template:TutorialInfo/it
  0.33%    0.755      3 Template:Incode
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:86743-0!canonical and timestamp 20241214204307 and revision id 1485151. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
