<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">PySide Intermediate Examples/it</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="PySide_Intermediate_Examples.html" lang="de" title="PySide Mittlere Beispiele (12% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="PySide_Intermediate_Examples.html" lang="en" title="PySide Intermediate Examples (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="PySide_Intermediate_Examples.html" lang="fr" title="PySide : Exemples pour niveau intermédiaire (100% translated)">français</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="it">italiano</span></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="PySide_Intermediate_Examples.html" lang="pl" title="PySide przykłady dla średniozaawansowanych (4% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="PySide_Intermediate_Examples.html" lang="ru" title="Примеры PySide среднего уровня (11% translated)">русский</a></li></ul></div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduzione"><span class="tocnumber">1</span> <span class="toctext">Introduzione</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Note"><span class="tocnumber">1.1</span> <span class="toctext">Note</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Discussione_del_codice_-_Parte_dichiarativa"><span class="tocnumber">2</span> <span class="toctext">Discussione del codice - Parte dichiarativa</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#La_dichiarazione_Import"><span class="tocnumber">3</span> <span class="toctext">La dichiarazione Import</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#La_definizione_della_classe"><span class="tocnumber">3.1</span> <span class="toctext">La definizione della classe</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Ripristinare_lo_stato_della_finestra"><span class="tocnumber">3.2</span> <span class="toctext">Ripristinare lo stato della finestra</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Creare_la_finestra"><span class="tocnumber">3.3</span> <span class="toctext">Creare la finestra</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Creare_le_etichette"><span class="tocnumber">3.4</span> <span class="toctext">Creare le etichette</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Creare_una_casella_di_controllo"><span class="tocnumber">3.5</span> <span class="toctext">Creare una casella di controllo</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Creare_i_pulsanti_di_opzione"><span class="tocnumber">3.6</span> <span class="toctext">Creare i pulsanti di opzione</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Creare_i_menu_a_scomparsa"><span class="tocnumber">3.7</span> <span class="toctext">Creare i menu a scomparsa</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Creare_i_pulsanti_-_Parte_1"><span class="tocnumber">3.8</span> <span class="toctext">Creare i pulsanti - Parte 1</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Creare_i_pulsanti_-_Parte_2"><span class="tocnumber">3.9</span> <span class="toctext">Creare i pulsanti - Parte 2</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Creare_un_campo_per_inserire_dei_testi"><span class="tocnumber">3.10</span> <span class="toctext">Creare un campo per inserire dei testi</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Creare_un_QuantitySpinBox"><span class="tocnumber">3.11</span> <span class="toctext">Creare un QuantitySpinBox</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Creare_un_menu_contestuale"><span class="tocnumber">3.12</span> <span class="toctext">Creare un menu contestuale</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Creare_un_campo_di_input_numerico"><span class="tocnumber">3.13</span> <span class="toctext">Creare un campo di input numerico</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Visualizzare_la_finestra"><span class="tocnumber">3.14</span> <span class="toctext">Visualizzare la finestra</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Discussione_del_codice_-_Parte_operativa"><span class="tocnumber">4</span> <span class="toctext">Discussione del codice - Parte operativa</span></a>
<ul>
<li class="toclevel-2 tocsection-20"><a href="#I_gestori_generici"><span class="tocnumber">4.1</span> <span class="toctext">I gestori generici</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#La_gestione_dei_menu_a_discesa"><span class="tocnumber">4.2</span> <span class="toctext">La gestione dei menu a discesa</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#La_gestione_degli_eventi_del_mouse"><span class="tocnumber">4.3</span> <span class="toctext">La gestione degli eventi del mouse</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#Discussione_del_codice_-_Parte_principale"><span class="tocnumber">5</span> <span class="toctext">Discussione del codice - Parte principale</span></a></li>
<li class="toclevel-1 tocsection-24"><a href="#Esempio_completo_di_codice_Modale"><span class="tocnumber">6</span> <span class="toctext">Esempio completo di codice Modale</span></a></li>
<li class="toclevel-1 tocsection-25"><a href="#Discussione_del_codice_-_Esempio_di_codice_non_modale"><span class="tocnumber">7</span> <span class="toctext">Discussione del codice - Esempio di codice non modale</span></a></li>
<li class="toclevel-1 tocsection-26"><a href="#La_dichiarazione_Import_2"><span class="tocnumber">8</span> <span class="toctext">La dichiarazione Import</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#La_definizione_della_classe_2"><span class="tocnumber">8.1</span> <span class="toctext">La definizione della classe</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Creare_la_finestra_2"><span class="tocnumber">8.2</span> <span class="toctext">Creare la finestra</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#La_gestione_degli_eventi_del_mouse_2"><span class="tocnumber">8.3</span> <span class="toctext">La gestione degli eventi del mouse</span></a></li>
<li class="toclevel-2 tocsection-30"><a href="#Invocare_la_finestra"><span class="tocnumber">8.4</span> <span class="toctext">Invocare la finestra</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-31"><a href="#Esempio_completo_di_codice_Non_modale"><span class="tocnumber">9</span> <span class="toctext">Esempio completo di codice Non modale</span></a></li>
<li class="toclevel-1 tocsection-32"><a href="#Argomenti_aggiuntivi_vari"><span class="tocnumber">10</span> <span class="toctext">Argomenti aggiuntivi vari</span></a>
<ul>
<li class="toclevel-2 tocsection-33"><a href="#Dimensioni_dello_spazio_disponibile"><span class="tocnumber">10.1</span> <span class="toctext">Dimensioni dello spazio disponibile</span></a></li>
<li class="toclevel-2 tocsection-34"><a href="#Le_dimensioni_del_telaio_e_della_geometria"><span class="tocnumber">10.2</span> <span class="toctext">Le dimensioni del telaio e della geometria</span></a></li>
</ul>
</li>
</ul>
</div>
</div>
<p><span id="Introduction"></span>
</p>
<h2><span class="mw-headline" id="Introduzione">Introduzione</span></h2>
<p>Questa pagina contiene degli esempi di livello medio di gestione della GUI con <a href="PySide.html" title="PySide/it">PySide</a>. Gli <a href="PySide_Beginner_Examples.html" title="PySide Beginner Examples/it">Esempi di base di PySide</a> e gli <a href="PySide_Advanced_Examples.html" title="PySide Advanced Examples/it">Esempi di livello avanzato di PySide</a> sono contenuti nelle rispettive pagine. In questa pagina gli argomenti di PySide sono descritti utilizzando un programma come esempio. L'intenzione è quella di presentare dei codici PySide funzionanti, e consentire a chi ha bisogno di usare PySide di copiare la sezione utile, di modificarla e adattarla ai propri scopi.
</p><p><span id="Notes"></span>
</p>
<h3><span class="mw-headline" id="Note">Note</span></h3>
<ul><li>Questa pagina non è destinata a trattare il linguaggio Python o a fornire istruzioni su Python.</li>
<li>I nomi delle variabili non sono descrittivi, ma sono stati tenuti in sequenza per organizzare al meglio le spiegazioni.</li>
<li>Ci sono numerose convenzioni per i nomi dei componenti GUI, nessuno dei quali è mai "right" o "wrong"</li>
<li>C'è una serie di diverse sequenze di dichiarazioni per i widget, i segnali, i metodi, e ancora una volta nessuna è mai "right" o "wrong"</li>
<li>Vale la pena di ricordare che PySide opera con le stringhe quando tratta gli input dell'utente, e quello che appare sullo schermo come un numero è in realtà una rappresentazione testuale di un numero</li></ul>
<p><span id="Code_Based_Discussion_-_Declarative_Portion"></span>
</p>
<h2><span class="mw-headline" id="Discussione_del_codice_-_Parte_dichiarativa">Discussione del codice - Parte dichiarativa</span></h2>
<p>Questo "programma di esempio" è in realtà una grande definizione di classe, la definizione di una classe PySide GUI, e ha più di 150 righe di codice (inclusi i commenti). La classe e il suo comportamento non sono finalizzati a nulla, l'unico scopo è quello di dimostrare le azioni GUI possibili e di presentare un codice che si spera possa essere utilizzato da altri utenti di FreeCAD.
</p><p>La definizione di classe e le poche righe di codice richiamate sono descritti nell'ordine in cui si presentano nel file. Questo ordine si basa sulla disposizione degli elementi nella schermata ed è piuttosto arbitrario e destinato unicamente a dimostrare le caratteristiche. Questa è la schermata GUI modale generata dalla Classe PySide:
</p><p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/PySideScreenSnapshot3.jpg"><img decoding="async" height="372" src="../File/PySideScreenSnapshot3.jpg" width="400"/></a></span>
</p><p>La maggior parte del resto di questa sezione descrive il contenuto della Class definition che compare alla fine di questa sezione. Prima si descrivono gli elementi dichiarativi che definiscono il funzionamento delle cose e come viene assemblata la GUI, poi si descrivono le sezioni operative (cioè il codice che viene eseguito quando si verificano le interazioni degli utenti). Questa finestra è basata sulla classe QDialog e quindi è modale, questo significa che non si può fare nessuna attività al di fuori della finestra mentre essa è aperta.
</p><p><span id="Import_Statement"></span>
</p>
<h2><span class="mw-headline" id="La_dichiarazione_Import">La dichiarazione Import</span></h2>
<p>La dichiarazione di Import obbligatoria
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>
</pre></div>
<p>Questa riga è meglio posizionarla all'inizio del file Python.
</p><p><span id="Class_Definition"></span>
</p>
<h3><span class="mw-headline" id="La_definizione_della_classe">La definizione della classe</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">ExampleModalGuiClass</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDialog</span><span class="p">):</span>
	<span class="sd">""""""</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">ExampleModalGuiClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</pre></div>
<p>È bene copiare esattamente questo codice e poi modificarlo. In sostanza, con questo codice stiamo sotto-classificando la classe QMainWindow di PySide. Adattando questo codice forse si vuole anche cambiare il nome della classe "ExampleNonmodalGuiClass" con uno più significativo, accertarsi di cambiarlo in entrambe le posizioni (ad esempio, le righe 1 e 4).
</p><p><span id="Window_Return_Status"></span>
</p>
<h3><span class="mw-headline" id="Ripristinare_lo_stato_della_finestra">Ripristinare lo stato della finestra</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">userCancelled</span>
</pre></div>
<p>Questo non è obbligatorio, ma è piuttosto una buona pratica di programmazione, questo imposta lo stato di default di ripristino per la finestra che sarà disponibile indipendentemente dalle azioni dell'utente. Più avanti nel codice questo può essere modificato dal codice Python per indicare le diverse opzioni che l'utente può aver selezionato.
</p><p><span id="Window_Creation"></span>
</p>
<h3><span class="mw-headline" id="Creare_la_finestra">Creare la finestra</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># create our window</span>
<span class="c1"># define window		xLoc,yLoc,xDim,yDim</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span>	<span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">350</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">"Our Example Program Window"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WindowStaysOnTopHint</span><span class="p">)</span>
</pre></div>
<p>Ricordando che le dimensioni dello schermo sono misurate partendo dall'angolo in alto a sinistra, i valori della terza riga si riferiscono a:
</p>
<ul><li>numero di pixel dell'angolo in alto a sinistra, a destra del bordo sinistro dello schermo (250)</li>
<li>numero di pixel dell'angolo in alto a sinistra, sotto al bordo superiore dello schermo (250)</li>
<li>larghezza in pixel della finestra (400)</li>
<li>altezza in pixel della finestra (350)</li></ul>
<p>Dopo viene impostato il titolo della finestra e la riga finale significa semplicemente che questa finestra non sarà mai oscurata da un'altra finestra, se non si desidera questo, basta semplicemente inserire il carattere di commento Python ('#') come primo carattere della riga.
</p><p><span id="Label_Creation"></span>
</p>
<h3><span class="mw-headline" id="Creare_le_etichette">Creare le etichette</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># create some Labels</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"                       "</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="s1">'Courier'</span><span class="p">)</span> <span class="c1"># set to a non-proportional font</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"sample string number two"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label3</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"                        "</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="s1">'Courier'</span><span class="p">)</span> <span class="c1"># set to a non-proportional font</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">120</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label4</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"can you see this?"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">170</span><span class="p">)</span>
</pre></div>
<p>In PySide le etichette (label) servono a due scopi, per le etichette statiche (come suggerisce il nome), e per quelle di sola lettura (cioè di sola visualizzazione) dei campi di testo. Così possono essere comunicati all'utente sia le istruzioni immutabili come "Non premere il pulsante rosso", sia i risultati dei calcoli dinamici come "42". La riga 2 dichiara un'etichetta e imposta il suo valore iniziale (che in questo caso è vuoto). La riga 3 specifica il tipo di carattere. Si può specificare qualsiasi tipo di carattere  disponibile nel sistema, se il font non è specificato viene utilizzato quello di default. In questo caso il carattere viene specificato come non proporzionale. Infine l'etichetta viene spostata nella sua posizione della finestra - le sue coordinate specificano la sua posizione rispetto alla finestra, non allo schermo.
</p><p><span id="Checkbox_Creation"></span>
</p>
<h3><span class="mw-headline" id="Creare_una_casella_di_controllo">Creare una casella di controllo</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># checkboxes</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">(</span><span class="s2">"Left side"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCheckbox1</span><span class="p">)</span>
<span class="c1">#self.checkbox1.toggle() # will set an initial value if executed</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="c1">#</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">(</span><span class="s2">"Right side"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCheckbox2</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
</pre></div>
<p>Le caselle di controllo (Checkbox) possono essere selezionate o deselezionate in qualsiasi combinazione (a differenza dei pulsanti di opzione). La riga 2 ne dichiara una e imposta il suo valore iniziale. La riga 3 specifica quale metodo viene eseguito quando si clicca sulla casella di controllo (in questo caso il metodo 'onCheckBox1'). Se la riga 4 non non è stata commentata mettendo il carattere di commento Python ('#') come primo carattere, essa viene eseguita e segna la casella di controllo come selezionata. Infine la riga 5 sposta la casella di controllo nella sua posizione.
</p><p><span id="Radio_Button_Creation"></span>
</p>
<h3><span class="mw-headline" id="Creare_i_pulsanti_di_opzione">Creare i pulsanti di opzione</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># radio buttons</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">(</span><span class="s2">"random string one"</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onRadioButton1</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">60</span><span class="p">)</span>
<span class="c1">#</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">(</span><span class="s2">"owt gnirts modnar"</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onRadioButton2</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span>
</pre></div>
<p>La creazione dei pulsanti di opzione (radioButton) è molto simile alla creazione delle caselle di controllo. L'unica differenza è data dal comportamento dei pulsanti di opzione in quanto non possono essere selezionati contemporaneamente.
</p><p><span id="Pop-Up_Menu_Creation"></span>
</p>
<h3><span class="mw-headline" id="Creare_i_menu_a_scomparsa">Creare i menu a scomparsa</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># set up lists for pop-ups</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"pizza"</span><span class="p">,</span><span class="s2">"apples"</span><span class="p">,</span><span class="s2">"candy"</span><span class="p">,</span><span class="s2">"cake"</span><span class="p">,</span><span class="s2">"potatoes"</span><span class="p">)</span>
<span class="c1"># set up pop-up menu</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">"candy"</span><span class="p">))</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">activated</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopup1</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">115</span><span class="p">)</span>
</pre></div>
<p>Nella riga 2 è costruita la lista di quelle che saranno le scelte consentite agli utenti. Un'alternativa è quella di costruire un dizionario, ma di utilizzare solo i tasti per l'elenco del menu delle scelte. La riga 4 crea il menu pop-up (noto come un ComboBox in PySide), le opzioni utente sono aggiunte nella riga 5.
</p><p>Come nota a margine, se è stato utilizzato il dizionario le righe appaiono come queste:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span> <span class="o">=</span> <span class="n">OrderedDict</span><span class="p">([(</span><span class="s2">"2"</span><span class="p">,</span><span class="s2">"widget"</span><span class="p">),(</span><span class="s2">"pink"</span><span class="p">,</span><span class="s2">"foobar"</span><span class="p">),(</span><span class="s2">"4"</span><span class="p">,</span><span class="s2">"galopsis"</span><span class="p">)])</span>

<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
<p>Tornando al codice principale dell'esempio per questa sezione, la riga 6 imposta la scelta predefinita, questa riga può essere omessa, il valore della scelta di default può anche essere caricato nell'etichetta corrispondente. Infine la riga 8 stabilisce il posizionamento.
</p><p><span id="Button_Creation_Part_1"></span>
</p>
<h3><span class="mw-headline" id="Creare_i_pulsanti_-_Parte_1">Creare i pulsanti - Parte 1</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># toggle visibility button</span>
<span class="n">pushButton1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Toggle visibility'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="n">pushButton1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPushButton1</span><span class="p">)</span>
<span class="n">pushButton1</span><span class="o">.</span><span class="n">setAutoDefault</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">pushButton1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">165</span><span class="p">)</span>
</pre></div>
<p>Il pulsante (button) e il suo nome sono creati nella riga 2. Il gestore del segnale per sapere quando questo pulsante viene cliccato è specificato nella riga 3. La riga 4 impedisce che il pulsante diventi il 'pulsante di default' - il pulsante che viene cliccato se l'utente preme semplicemente il tasto <span style="background: #f9f9f9; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 1px solid #888888; border-radius: 0.3em; padding: 0px 5px 1px 5px;">Return</span>. Lo spostamento nella sua posizione conclude questo segmento di codice.
</p><p><span id="Button_Creation_Part_2"></span>
</p>
<h3><span class="mw-headline" id="Creare_i_pulsanti_-_Parte_2">Creare i pulsanti - Parte 2</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># cancel button</span>
<span class="n">cancelButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Cancel'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="n">cancelButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCancel</span><span class="p">)</span>
<span class="n">cancelButton</span><span class="o">.</span><span class="n">setAutoDefault</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">cancelButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>
<span class="c1"># OK button</span>
<span class="n">okButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'OK'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
<span class="n">okButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onOk</span><span class="p">)</span>
<span class="n">okButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">260</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>
</pre></div>
<p>Entrambi i pulsanti sono creati con un nome (che apparirà come loro etichetta), sono associati ad un metodo che viene eseguito quando sono cliccati, e sono posizionati. L'unica eccezione è la riga 4, che definisce il tasto 'Cancella' come il pulsante di default - che significa che sarà "cliccato" se l'utente preme il tasto <span style="background: #f9f9f9; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 1px solid #888888; border-radius: 0.3em; padding: 0px 5px 1px 5px;">Return</span>.
</p><p><span id="Text_Input_Creation"></span>
</p>
<h3><span class="mw-headline" id="Creare_un_campo_per_inserire_dei_testi">Creare un campo per inserire dei testi</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># text input field</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"cats &amp; dogs"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">190</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">220</span><span class="p">)</span>
</pre></div>
<p>Il QLineEdit è probabilmente il widget più comune per  consentire all'utente di inserire dei testi. Questa sezione di codice crea il campo (riga 2), imposta un valore iniziale (riga 3), imposta la lunghezza del campo (riga 4) e posiziona l'oggetto (riga 5). In questo esempio, la sezione di codice successiva crea un menù contestuale per operare su di esso.
</p><p><span id="QuantitySpinBox_Creation"></span>
</p>
<h3><span class="mw-headline" id="Creare_un_QuantitySpinBox">Creare un QuantitySpinBox</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># QuantitySpinBox</span>
<span class="kn">from</span> <span class="nn">FreeCAD</span> <span class="kn">import</span> <span class="n">Units</span>
<span class="n">ui</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">UiLoader</span><span class="p">()</span>
<span class="n">quantityInput</span> <span class="o">=</span> <span class="n">ui</span><span class="o">.</span><span class="n">createWidget</span><span class="p">(</span><span class="s2">"Gui::QuantitySpinBox"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">quantityInput</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span> <span class="s1">'minimum'</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="n">potential</span> <span class="o">=</span> <span class="mf">2.87</span>
<span class="n">unit</span> <span class="o">=</span> <span class="s2">"V"</span>
<span class="c1"># only set the value</span>
<span class="bp">self</span><span class="o">.</span><span class="n">quantityInput</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s1">'rawValue'</span><span class="p">,</span> <span class="n">potential</span> <span class="p">)</span>
<span class="c1"># set quantity (value + unit)</span>
<span class="n">quantity</span> <span class="o">=</span> <span class="n">Units</span><span class="o">.</span><span class="n">Quantity</span><span class="p">(</span><span class="s2">"</span><span class="si">{}</span><span class="s2"> </span><span class="si">{}</span><span class="s2">"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">potential</span> <span class="p">,</span> <span class="n">unit</span><span class="p">))</span>
<span class="bp">self</span><span class="o">.</span><span class="n">quantityInput</span><span class="o">.</span><span class="n">setProperty</span><span class="p">(</span><span class="s1">'value'</span><span class="p">,</span> <span class="n">quantity</span><span class="p">)</span>
<span class="c1"># read value from the spinbox</span>
<span class="n">quantity</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">quantityInput</span><span class="o">.</span><span class="n">property</span><span class="p">(</span><span class="s1">'value'</span><span class="p">)</span>
</pre></div>
<p>Il widget Gui::QuantitySpinBox è un FreeCAD-special, progettato per visualizzare e gestire i valori insieme alle loro <a href="Expressions.html#Unità" title="Expressions/it">unità</a>. Deriva dalla <a class="external text" href="https://doc.qt.io/qt-5/qabstractspinbox.html" rel="nofollow">classe QAbstractSpinBox</a> di Qt. Per tutte le sue proprietà vedere l'elenco nel file del codice sorgente <a class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Gui/QuantitySpinBox.h#L42" rel="nofollow">QuantitySpinBox.h</a>
</p><p><span id="Contextual_Menu_Creation"></span>
</p>
<h3><span class="mw-headline" id="Creare_un_menu_contestuale">Creare un menu contestuale</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># set contextual menu options for text editing widget</span>
<span class="c1"># set text field to some dogerel</span>
<span class="n">popMenuAction1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="n">popMenuAction1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"load some text"</span><span class="p">)</span>
<span class="n">popMenuAction1</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction1</span><span class="p">)</span>
<span class="c1"># make text uppercase</span>
<span class="n">popMenuAction2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="n">popMenuAction2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"uppercase"</span><span class="p">)</span>
<span class="n">popMenuAction2</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction2</span><span class="p">)</span>
<span class="c1"># menu dividers</span>
<span class="n">popMenuDivider</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="n">popMenuDivider</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">'---------'</span><span class="p">)</span>
<span class="n">popMenuDivider</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuDivider</span><span class="p">)</span>
<span class="c1"># remove all text</span>
<span class="n">popMenuAction3</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="n">popMenuAction3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"clear"</span><span class="p">)</span>
<span class="n">popMenuAction3</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction3</span><span class="p">)</span>
<span class="c1"># define menu and add options</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setContextMenuPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ActionsContextMenu</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction1</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction2</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuDivider</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction3</span><span class="p">)</span>
</pre></div>
<p>Siccome la stessa azione viene eseguita con diversi valori, questo codice ha numerose ripetizioni, ed è una parte di ciò che rende il codice GUI così lungo (non importa quale sistema). Prima viene creata una QAction - si tratta di un abbinamento (o collegamento) del testo che l'utente vede come opzione selezionabile con il metodo che viene eseguito quando l'opzione viene selezionata. Si tratta sostanzialmente di un abbinamento tra la scelta utente e una parte di codice. La riga 3 crea, la riga 4 definisce l'opzione dell'utente (come vedremo) e la riga 5 specifica quale pezzo di codice Python viene eseguito.
</p><p>Saltando alla riga 19 (la riga con "self.textInput.setContextMenuPolicy") viene creato un ActionsContextMenu, che è il titolare di tutti i singoli collegamenti di QAction tra la scelta dell'utente e il codice da eseguire. Ogni widget può avere un solo menu contestuale (ovvero il menu associato al tasto destro del mouse), perciò la riga 19 definisce tale menu. Le 4 righe successive aggiungono i collegamenti creati all'inizio di questa sezione di codice. L'ordine è significativo, l'utente vede le opzioni del menu nell'ordine in cui vengono aggiunte. Notare che l'opzione del menu 3 non è niente, il suo codice è nullo, ma nel menu contestuale serve a separare due gruppi di opzioni.
</p><p><span id="Numeric_Input_Creation"></span>
</p>
<h3><span class="mw-headline" id="Creare_un_campo_di_input_numerico">Creare un campo di input numerico</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># numeric input field</span>
<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setInputMask</span><span class="p">(</span><span class="s2">"999"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"000"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">220</span><span class="p">)</span>
</pre></div>
<p>La creazione del campo di input numerico è simile a quella per l'inserimento di testi vista in precedenza. Infatti il codice è identico ad eccezione delle righe 3 e 4. La riga 3 imposta la Mask (maschera) come definita da PySide, che in questo caso specifica fino a 3 cifre (che possono includere 0). Un elenco completo dei codici InputMask si trova in <a class="external text" href="http://doc.qt.io/qt-5/qlineedit.html#inputMask-prop" rel="nofollow">QLineEdit InputMask</a>
</p><p><span id="Window_Display"></span>
</p>
<h3><span class="mw-headline" id="Visualizzare_la_finestra">Visualizzare la finestra</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># now make the window visible</span>
<span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p>C'è una sola riga e provoca la visualizzazione della GUI dopo il setup.
</p><p><span id="Code_Based_Discussion_-_Operative_Portion"></span>
</p>
<h2><span class="mw-headline" id="Discussione_del_codice_-_Parte_operativa">Discussione del codice - Parte operativa</span></h2>
<p>Ora passiamo alla parte operativa della definizione della GUI, che è il codice che viene eseguito in risposta alle interazioni dell'utente con l'interfaccia grafica. L'ordine dei gruppi di dichiarazione non è molto rilevante - con l'avvertenza che le cose devono essere dichiarate prima di poter essere riferite. Alcuni mettono tutti i gestori di un certo tipo (ad esempio, i gestori dei pulsanti) in un gruppo, altri elencano i gestori in ordine alfabetico. Per specifiche applicazioni ci può essere un motivo correlato a un problema per raggruppare i gestori in un modo specifico.
</p><p>Vi è un elevato grado di somiglianza tra i gestori. La maggior parte non ricevono un parametro, il fatto che sono in esecuzione è davvero l'unico parametro (o segnale) che ottengono. Altri come "onPopup1" e "mousePressEvent" accettano un parametro.
</p><p>Ci deve essere una corrispondenza 1 a 1 tra i gestori indicati nella sezione dichiarativa e i gestori dichiarati in questa sezione, la sezione operativa. Ci possono essere dei gestori aggiuntivi dichiarati che non vengono mai invocati, ma non ce ne deve essere nessuno mancante.
</p><p><span id="Generic_Handler"></span>
</p>
<h3><span class="mw-headline" id="I_gestori_generici">I gestori generici</span></h3>
<p>In questo esempio di codice, dei gestori generici gestiscono i seguenti eventi:
</p>
<ul><li>onCheckbox1</li>
<li>onCheckbox2</li>
<li>onRadioButton1</li>
<li>onRadioButton2</li>
<li>onPushButton1</li>
<li>onPopMenuAction1</li>
<li>onPopMenuAction2</li>
<li>onPopMenuDivider</li>
<li>onPopMenuAction3</li>
<li>onCancel</li>
<li>onOk</li></ul>
<p>La forma generale per i gestori è:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">handlerName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
	<span class="n">lineOfCode1</span>
	<span class="n">lineOfCode2</span>
</pre></div>
<p>La prima riga ha la parola chiave "def" seguita dal nome del gestore. Il nome del gestore deve corrispondere esattamente al nome dato nella sezione dichiarativa precedente. Il parametro "self", le parentesi tonde e i due punti finali sono fanno parte della sintassi standard. Once the first line is finished then there are no requirements of the following code, it is purely application specific.
</p><p><span id="Pop-Up_Menu_Handler"></span>
</p>
<h3><span class="mw-headline" id="La_gestione_dei_menu_a_discesa">La gestione dei menu a discesa</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">onPopup1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selectedText</span><span class="p">):</span>
</pre></div>
<p>Il gestore dei menù Pop-Up è uguale al gestore generico con l'eccezione che viene passato un secondo parametro, il testo selezionato dall'utente. Ricordare che tutto quello che è testo in arrivo dal menu pop-up, anche se l'utente ha selezionato il numero 3, viene passato come stringa "3".
</p><p><span id="Mouse_Event_Handler"></span>
</p>
<h3><span class="mw-headline" id="La_gestione_degli_eventi_del_mouse">La gestione degli eventi del mouse</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
	<span class="c1"># print mouse position, X &amp; Y</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">"X = "</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">())</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">"Y = "</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
	<span class="c1">#</span>
	<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftButton</span><span class="p">:</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">"left mouse button"</span><span class="p">)</span>
	<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
</pre></div>
<p>Il gestore degli eventi del mouse è uguale al gestore generico con l'eccezione che viene passato un secondo parametro, l'evento del mouse da parte dell'utente, es clic del tasto sinistro o destro. Il nome del gestore , "mousePressEvent", è riservato e se viene modificato il gestore non riceve più l'evento dal mouse premuto.
</p><p>Le coordinate X e Y di posizione del mouse quando viene premuto sono date dai riferimenti "event.pos().x()" e "event.pos().y()". Le costanti "QtCore.Qt.LeftButton" e "QtCore.Qt.RightButton" vengono utilizzate per stabilire quale pulsante del mouse è stato premuto.
</p><p>Si può creare un riferimento a un widget con "self.widgetName.underMouse()", che restituisce <code>true</code> o <code>false</code> secondo se il cursore del mouse si trova sopra al widget "widgetName". Sebbene sia presentato nella stessa parte di codice il gestore "underMouse()" non è legato al gestore "mousePressEvent" e può essere utilizzato in qualsiasi momento.
</p><p><span id="Code_Based_Discussion_-_Main_Routine"></span>
</p>
<h2><span class="mw-headline" id="Discussione_del_codice_-_Parte_principale">Discussione del codice - Parte principale</span></h2>
<p>La maggior parte del codice si trova nella definizione della classe GUI, nella routine principale non ce nè molto.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># Constant definitions</span>
<span class="k">global</span> <span class="n">userCancelled</span><span class="p">,</span> <span class="n">userOK</span>
<span class="n">userCancelled</span> <span class="o">=</span> <span class="s2">"Cancelled"</span>
<span class="n">userOK</span> <span class="o">=</span> <span class="s2">"OK"</span>
</pre></div>
<p>Le righe 2,3 e 4 sono quelle che coordinano lo stato della interazione dell'utente con l'interfaccia grafica - ad esempio Annulla, OK, o qualsiasi altra definizione di stato dell'applicazione. Le routine del gestore On Cancel e OnOK precedenti imposta anche questi stati.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">form</span> <span class="o">=</span> <span class="n">ExampleGuiClass</span><span class="p">()</span>
<span class="n">form</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

<span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">result</span><span class="o">==</span><span class="n">userCancelled</span><span class="p">:</span>
	<span class="k">pass</span> <span class="c1"># steps to handle user clicking Cancel</span>
<span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">result</span><span class="o">==</span><span class="n">userOK</span><span class="p">:</span>
	<span class="c1"># steps to handle user clicking OK</span>
	<span class="n">localVariable1</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable2</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable3</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable4</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
</pre></div>
<p>Le righe 1 e 2 mostrano il metodo per invocare la GUI. Per un programma possono esserci più definizioni GUI e inoltre non è necessario che l'interfaccia grafica sia invocata come prima cosa nel file Python, essa può essere richiamata in qualsiasi momento. Il nome della classe GUI è specificato nella riga 1 (in questo caso è "ExampleGuiClass"), ma il resto delle 2 righe deve essere copiato alla lettera.
</p><p>Le righe 4 e 6 utilizzano il campo del risultato per determinare l'azione appropriata. Le ultime 4 righe mostrano semplicemente la copia dei dati nell'oggetto GUI per le variabili locali alla procedura principale di esecuzione.
</p><p><span id="Complete_Modal_Code_Example"></span>
</p>
<h2><span class="mw-headline" id="Esempio_completo_di_codice_Modale">Esempio completo di codice Modale</span></h2>
<p>Questo è il codice di esempio completo (sviluppato su FreeCAD v0.14):
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># import statements</span>
<span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>

<span class="c1"># UI Class definitions</span>

<span class="k">class</span> <span class="nc">ExampleModalGuiClass</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QDialog</span><span class="p">):</span>
	<span class="sd">""""""</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">ExampleModalGuiClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">userCancelled</span>
		<span class="c1"># create our window</span>
		<span class="c1"># define window		xLoc,yLoc,xDim,yDim</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span>	<span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">350</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">"Our Example Modal Program Window"</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WindowStaysOnTopHint</span><span class="p">)</span>
		<span class="c1"># create some Labels</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"                       "</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="s1">'Courier'</span><span class="p">)</span> <span class="c1"># set to a non-proportional font</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"sample string number two"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label3</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"                        "</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">setFont</span><span class="p">(</span><span class="s1">'Courier'</span><span class="p">)</span> <span class="c1"># set to a non-proportional font</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">120</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label4</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"can you see this?"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">170</span><span class="p">)</span>
		<span class="c1"># checkboxes</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">(</span><span class="s2">"Left side"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCheckbox1</span><span class="p">)</span>
		<span class="c1">#self.checkbox1.toggle() # will set an initial value if executed</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
		<span class="c1">#</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QCheckBox</span><span class="p">(</span><span class="s2">"Right side"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCheckbox2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">checkbox2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
		<span class="c1"># radio buttons</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">(</span><span class="s2">"random string one"</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onRadioButton1</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">60</span><span class="p">)</span>
		<span class="c1">#</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QRadioButton</span><span class="p">(</span><span class="s2">"owt gnirts modnar"</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onRadioButton2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span><span class="mi">80</span><span class="p">)</span>
		<span class="c1"># set up lists for pop-ups</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span> <span class="o">=</span> <span class="p">(</span><span class="s2">"pizza"</span><span class="p">,</span><span class="s2">"apples"</span><span class="p">,</span><span class="s2">"candy"</span><span class="p">,</span><span class="s2">"cake"</span><span class="p">,</span><span class="s2">"potatoes"</span><span class="p">)</span>
		<span class="c1"># set up pop-up menu</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QComboBox</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">addItems</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">popupItems1</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s2">"candy"</span><span class="p">))</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">activated</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopup1</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">popup1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">115</span><span class="p">)</span>
		<span class="c1"># toggle visibility button</span>
		<span class="n">pushButton1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Toggle visibility'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPushButton1</span><span class="p">)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">setAutoDefault</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">165</span><span class="p">)</span>
		<span class="c1"># text input field</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"cats &amp; dogs"</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">190</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">220</span><span class="p">)</span>
		<span class="c1"># set contextual menu options for text editing widget</span>
		<span class="c1"># set text field to some dogerel</span>
		<span class="n">popMenuAction1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">popMenuAction1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"load some text"</span><span class="p">)</span>
		<span class="n">popMenuAction1</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction1</span><span class="p">)</span>
		<span class="c1"># make text uppercase</span>
		<span class="n">popMenuAction2</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">popMenuAction2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"uppercase"</span><span class="p">)</span>
		<span class="n">popMenuAction2</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction2</span><span class="p">)</span>
		<span class="c1"># menu dividers</span>
		<span class="n">popMenuDivider</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">popMenuDivider</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">'---------'</span><span class="p">)</span>
		<span class="n">popMenuDivider</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuDivider</span><span class="p">)</span>
		<span class="c1"># remove all text</span>
		<span class="n">popMenuAction3</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QAction</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">popMenuAction3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"clear"</span><span class="p">)</span>
		<span class="n">popMenuAction3</span><span class="o">.</span><span class="n">triggered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPopMenuAction3</span><span class="p">)</span>
		<span class="c1"># define menu and add options</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setContextMenuPolicy</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">ActionsContextMenu</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction1</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuDivider</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">addAction</span><span class="p">(</span><span class="n">popMenuAction3</span><span class="p">)</span>
		<span class="c1"># numeric input field</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLineEdit</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setInputMask</span><span class="p">(</span><span class="s2">"999"</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"000"</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">setFixedWidth</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">numericInput</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">220</span><span class="p">)</span>
		<span class="c1"># cancel button</span>
		<span class="n">cancelButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Cancel'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCancel</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">setAutoDefault</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>
		<span class="c1"># OK button</span>
		<span class="n">okButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'OK'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">okButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onOk</span><span class="p">)</span>
		<span class="n">okButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">260</span><span class="p">,</span> <span class="mi">280</span><span class="p">)</span>
		<span class="c1"># now make the window visible</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
		<span class="c1">#</span>
	<span class="k">def</span> <span class="nf">onCheckbox1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">text</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">==</span><span class="s1">' '</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">'left'</span><span class="o">+</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">:])</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">'    '</span><span class="o">+</span><span class="n">text</span><span class="p">[</span><span class="mi">4</span><span class="p">:])</span>
	<span class="k">def</span> <span class="nf">onCheckbox2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">text</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">==</span><span class="s1">' '</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">+</span><span class="s1">'right'</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">text</span><span class="p">[:</span><span class="o">-</span><span class="mi">5</span><span class="p">]</span><span class="o">+</span><span class="s1">'     '</span><span class="p">)</span>
	<span class="k">def</span> <span class="nf">onRadioButton1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radioButton1</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
	<span class="k">def</span> <span class="nf">onRadioButton2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radioButton2</span><span class="o">.</span><span class="n">text</span><span class="p">())</span>
	<span class="k">def</span> <span class="nf">onPopup1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">selectedText</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">isspace</span><span class="p">():</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="n">selectedText</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">","</span><span class="o">+</span><span class="n">selectedText</span><span class="p">)</span>
	<span class="k">def</span> <span class="nf">onPushButton1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">onPopMenuAction1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="c1"># load some text into field</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"Lorem ipsum dolor sit amet"</span><span class="p">)</span>
	<span class="k">def</span> <span class="nf">onPopMenuAction2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="c1"># set text in field to uppercase</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">.</span><span class="n">upper</span><span class="p">())</span>
	<span class="k">def</span> <span class="nf">onPopMenuDivider</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="c1"># this option is the divider and is really there as a spacer on the menu list</span>
		<span class="c1"># consequently it has no functional code to execute if user selects it</span>
		<span class="k">pass</span>
	<span class="k">def</span> <span class="nf">onPopMenuAction3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="c1"># clear the text from the field</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s1">''</span><span class="p">)</span>
	<span class="k">def</span> <span class="nf">onCancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span>			<span class="o">=</span> <span class="n">userCancelled</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">onOk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span>			<span class="o">=</span> <span class="n">userOK</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
		<span class="c1"># print mouse position, X &amp; Y</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">"X = "</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span><span class="o">.</span><span class="n">x</span><span class="p">())</span>
		<span class="nb">print</span><span class="p">(</span><span class="s2">"Y = "</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
		<span class="c1">#</span>
		<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftButton</span><span class="p">:</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"left mouse button"</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">underMouse</span><span class="p">():</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"over the text '"</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">textInput</span><span class="o">.</span><span class="n">text</span><span class="p">()</span><span class="o">+</span><span class="s2">"'"</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">button</span><span class="p">()</span> <span class="o">==</span> <span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightButton</span><span class="p">:</span>
			<span class="nb">print</span><span class="p">(</span><span class="s2">"right mouse button"</span><span class="p">)</span>
<span class="c1"># Class definitions</span>

<span class="c1"># Function definitions</span>

<span class="c1"># Constant definitions</span>
<span class="n">userCancelled</span> <span class="o">=</span> <span class="s2">"Cancelled"</span>
<span class="n">userOK</span> <span class="o">=</span> <span class="s2">"OK"</span>

<span class="c1"># code ***********************************************************************************</span>

<span class="n">form</span> <span class="o">=</span> <span class="n">ExampleModalGuiClass</span><span class="p">()</span>
<span class="n">form</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>

<span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">result</span><span class="o">==</span><span class="n">userCancelled</span><span class="p">:</span>
	<span class="k">pass</span> <span class="c1"># steps to handle user clicking Cancel</span>
<span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">result</span><span class="o">==</span><span class="n">userOK</span><span class="p">:</span>
	<span class="c1"># steps to handle user clicking OK</span>
	<span class="n">localVariable1</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label1</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable2</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label2</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable3</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label3</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
	<span class="n">localVariable4</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">text</span><span class="p">()</span>
<span class="c1">#</span>
<span class="c1">#OS: Mac OS X</span>
<span class="c1">#Word size: 64-bit</span>
<span class="c1">#Version: 0.14.3703 (Git)</span>
<span class="c1">#Branch: releases/FreeCAD-0-14</span>
<span class="c1">#Hash: c6edd47334a3e6f209e493773093db2b9b4f0e40</span>
<span class="c1">#Python version: 2.7.5</span>
<span class="c1">#Qt version: 4.8.6</span>
<span class="c1">#Coin version: 3.1.3</span>
<span class="c1">#SoQt version: 1.5.0</span>
<span class="c1">#OCC version: 6.7.0</span>
<span class="c1">#</span>
</pre></div>
<p>Il modo migliore di utilizzare questo codice è quello di copiarlo in un editor o in un file macro di FreeCAD e poi provarlo.
</p><p><span id="Code_Based_Discussion_-_Nonmodal_Code_Example"></span>
</p>
<h2><span class="mw-headline" id="Discussione_del_codice_-_Esempio_di_codice_non_modale">Discussione del codice - Esempio di codice non modale</span></h2>
<p>Tutti i singoli widget dell'esempio di finestra modale precedente possono essere trasferiti e utilizzati in una finestra non modale. La differenza principale è che la finestra non modale non impedisce all'utente di interagire con altre finestre. Fondamentalmente, una finestra non modale è una finestra che può essere aperta e lasciata aperta per tutto il tempo necessario senza che essa ponga delle restrizioni sulle altre finestre dell'applicazione. Tra i due tipi di finestre ci sono poche differenze di codice, che saranno evidenziate, quindi questo esempio di codice è abbastanza breve. Tutto ciò che è uguale al precedente esempio modale sarà omesso per mantenere breve questa panoramica. Questa è la schermata GUI non modale generata dalla Classe PySide:
</p><p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/PySideScreenSnapshot4.jpg"><img decoding="async" height="172" src="../File/PySideScreenSnapshot4.jpg" width="400"/></a></span>
</p><p><span id="Import_Statement"></span>
</p>
<h2><span class="mw-headline" id="La_dichiarazione_Import_2">La dichiarazione Import</span></h2>
<p>La dichiarazione Import obbligatoria
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>
</pre></div>
<p>Questa riga è meglio posizionarla all'inizio del file Python.
</p><p><span id="Class_Definition"></span>
</p>
<h3><span class="mw-headline" id="La_definizione_della_classe_2">La definizione della classe</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">ExampleNonmodalGuiClass</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">):</span>
	<span class="sd">""""""</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">ExampleNonmodalGuiClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</pre></div>
<p>È bene copiare esattamente questo codice e poi modificarlo. In sostanza, con questo codice stiamo sotto-classificando la classe QMainWindow di PySide. Adattando questo codice forse si vuole anche cambiare il nome della classe "ExampleNonmodalGuiClass" con uno più significativo, accertarsi di cambiarlo in entrambe le posizioni (ad esempio, le righe 1 e 4).
</p><p><span id="Window_Creation"></span>
</p>
<h3><span class="mw-headline" id="Creare_la_finestra_2">Creare la finestra</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># create our window</span>
<span class="c1"># define window	xLoc,yLoc,xDim,yDim</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span>	<span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">"Our Example Nonmodal Program Window"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WindowStaysOnTopHint</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
<p>Ovviamente le dimensioni della nostra finestra e il titolo sono diversi. La cosa principale da notare è l'ultima riga che permette a PySide di sapere in tempo reale che cosa inviare come eventi di posizione del mouse. Notare che questi eventi non sono inviati quando il mouse si trova sopra un widget, ad esempio su un pulsante, dato che il widget cattura gli eventi.
</p><p><span id="Mouse_Move_Event_Handler"></span>
</p>
<h3><span class="mw-headline" id="La_gestione_degli_eventi_del_mouse_2">La gestione degli eventi del mouse</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">def</span> <span class="nf">mouseMoveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
	<span class="bp">self</span><span class="o">.</span><span class="n">label6</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"X: "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="p">())</span> <span class="o">+</span> <span class="s2">" Y: "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">()))</span>
</pre></div>
<p>Questo gestore riceve gli eventi di spostamento del mouse (Mouse Move) e ne visualizza la forma formattata. Provare cosa succede quando si trova sopra ai widget o all'esterno della finestra.
</p><p><span id="Invoking_the_Window"></span>
</p>
<h3><span class="mw-headline" id="Invocare_la_finestra">Invocare la finestra</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">form</span> <span class="o">=</span> <span class="n">ExampleNonmodalGuiClass</span><span class="p">()</span>
</pre></div>
<p>Richiamare la finestra è un'altra area di differenza dall'esempio precedente. Questa volta per invocare la GUI basta la riga 1.
</p><p><span id="Complete_Nonmodal_Code_Example"></span>
</p>
<h2><span class="mw-headline" id="Esempio_completo_di_codice_Non_modale">Esempio completo di codice Non modale</span></h2>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span><span class="p">,</span> <span class="n">QtCore</span>

<span class="c1"># UI Class definitions</span>

<span class="k">class</span> <span class="nc">ExampleNonmodalGuiClass</span><span class="p">(</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">):</span>
	<span class="sd">""""""</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">(</span><span class="n">ExampleNonmodalGuiClass</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">initUI</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">initUI</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">userCancelled</span>
		<span class="c1"># create our window</span>
		<span class="c1"># define window		xLoc,yLoc,xDim,yDim</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span>	<span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s2">"Our Example Nonmodal Program Window"</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">WindowStaysOnTopHint</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="c1"># create Labels</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label4</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"can you see this?"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label5</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"Mouse position:"</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label5</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label6</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QLabel</span><span class="p">(</span><span class="s2">"               "</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label6</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">135</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
		<span class="c1"># toggle visibility button</span>
		<span class="n">pushButton1</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Toggle visibility'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onPushButton1</span><span class="p">)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">setMinimumWidth</span><span class="p">(</span><span class="mi">150</span><span class="p">)</span>
		<span class="c1">#pushButton1.setAutoDefault(False)</span>
		<span class="n">pushButton1</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">210</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
		<span class="c1"># cancel button</span>
		<span class="n">cancelButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'Cancel'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onCancel</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">setAutoDefault</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="n">cancelButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">150</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
		<span class="c1"># OK button</span>
		<span class="n">okButton</span> <span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s1">'OK'</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>
		<span class="n">okButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onOk</span><span class="p">)</span>
		<span class="n">okButton</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="mi">260</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>
		<span class="c1"># now make the window visible</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
		<span class="c1">#</span>
	<span class="k">def</span> <span class="nf">onPushButton1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">isVisible</span><span class="p">():</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">hide</span><span class="p">()</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">label4</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">onCancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span>			<span class="o">=</span> <span class="n">userCancelled</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">onOk</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">result</span>			<span class="o">=</span> <span class="n">userOK</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
	<span class="k">def</span> <span class="nf">mouseMoveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">event</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">label6</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">"X: "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">x</span><span class="p">())</span> <span class="o">+</span> <span class="s2">" Y: "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">y</span><span class="p">()))</span>
<span class="c1"># Class definitions</span>

<span class="c1"># Function definitions</span>

<span class="c1"># Constant definitions</span>
<span class="k">global</span> <span class="n">userCancelled</span><span class="p">,</span> <span class="n">userOK</span>
<span class="n">userCancelled</span>		<span class="o">=</span> <span class="s2">"Cancelled"</span>
<span class="n">userOK</span>			<span class="o">=</span> <span class="s2">"OK"</span>

<span class="c1"># code ***********************************************************************************</span>

<span class="n">form</span> <span class="o">=</span> <span class="n">ExampleNonmodalGuiClass</span><span class="p">()</span>
<span class="c1">#</span>
<span class="c1">#OS: Mac OS X</span>
<span class="c1">#Word size: 64-bit</span>
<span class="c1">#Version: 0.14.3703 (Git)</span>
<span class="c1">#Branch: releases/FreeCAD-0-14</span>
<span class="c1">#Hash: c6edd47334a3e6f209e493773093db2b9b4f0e40</span>
<span class="c1">#Python version: 2.7.5</span>
<span class="c1">#Qt version: 4.8.6</span>
<span class="c1">#Coin version: 3.1.3</span>
<span class="c1">#SoQt version: 1.5.0</span>
<span class="c1">#OCC version: 6.7.0</span>
</pre></div>
<p><span id="Misc_Additional_Topics"></span>
</p>
<h2><span class="mw-headline" id="Argomenti_aggiuntivi_vari">Argomenti aggiuntivi vari</span></h2>
<p>In merito alla gestione dello spazio sullo schermo in un ambiente GUI ci sono 3 concetti :
</p>
<ul><li>lo spazio fisico dello schermo</li>
<li>il telaio (frame)</li>
<li>la geometria (geometry)</li></ul>
<p>All'interno del software tutto è misurato in pixel. PySide ha una funzione per misurare in unità del mondo reale, ma dato che i produttori non hanno degli standard per la dimensione dei pixel e per le proporzioni, queste misure sono inaffidabili.
</p><p>Il telaio (Frame) è la dimensione di una finestra comprese le sue barre laterali, la barra superiore (eventualmente con un menu in essa) e la barra inferiore. La geometria (Geometry) è lo spazio contenuto all'interno del telaio e quindi è sempre inferiore o uguale al telaio. A sua volta il telaio è sempre inferiore o uguale alla dimensione dello schermo disponibile.
</p><p><span id="Available_Screen_Size"></span>
</p>
<h3><span class="mw-headline" id="Dimensioni_dello_spazio_disponibile">Dimensioni dello spazio disponibile</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># get screen dimensions (Available Screen Size)</span>
<span class="n">screenWidth</span>		<span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDesktopWidget</span><span class="p">()</span><span class="o">.</span><span class="n">screenGeometry</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
<span class="n">screenHeight</span>		<span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDesktopWidget</span><span class="p">()</span><span class="o">.</span><span class="n">screenGeometry</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
<span class="c1"># get dimensions for available space on screen</span>
<span class="n">availableWidth</span>		<span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDesktopWidget</span><span class="p">()</span><span class="o">.</span><span class="n">availableGeometry</span><span class="p">()</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
<span class="n">availableHeight</span>		<span class="o">=</span> <span class="n">QtGui</span><span class="o">.</span><span class="n">QDesktopWidget</span><span class="p">()</span><span class="o">.</span><span class="n">availableGeometry</span><span class="p">()</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
</pre></div>
<p>Generalmente "availableHeight" deve essere inferiore a "ScreenHeight" di un valore pari all'altezza della barra dei menu. Questi 4 valori sono basati sull'ambiente hardware e cambiano da computer a computer. Essi non dipendono da nessuna delle dimensioni della finestra dell'applicazione.
</p><p>(A partire da Python 3.9 questo avviso appare quando viene eseguito il codice precedente: <b>DeprecationWarning: QDesktopWidget.screenGeometry(int screen) const is deprecated</b>. Sembra che sia necessaria una sostituzione da Python 3.10 in poi.)
</p><p><span id="Frame_Size_and_Geometry"></span>
</p>
<h3><span class="mw-headline" id="Le_dimensioni_del_telaio_e_della_geometria">Le dimensioni del telaio e della geometria</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># set up a variable to hold the Main Window to save some typing...</span>
<span class="n">mainWin</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Gui</span><span class="o">.</span><span class="n">getMainWindow</span><span class="p">()</span>

<span class="n">mainWin</span><span class="o">.</span><span class="n">showFullScreen</span><span class="p">()</span> <span class="c1"># no menu bars, every last pixel is given over to FreeCAD</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameSize</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameGeometry</span><span class="p">()</span>

<span class="n">mainWin</span><span class="o">.</span><span class="n">showMaximized</span><span class="p">()</span> <span class="c1"># show maximised within the screen, window edges and the menu bar will be displayed</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameSize</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameGeometry</span><span class="p">()</span>

<span class="n">mainWin</span><span class="o">.</span><span class="n">showNormal</span><span class="p">()</span> <span class="c1"># show at the last non-maximised or non-minimised size (and location)</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameSize</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameGeometry</span><span class="p">()</span>

<span class="n">mainWin</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">800</span><span class="p">,</span> <span class="mi">800</span><span class="p">)</span> <span class="c1"># specifically set FreeCAD main window's size and location, this will become the new setting for 'showNormal()'</span>

<span class="n">mainWin</span><span class="o">.</span><span class="n">showMinimized</span><span class="p">()</span> <span class="c1"># FreeCAD will disappear from view after this command...</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameSize</span><span class="p">()</span>
<span class="n">mainWin</span><span class="o">.</span><span class="n">frameGeometry</span><span class="p">()</span>
</pre></div>
<p>Questi stessi comandi possono essere eseguiti anche su una finestra generata dall'utente, la sintassi non cambia.
</p><p><br/>
</p>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" srcset="/images/thumb/8/8f/Power_user_hub.png/36px-Power_user_hub.png 1.5x, /images/thumb/8/8f/Power_user_hub.png/48px-Power_user_hub.png 2x" width="24"/></a></span> <a href="Power_users_hub.html" title="Power users hub/it">Power user documentation</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>FreeCAD scripting:</b> <a href="Python.html" title="Python/it">Python</a>, <a href="Introduction_to_Python.html" title="Introduction to Python/it">Introduction to Python</a>, <a href="Python_scripting_tutorial.html" title="Python scripting tutorial/it">Python scripting tutorial</a>, <a href="FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/it">FreeCAD Scripting Basics</a></li></ul>
<hr/>
<ul><li><b>Modules:</b> <a href="Builtin_modules.html" title="Builtin modules/it">Builtin modules</a>, <a href="Units.html" title="Units/it">Units</a>, <a href="Quantity.html" title="Quantity/it">Quantity</a></li>
<li><b>Workbenches:</b> <a href="Workbench_creation.html" title="Workbench creation/it">Workbench creation</a>, <a href="Gui_Command.html" title="Gui Command/it">Gui Commands</a>, <a href="Command.html" title="Command/it">Commands</a>, <a href="Installing_more_workbenches.html" title="Installing more workbenches/it">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="Mesh_Scripting.html" title="Mesh Scripting/it">Mesh Scripting</a>, <a href="Topological_data_scripting.html" title="Topological data scripting/it">Topological data scripting</a>, <a href="Mesh_to_Part.html" title="Mesh to Part/it">Mesh to Part</a>, <a href="PythonOCC.html" title="PythonOCC/it">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Parametric objects:</b> <a href="Scripted_objects.html" title="Scripted objects/it">Scripted objects</a>, <a href="Viewprovider.html" title="Viewprovider/it">Viewproviders</a> <small>(<a href="Custom_icon_in_tree_view.html" title="Custom icon in tree view/it">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a href="Scenegraph.html" title="Scenegraph/it">Coin (Inventor) scenegraph</a>, <a href="Pivy.html" title="Pivy/it">Pivy</a></li>
<li><b>Graphical interface:</b> <a href="Interface_creation.html" title="Interface creation/it">Interface creation</a>, <a href="Dialog_creation.html" title="Dialog creation/it">Interface creation completely in Python</a> <small>(<a href="Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets/it">1</a>, <a href="Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files/it">2</a>, <a href="Dialog_creation_setting_colors.html" title="Dialog creation setting colors/it">3</a>, <a href="Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF/it">4</a>, <a href="PySide_usage_snippets.html" title="PySide usage snippets/it">5</a>)</small>, <a href="PySide.html" title="PySide/it">PySide</a>, PySide examples <a href="PySide_Beginner_Examples.html" title="PySide Beginner Examples/it">beginner</a>, <a class="mw-selflink selflink">intermediate</a>, <a href="PySide_Advanced_Examples.html" title="PySide Advanced Examples/it">advanced</a></li>
<li><b>Macros:</b> <a href="Macros.html" title="Macros/it">Macros</a>, <a href="How_to_install_macros.html" title="How to install macros/it">How to install macros</a></li>
<li><b>Embedding:</b> <a href="Embedding_FreeCAD.html" title="Embedding FreeCAD/it">Embedding FreeCAD</a>, <a href="Embedding_FreeCADGui.html" title="Embedding FreeCADGui/it">Embedding FreeCADGui</a></li></ul>
<hr/>
<ul><li><b>Other:</b> <a href="Expressions.html" title="Expressions/it">Expressions</a>, <a href="Code_snippets.html" title="Code snippets/it">Code snippets</a>, <a href="Line_drawing_function.html" title="Line drawing function/it">Line drawing function</a>, <a href="FreeCAD_vector_math_library.html" title="FreeCAD vector math library/it">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr/>
<ul><li><b>Hubs:</b> <a href="User_hub.html" title="User hub/it">User hub</a>, <a href="Power_users_hub.html" title="Power users hub/it">Power users hub</a>, <a href="Developer_hub.html" title="Developer hub/it">Developer hub</a></li></ul></div>
</div></div>
<!-- 
NewPP limit report
Cached time: 20241129210740
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.224 seconds
Real time usage: 3.262 seconds
Preprocessor visited node count: 621/1000000
Post‐expand include size: 9217/2097152 bytes
Template argument size: 18041/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 30/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 89689/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00% 3069.210      1 -total
 99.62% 3057.540     30 Template:Code
  0.13%    3.949      1 Template:Powerdocnavi/it
  0.06%    1.918      1 Template:Navigation_menu_2
  0.03%    0.976      2 Template:KEY
  0.03%    0.938      1 Template:TRUE
  0.02%    0.764      1 Template:TOCright
  0.02%    0.641      1 Template:FALSE
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:56870-0!canonical and timestamp 20241129210736 and revision id 1279677. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
