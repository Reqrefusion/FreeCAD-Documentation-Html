<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Scenegraph/pt</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="id" title="Scenegraph (5% translated)">Bahasa Indonesia</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Scenegraph.html" lang="de" title="Szenengraph (100% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Scenegraph.html" lang="en" title="Scenegraph (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="tr" title="Scenegraph (5% translated)">Türkçe</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="es" title="Scenegraph (5% translated)">español</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Scenegraph.html" lang="fr" title="Graphe de scène (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Scenegraph.html" lang="it" title="Grafo della Scena (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Scenegraph.html" lang="pl" title="Scenogram (100% translated)">polski</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--stub" dir="ltr" lang="pt">português</span></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="pt-BR" title="Grafo de cena (10% translated)">português do Brasil</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="ro" title="Descrierea scenelor 3D (5% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="sv" title="Scenegraph (5% translated)">svenska</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="cs" title="Scenegraph/cs (0% translated)">čeština</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="Scenegraph.html" lang="ru" title="Граф сцены (35% translated)">русский</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="Scripted_objects.html" title="Scripted objects">Scripted objects</a></div>
<div style="margin: 4px 0; float: right;"><a href="Pivy.html" title="Pivy">Pivy</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="Online_Help_Toc.html" title="Online Help Toc/pt">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Description"><span class="tocnumber">2</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Coding_examples"><span class="tocnumber">3</span> <span class="toctext">Coding examples</span></a></li>
</ul>
</div>
</div>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>The geometry that appears in the <a href="3D_view.html" title="3D view">3D views</a> of FreeCAD is rendered by the <a class="external text" href="https://en.wikipedia.org/wiki/Coin3D" rel="nofollow">Coin3D</a> library. Coin3D is an implementation of the <a class="external text" href="https://en.wikipedia.org/wiki/Open_Inventor" rel="nofollow">Open Inventor</a> standard. The <a class="external text" href="https://en.wikipedia.org/wiki/Open_Cascade_Technology" rel="nofollow">OpenCASCADE</a> software also provides the same functionality, but it was decided at the very early stages of FreeCAD not to use the built-in OpenCASCADE viewer, but rather switch to the more performant Coin3D software. A good way to learn about that library is the book <a class="external text" href="http://www-evasion.imag.fr/Membres/Francois.Faure/doc/inventorMentor/sgi_html/" rel="nofollow">Open Inventor Mentor</a>.
</p>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p><a class="external text" href="https://en.wikipedia.org/wiki/Open_Inventor" rel="nofollow">Open Inventor</a> is a 3D scene description language. The scene described in Open Inventor is then rendered in OpenGL on your screen. Coin3D takes care of doing this, so programmers do not need to deal with complex OpenGL calls, and may just provide valid Open Inventor code. The big advantage is that Open Inventor is a very well-known and well documented standard.
</p><p>One of the big jobs FreeCAD does for you is translating OpenCASCADE geometry information into Open Inventor language.
</p><p>Open Inventor describes a 3D scene in the form of a <a class="external text" href="https://en.wikipedia.org/wiki/Scene_graph" rel="nofollow">scene graph</a>, like the one below:
</p><p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Scenegraph.gif"><img decoding="async" height="444" src="../File/Scenegraph.gif" width="422"/></a></span>
</p>
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;">Image taken from <a class="external text" href="https://web.archive.org/web/20190807185912/http://www-evasion.imag.fr/~Francois.Faure/doc/inventorMentor/sgi_html/" rel="nofollow">Inventor mentor</a></p>
<p>An Open Inventor scenegraph describes everything that is part of a 3D scene, such as geometry, colors, materials, lights, etc, and organizes all that data in a convenient and clear structure. Everything can be grouped into sub-structures, allowing you to organize your scene contents pretty much the way you like. Here is an example of an Open Inventor file:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">#Inventor V2.0 ascii</span>
 
Separator <span class="o">{</span> 
    RotationXYZ <span class="o">{</span>	
       axis Z
       angle <span class="m">0</span>
    <span class="o">}</span>
    Transform <span class="o">{</span>
       translation <span class="m">0</span> <span class="m">0</span> <span class="m">0</span>.5
    <span class="o">}</span>
    Separator <span class="o">{</span>	
       Material <span class="o">{</span>
          diffuseColor <span class="m">0</span>.05 <span class="m">0</span>.05 <span class="m">0</span>.05
       <span class="o">}</span>
       Transform <span class="o">{</span>
          rotation <span class="m">1</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span>.5708
          scaleFactor <span class="m">0</span>.2 <span class="m">0</span>.5 <span class="m">0</span>.2
       <span class="o">}</span>
       Cylinder <span class="o">{</span>
       <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
<p>As you can see, the structure is very simple. You use separators to organize your data into blocks, a bit like you would organize your files into folders. Each statement affects what comes next, for example the first two items of our root separator are a rotation and a translation, both will affect the next item, which is a separator. In that separator a material is defined and another transformation. Our cylinder will therefore be affected by both transformations, the one applied directly to it and the one that was applied to its parent separator.
</p><p>We also have many other types of elements to organize our scene, such as groups, switches or annotations. We can define very complex materials for our objects, with colors, textures, shading modes and transparency. We can also define lights, cameras, and even movement. It is even possible to embed pieces of scripting in Open Inventor files to define more complex behaviors.
</p><p>If you are interested in learning more about Open Inventor head directly to its most famous reference: the <a class="external text" href="http://www-evasion.imag.fr/~Francois.Faure/doc/inventorMentor/sgi_html/" rel="nofollow">Inventor mentor</a>.
</p><p>In FreeCAD, normally, we don't need to interact directly with the Open Inventor scenegraph. Every object in a FreeCAD document, being a mesh, a part shape or anything else, gets automatically converted to Open Inventor code and inserted in the main scenegraph that you see in a <a href="3D_view.html" title="3D view">3D view</a>. That scenegraph gets updated continuously when you modify, add or remove objects. In fact every object (in App space) has a view provider (a corresponding object in Gui space) responsible for issuing Open Inventor code.
</p><p>But there are many advantages to being able to access the scenegraph directly. For example, we can temporarily change the appearance of an object, or we can add objects to the scene that have no real existence in the FreeCAD document, such as construction geometry, helpers, graphical hints or tools such as manipulators or on-screen information.
</p><p>FreeCAD itself features several tools to see or modify Open Inventor code. For example, the following Python code will show the Open Inventor representation of a selected object:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">obj</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ActiveObject</span>
<span class="n">viewprovider</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">ViewObject</span>
<span class="nb">print</span> <span class="n">viewprovider</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span>
</pre></div>
<p>But we also have a Python module that allows complete access to anything managed by Coin3D, such as our FreeCAD scenegraph. So, read on to <a href="Pivy.html" title="Pivy">Pivy</a>.
</p>
<h2><span class="mw-headline" id="Coding_examples">Coding examples</span></h2>
<p>See <a href="Coin3d_snippets.html" title="Coin3d snippets">Coin3d snippets</a> courtesy of MariwanJ's research for the <a href="Design456_Workbench.html" title="Design456 Workbench">Design456 Workbench</a>. The code repository can be found at <a class="external free" href="https://github.com/MariwanJ/COIN3D_Snippet" rel="nofollow">https://github.com/MariwanJ/COIN3D_Snippet</a>.
</p>
<p><a href="#top">Top</a></p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="Scripted_objects.html" title="Scripted objects">Scripted objects</a></div>
<div style="margin: 4px 0; float: right;"><a href="Pivy.html" title="Pivy">Pivy</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="Online_Help_Toc.html" title="Online Help Toc/pt">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" srcset="/images/thumb/8/8f/Power_user_hub.png/36px-Power_user_hub.png 1.5x, /images/thumb/8/8f/Power_user_hub.png/48px-Power_user_hub.png 2x" width="24"/></a></span> <a href="Power_users_hub.html" title="Power users hub/pt">Power user documentation</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>FreeCAD scripting:</b> <a class="new" href="index.php?title=Python_pt&amp;action=edit&amp;redlink=1.html" title="Python/pt (page does not exist)">Python</a>, <a href="Introduction_to_Python.html" title="Introduction to Python/pt">Introduction to Python</a>, <a href="Python_scripting_tutorial.html" title="Python scripting tutorial/pt">Python scripting tutorial</a>, <a href="FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/pt">FreeCAD Scripting Basics</a></li></ul>
<hr/>
<ul><li><b>Modules:</b> <a class="new" href="index.php?title=Builtin_modules_pt&amp;action=edit&amp;redlink=1.html" title="Builtin modules/pt (page does not exist)">Builtin modules</a>, <a class="new" href="index.php?title=Units_pt&amp;action=edit&amp;redlink=1.html" title="Units/pt (page does not exist)">Units</a>, <a class="new" href="index.php?title=Quantity_pt&amp;action=edit&amp;redlink=1.html" title="Quantity/pt (page does not exist)">Quantity</a></li>
<li><b>Workbenches:</b> <a class="new" href="index.php?title=Workbench_creation_pt&amp;action=edit&amp;redlink=1.html" title="Workbench creation/pt (page does not exist)">Workbench creation</a>, <a href="Gui_Command.html" title="Gui Command/pt">Gui Commands</a>, <a class="new" href="index.php?title=Command_pt&amp;action=edit&amp;redlink=1.html" title="Command/pt (page does not exist)">Commands</a>, <a class="new" href="index.php?title=Installing_more_workbenches_pt&amp;action=edit&amp;redlink=1.html" title="Installing more workbenches/pt (page does not exist)">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a class="new" href="index.php?title=Mesh_Scripting_pt&amp;action=edit&amp;redlink=1.html" title="Mesh Scripting/pt (page does not exist)">Mesh Scripting</a>, <a href="Topological_data_scripting.html" title="Topological data scripting/pt">Topological data scripting</a>, <a class="new" href="index.php?title=Mesh_to_Part_pt&amp;action=edit&amp;redlink=1.html" title="Mesh to Part/pt (page does not exist)">Mesh to Part</a>, <a class="new" href="index.php?title=PythonOCC_pt&amp;action=edit&amp;redlink=1.html" title="PythonOCC/pt (page does not exist)">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Parametric objects:</b> <a href="Scripted_objects.html" title="Scripted objects/pt">Scripted objects</a>, <a class="new" href="index.php?title=Viewprovider_pt&amp;action=edit&amp;redlink=1.html" title="Viewprovider/pt (page does not exist)">Viewproviders</a> <small>(<a class="new" href="index.php?title=Custom_icon_in_tree_view_pt&amp;action=edit&amp;redlink=1.html" title="Custom icon in tree view/pt (page does not exist)">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a class="mw-selflink selflink">Coin (Inventor) scenegraph</a>, <a class="new" href="index.php?title=Pivy_pt&amp;action=edit&amp;redlink=1.html" title="Pivy/pt (page does not exist)">Pivy</a></li>
<li><b>Graphical interface:</b> <a class="new" href="index.php?title=Interface_creation_pt&amp;action=edit&amp;redlink=1.html" title="Interface creation/pt (page does not exist)">Interface creation</a>, <a class="new" href="index.php?title=Dialog_creation_pt&amp;action=edit&amp;redlink=1.html" title="Dialog creation/pt (page does not exist)">Interface creation completely in Python</a> <small>(<a class="new" href="index.php?title=Dialog_creation_with_various_widgets_pt&amp;action=edit&amp;redlink=1.html" title="Dialog creation with various widgets/pt (page does not exist)">1</a>, <a class="new" href="index.php?title=Dialog_creation_reading_and_writing_files_pt&amp;action=edit&amp;redlink=1.html" title="Dialog creation reading and writing files/pt (page does not exist)">2</a>, <a class="new" href="index.php?title=Dialog_creation_setting_colors_pt&amp;action=edit&amp;redlink=1.html" title="Dialog creation setting colors/pt (page does not exist)">3</a>, <a class="new" href="index.php?title=Dialog_creation_image_and_animated_GIF_pt&amp;action=edit&amp;redlink=1.html" title="Dialog creation image and animated GIF/pt (page does not exist)">4</a>, <a class="new" href="index.php?title=PySide_usage_snippets_pt&amp;action=edit&amp;redlink=1.html" title="PySide usage snippets/pt (page does not exist)">5</a>)</small>, <a href="PySide.html" title="PySide/pt">PySide</a>, PySide examples <a class="new" href="index.php?title=PySide_Beginner_Examples_pt&amp;action=edit&amp;redlink=1.html" title="PySide Beginner Examples/pt (page does not exist)">beginner</a>, <a class="new" href="index.php?title=PySide_Intermediate_Examples_pt&amp;action=edit&amp;redlink=1.html" title="PySide Intermediate Examples/pt (page does not exist)">intermediate</a>, <a class="new" href="index.php?title=PySide_Advanced_Examples_pt&amp;action=edit&amp;redlink=1.html" title="PySide Advanced Examples/pt (page does not exist)">advanced</a></li>
<li><b>Macros:</b> <a href="Macros.html" title="Macros/pt">Macros</a>, <a class="new" href="index.php?title=How_to_install_macros_pt&amp;action=edit&amp;redlink=1.html" title="How to install macros/pt (page does not exist)">How to install macros</a></li>
<li><b>Embedding:</b> <a href="Embedding_FreeCAD.html" title="Embedding FreeCAD/pt">Embedding FreeCAD</a>, <a class="new" href="index.php?title=Embedding_FreeCADGui_pt&amp;action=edit&amp;redlink=1.html" title="Embedding FreeCADGui/pt (page does not exist)">Embedding FreeCADGui</a></li></ul>
<hr/>
<ul><li><b>Other:</b> <a class="new" href="index.php?title=Expressions_pt&amp;action=edit&amp;redlink=1.html" title="Expressions/pt (page does not exist)">Expressions</a>, <a class="new" href="index.php?title=Code_snippets_pt&amp;action=edit&amp;redlink=1.html" title="Code snippets/pt (page does not exist)">Code snippets</a>, <a class="new" href="index.php?title=Line_drawing_function_pt&amp;action=edit&amp;redlink=1.html" title="Line drawing function/pt (page does not exist)">Line drawing function</a>, <a class="new" href="index.php?title=FreeCAD_vector_math_library_pt&amp;action=edit&amp;redlink=1.html" title="FreeCAD vector math library/pt (page does not exist)">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr/>
<ul><li><b>Hubs:</b> <a href="User_hub.html" title="User hub/pt">User hub</a>, <a href="Power_users_hub.html" title="Power users hub/pt">Power users hub</a>, <a href="Developer_hub.html" title="Developer hub/pt">Developer hub</a></li></ul></div>
</div></div>
<!-- 
NewPP limit report
Cached time: 20241129213152
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.091 seconds
Real time usage: 0.145 seconds
Preprocessor visited node count: 191/1000000
Post‐expand include size: 8400/2097152 bytes
Template argument size: 2966/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 2/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4111/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   12.729      1 -total
 46.38%    5.904      1 Template:Powerdocnavi/pt
 14.51%    1.847      1 Template:Navigation_menu_2
 14.19%    1.806      2 Template:Docnav
 13.98%    1.779      2 Template:Code
  8.30%    1.056      1 Template:Top
  6.56%    0.835      1 Template:Caption
  5.52%    0.703      1 Template:TOCright
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:66201-0!canonical and timestamp 20241129213152 and revision id 1207339. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
