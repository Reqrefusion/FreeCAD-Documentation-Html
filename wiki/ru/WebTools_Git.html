<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">WebTools Git/ru</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="WebTools_Git.html" lang="de" title="WebWerkzeuge Git (69% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="WebTools_Git.html" lang="en" title="WebTools Git (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="WebTools_Git.html" lang="es" title="HerramientasWeb Git (62% translated)">español</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="WebTools_Git.html" lang="fr" title="WebTools Git (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="WebTools_Git.html" lang="it" title="Arch Git (31% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="WebTools_Git.html" lang="pl" title="Narzędzia Web Git (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="WebTools_Git.html" lang="ro" title="Arch: Git (31% translated)">română</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--stub" dir="ltr" lang="ru">русский</span></li></ul></div>
<div class="mw-translate-fuzzy">
<table class="fcinfobox wikitable ct" style="float: right; width: 230px; margin-left: 1em" width="100%">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="32" src="../File/WebTools_Git.svg" width="32"/></span></span><span> </span>Arch Git‏‎
</p>
</td></tr>
<tr>
<th class="ctOdd">Расположение в меню
</th></tr>
<tr>
<td class="ctEven">Архитектура → Утилиты → Commit with Git
</td></tr>
<tr>
<th class="ctOdd">Верстаки
</th></tr>
<tr>
<td class="ctEven"><a href="Arch_Workbench.html" title="Arch Workbench/ru">Arch</a>
</td></tr>
<tr>
<th class="ctOdd">Быстрые клавиши
</th></tr>
<tr>
<td class="ctEven">‏‎
</td></tr>
<tr>
<th class="ctOdd">Представлено в версии
</th></tr>
<tr>
<td class="ctEven">-
</td></tr>
<tr>
<th class="ctOdd">См. также
</th></tr>
<tr>
<td class="ctEven"><i>Нет</i>
</td></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Описание"><span class="tocnumber">1</span> <span class="toctext">Описание</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Применение"><span class="tocnumber">2</span> <span class="toctext">Применение</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Options"><span class="tocnumber">3</span> <span class="toctext">Options</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Limitations"><span class="tocnumber">4</span> <span class="toctext">Limitations</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Enabling_human-readable_diffs_for_FCStd_files_with_the_fcinfo_utility"><span class="tocnumber">5</span> <span class="toctext">Enabling human-readable diffs for FCStd files with the fcinfo utility</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Using_fcinfo_on_a_single_Git_repository"><span class="tocnumber">5.1</span> <span class="toctext">Using fcinfo on a single Git repository</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Enabling_fcinfo_globally"><span class="tocnumber">5.2</span> <span class="toctext">Enabling fcinfo globally</span></a></li>
</ul>
</li>
</ul>
</div>
</td></tr></tbody></table>
</div>
<div id="itsfree" style="text-align:center;color:black;background:#FDE0A8;margin:1em 7em;padding:0.5em 2em;border:2px solid #FF5706;">Starting from FreeCAD v0.17, this tool has been removed from the Arch Workbench and is now part of the external <a href="WebTools_Workbench.html" title="WebTools Workbench">WebTools Workbench</a> that you can install via menu Tools → <span typeof="mw:File"><a class="mw-file-description" href="../File/AddonManager.svg"><img decoding="async" height="24" src="../File/AddonManager.svg" width="24"/></a></span> <a href="Std_AddonMgr.html" title="Std AddonMgr">Addon manager</a>.
</div>
<p><span id="Description"></span>
</p>
<h2><span id=".D0.9E.D0.BF.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Описание">Описание</span></h2>
<p>Этот инструмент позволяет вам управлять документом используя <a class="external text" href="https://ru.wikipedia.org/wiki/Git_%28software%29" rel="nofollow">Git</a>. Git является мощной системой контроля версий, которая может управлять разными версиями и отслеживать изменения
</p><p>Git довольно сложный инструмент, вам лучше изучить его основы, перед использованием этого инструмента, чтобы избежать потерь данных. Всеобъемлющая литература о Git легко находится в интернете.
</p><p><b>Необходимое условие:</b> Чтобы иметь возможность пользоваться данным инструментом, пакет <a class="external text" href="https://github.com/gitpython-developers/GitPython" rel="nofollow">gitpython</a> должен быть установлен в вашей системе. В большинстве linux дистрибутивов, gitpython есть в стандартном репозитории под названием <i>gitpython</i> или <i>python-git</i>.
</p><p><span id="Usage"></span>
</p>
<h2><span id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Применение">Применение</span></h2>
<ol><li>Make sure the <a href="Report_view.html" title="Report view">Report view</a> is open since Git messages will be printed there.</li>
<li>Save the current active document making sure the saved file is inside an existing git repository. It can be in a subdirectory.</li>
<li>Select menu <b>Web Tools → <span typeof="mw:File"><a class="mw-file-description" href="../File/WebTools_Git.svg"><img decoding="async" height="16" src="../File/WebTools_Git.svg" width="16"/></a></span> <a href="WebTools_Git.html" title="WebTools Git">Git</a></b></li>
<li>This opens up a <a href="Task_panel.html" title="Task panel">Task panel</a> in the <a href="Combo_view.html" title="Combo view">Combo view</a>.</li></ol>
<h2><span class="mw-headline" id="Options">Options</span></h2>
<figure class="mw-default-size" typeof="mw:File/Thumb"><a class="mw-file-description" href="../File/Arch_Git_panel.jpg"><img decoding="async" height="667" src="../File/Arch_Git_panel.jpg" width="259"/></a><figcaption>Tasks tab showing Git interface</figcaption></figure>
<ul><li>The <b>Log</b> button will pop up a dialog showing the most recent log entries. The output corresponds to <code>git log</code>.</li>
<li>The <b>Refresh</b> button will re-scan the repository for changed files. After saving your work you have to do a manual refresh.</li>
<li>The <b>Diff</b> button will show the differences between the current version of a selected file and the most recent version stored in the repository. The output corresponds to <code>git diff</code>.
<ul><li>By default a binary diff is made, you have to set up the <code>fcinfo</code> tool for textual diffing.</li></ul></li>
<li>The <b>Select all</b> button will select all files to be committed.</li>
<li>The <b>Commit</b> button will commit the selected files. Be sure to write a commit message that describes the changes you are committing.</li>
<li>The <b>Pull</b> button will <b>download</b>  any new changes to the repository from the selected remote. If the file currently opened in FreeCAD is being modified by a pull, a warning message will inform you so you can either save the file again or save it elsewhere.</li>
<li>The <b>Push</b> button will <b>upload</b>  your latest commit(s) to the selected remote.</li></ul>
<h2><span class="mw-headline" id="Limitations">Limitations</span></h2>
<ul><li>The tool cannot create new repositories yet. You must have an existing local repository already created. (FreeCAD will check if the current document file is inside a Git repository.)</li>
<li>The tool cannot change or create branches. You must do that manually with standard Git tools.</li></ul>
<h2><span class="mw-headline" id="Enabling_human-readable_diffs_for_FCStd_files_with_the_fcinfo_utility">Enabling human-readable diffs for FCStd files with the fcinfo utility</span></h2>
<p>FreeCAD's <a href="File_Format_FCStd.html" title="File Format FCStd">FCStd file format</a> is a zip-based binary format, for which Git cannot produce proper diffs. This means that you cannot see what has changed between one version and another, and also that each new version stored in the Git repository is a full copy of the file.
</p><p>Although the second problem currently has no solution, the first one can be solved with a little tool available from the FreeCAD source code, called <a class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Tools/fcinfo" rel="nofollow">fcinfo</a>.  Git can be told to use the fcinfo utility to print a human-friendly report of a FCStd file, and, when asked to produce a diff between two FCStd files, will produce a diff between the two fcinfo reports instead. Please note that this is only visual feedback,  a full copy of the file will still be stored internally.
</p><p>Example of a diff produced with fcinfo:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">diff</span> <span class="o">--</span><span class="n">git</span> <span class="n">a</span><span class="o">/</span><span class="n">testhouse</span><span class="o">.</span><span class="n">FcStd</span> <span class="n">b</span><span class="o">/</span><span class="n">testhouse</span><span class="o">.</span><span class="n">FcStd</span>
<span class="n">index</span> <span class="mi">08077</span><span class="n">b6</span><span class="o">.</span><span class="mf">.985</span><span class="n">b1d8</span> <span class="mi">100644</span>
<span class="o">---</span> <span class="n">a</span><span class="o">/</span><span class="n">testhouse</span><span class="o">.</span><span class="n">FcStd</span>
<span class="o">+++</span> <span class="n">b</span><span class="o">/</span><span class="n">testhouse</span><span class="o">.</span><span class="n">FcStd</span>
<span class="o">@@</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">26</span> <span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">25</span> <span class="o">@@</span>
<span class="o">-</span><span class="n">Document</span><span class="p">:</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="mi">43</span><span class="n">un09_testhouse</span><span class="o">.</span><span class="n">FcStd</span> <span class="p">(</span><span class="mi">442</span><span class="n">K</span><span class="p">)</span>
<span class="o">-</span>   <span class="n">SHA1</span><span class="p">:</span> <span class="mi">67</span><span class="n">c1985a45d93cba57d5bf44490897aba460100d</span>
<span class="o">+</span><span class="n">Document</span><span class="p">:</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">zfXoDd_testhouse</span><span class="o">.</span><span class="n">FcStd</span> <span class="p">(</span><span class="mi">370</span><span class="n">K</span><span class="p">)</span>
<span class="o">+</span>   <span class="n">SHA1</span><span class="p">:</span> <span class="n">db1cb5fca18af7bfdca849028f40550df4d845cb</span>
    <span class="n">Comment</span> <span class="p">:</span> <span class="n">This</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">test</span> <span class="n">house</span> <span class="n">to</span> <span class="n">showcase</span> <span class="n">FreeCAD</span><span class="s1">'s BIM worflow and IFC export capabilities</span>
    <span class="n">Company</span> <span class="p">:</span> <span class="n">uncreated</span><span class="o">.</span><span class="n">net</span>
    <span class="n">CreatedBy</span> <span class="p">:</span> <span class="n">Yorik</span> <span class="n">van</span> <span class="n">Havre</span>
    <span class="n">CreationDate</span> <span class="p">:</span> <span class="n">Fri</span> <span class="n">May</span>  <span class="mi">9</span> <span class="mi">12</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">54</span> <span class="mi">2014</span> 
    <span class="n">FileVersion</span> <span class="p">:</span> <span class="mi">1</span>
    <span class="n">Id</span> <span class="p">:</span> 
<span class="o">-</span>   <span class="n">Label</span> <span class="p">:</span> <span class="n">testhouse</span>
<span class="o">-</span>   <span class="n">LastModifiedBy</span> <span class="p">:</span> <span class="n">Yorik</span> <span class="n">van</span> <span class="n">Havre</span>
<span class="o">-</span>   <span class="n">LastModifiedDate</span> <span class="p">:</span> <span class="mi">2016</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">28</span><span class="n">T17</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">57</span><span class="o">-</span><span class="mi">03</span><span class="p">:</span><span class="mi">00</span>
<span class="o">+</span>   <span class="n">Label</span> <span class="p">:</span> <span class="n">testhouse2</span>
<span class="o">+</span>   <span class="n">LastModifiedBy</span> <span class="p">:</span> <span class="n">Yorik</span> <span class="n">van</span> <span class="n">Havre</span>
<span class="o">+</span>   <span class="n">LastModifiedDate</span> <span class="p">:</span> <span class="n">Sat</span> <span class="n">Sep</span> <span class="mi">13</span> <span class="mi">20</span><span class="p">:</span><span class="mi">46</span><span class="p">:</span><span class="mi">36</span> <span class="mi">2014</span>
<span class="o">+</span>
    <span class="n">License</span> <span class="p">:</span> <span class="n">CC</span><span class="o">-</span><span class="n">BY</span> <span class="mf">3.0</span>
    <span class="n">LicenseURL</span> <span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">creativecommons</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">licenses</span><span class="o">/</span><span class="n">by</span><span class="o">/</span><span class="mf">3.0</span><span class="o">/</span>
<span class="o">-</span>   <span class="n">ProgramVersion</span> <span class="p">:</span> <span class="mf">0.17</span><span class="n">R7800</span> <span class="p">(</span><span class="n">Git</span><span class="p">)</span>
<span class="o">-</span>   <span class="n">TipName</span> <span class="p">:</span> 
<span class="o">+</span>   <span class="n">ProgramVersion</span> <span class="p">:</span> <span class="mf">0.15</span><span class="n">R3989</span> <span class="p">(</span><span class="n">Git</span><span class="p">)</span>
    <span class="n">Uid</span> <span class="p">:</span> <span class="mf">67e62</span><span class="n">d8a</span><span class="o">-</span><span class="mi">6674</span><span class="o">-</span><span class="mi">4358</span><span class="o">-</span><span class="mi">92</span><span class="n">fe</span><span class="o">-</span><span class="mi">615443</span><span class="n">be887a</span>
<span class="o">-</span>   <span class="n">Objects</span><span class="p">:</span> <span class="p">(</span><span class="mi">231</span><span class="p">)</span>
<span class="o">+</span>   <span class="n">Objects</span><span class="p">:</span> <span class="p">(</span><span class="mi">221</span><span class="p">)</span>
        <span class="n">Annotation</span> <span class="p">:</span> <span class="n">Drawing</span><span class="p">::</span><span class="n">FeatureViewAnnotation</span>
        <span class="n">Annotation001</span> <span class="p">:</span> <span class="n">Drawing</span><span class="p">::</span><span class="n">FeatureViewAnnotation</span>
        <span class="n">Annotation002</span> <span class="p">:</span> <span class="n">Drawing</span><span class="p">::</span><span class="n">FeatureViewAnnotation</span>
        <span class="n">Annotation003</span> <span class="p">:</span> <span class="n">Drawing</span><span class="p">::</span><span class="n">FeatureViewAnnotation</span>
<span class="o">-</span>       <span class="n">Annotation004</span> <span class="p">:</span> <span class="n">Drawing</span><span class="p">::</span><span class="n">FeatureViewAnnotation</span>
<span class="o">-</span>       <span class="n">Annotation005</span> <span class="p">:</span> <span class="n">Drawing</span><span class="p">::</span><span class="n">FeatureViewAnnotation</span>
        <span class="n">Array</span> <span class="p">:</span> <span class="n">Part</span><span class="p">::</span><span class="n">FeaturePython</span> <span class="p">(</span><span class="mi">9</span><span class="n">K</span><span class="p">)</span>
        <span class="n">Box</span> <span class="p">:</span> <span class="n">Part</span><span class="p">::</span><span class="n">Box</span> <span class="p">(</span><span class="mi">2</span><span class="n">K</span><span class="p">)</span>
        <span class="n">Building</span> <span class="p">:</span> <span class="n">App</span><span class="p">::</span><span class="n">DocumentObjectGroupPython</span>
<span class="o">@@</span> <span class="o">-</span><span class="mi">110</span><span class="p">,</span><span class="mi">7</span> <span class="o">+</span><span class="mi">109</span><span class="p">,</span><span class="mi">7</span> <span class="o">@@</span> <span class="n">Document</span><span class="p">:</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="mi">43</span><span class="n">un09_testhouse</span><span class="o">.</span><span class="n">FcStd</span> <span class="p">(</span><span class="mi">442</span><span class="n">K</span><span class="p">)</span>
        <span class="n">Floor</span> <span class="p">:</span> <span class="n">App</span><span class="p">::</span><span class="n">DocumentObjectGroupPython</span>
        <span class="n">Floor001</span> <span class="p">:</span> <span class="n">App</span><span class="p">::</span><span class="n">DocumentObjectGroupPython</span>
        <span class="n">Floor002</span> <span class="p">:</span> <span class="n">App</span><span class="p">::</span><span class="n">DocumentObjectGroupPython</span>
<span class="o">-</span>       <span class="n">Frame</span> <span class="p">:</span> <span class="n">Part</span><span class="p">::</span><span class="n">FeaturePython</span> <span class="p">(</span><span class="mi">89</span><span class="n">K</span><span class="p">)</span>
</pre></div>
<p>Each FreeCAD file contains a SHA1 checksum number, which will change each time the file is saved, even if no contents was changed. So fcinfo will always print something, no matter of the contents changes.
</p><p>To enable the use of fcinfo (Linux and Mac only - TODO: add Windows instructions)
</p>
<h3><span class="mw-headline" id="Using_fcinfo_on_a_single_Git_repository">Using fcinfo on a single Git repository</span></h3>
<p>These are the steps to enable the use of fcinfo tool in a repository basis.
</p>
<ul><li>Save the fcinfo file somewhere in your system path.</li></ul>
<dl><dd>Note: Since 2023-12-09, on Arch Linux systems the <code>fcinfo</code> script is included on <code>freecad</code> package, <a class="external text" href="https://gitlab.archlinux.org/archlinux/packaging/packages/freecad/-/commit/4419bfbfdb670abebd7f2e6ed93194e819781f7d" rel="nofollow">patch here</a>.</dd></dl>
<ul><li>Make it executable.</li></ul>
<dl><dd>Note: Since 2023-12-09, on Arch Linux systems the <code>fcinfo</code> is available at <code>/usr/bin/fcinfo</code>.</dd></dl>
<ul><li>Create a <code>.gitattributes</code> file in your Git repository and add the following line in it:</li></ul>
<dl><dd><div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>*.FCStd diff=fcinfo
</pre></div></dd></dl>
<ul><li>Add the following lines to the <code>.gitconfig</code> file in your home directory:</li></ul>
<dl><dd><div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>[diff "fcinfo"]
textconv = /path/to/fcinfo
</pre></div></dd></dl>
<ul><li>Alternatively, if you want to invoke fcinfo with arguments (e.g., <code>--gui</code>) use <a class="external text" href="https://stackoverflow.com/questions/55601430/how-to-pass-a-filename-argument-gitconfig-diff-textconv" rel="nofollow">this approach</a>:</li></ul>
<dl><dd><div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>[diff "fcinfo"]
textconv = sh -c '/path/to/fcinfo --gui "$0"'XD
</pre></div></dd></dl>
<p>Note that if you are working in a collaborative project you may want to include the fcinfo tool in your repository, in that case the path is relative to your Git repository root directory.
</p>
<h3><span class="mw-headline" id="Enabling_fcinfo_globally">Enabling fcinfo globally</span></h3>
<p>If you are working on many projects that need fcinfo tool you can enable it globally for your user.
</p>
<ul><li>Create a <code>$HOME/.config/git/attributes</code> file and add the following line on it:</li></ul>
<dl><dd><div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>*.FCStd diff=fcinfo
</pre></div></dd></dl>
<ul><li>Add the following lines to the <code>$HOME/.config/git/config</code> file:
<ul><li>It's equivalent command is <code>git config --global diff.fcinfo.textconv "/path/to/fcinfo"</code>.</li>
<li>Arch Linux users using <code>freecad</code> package can use <code>{{{1}}}</code> since it's already installed on their system.</li></ul></li></ul>
<dl><dd><div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>[diff "fcinfo"]
textconv = /path/to/fcinfo
</pre></div></dd></dl>
<p>Note that any configuration made in a repository basis overrides global configurations.
</p>
<!-- 
NewPP limit report
Cached time: 20241129212122
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.062 seconds
Real time usage: 0.077 seconds
Preprocessor visited node count: 251/1000000
Post‐expand include size: 2484/2097152 bytes
Template argument size: 2677/2097152 bytes
Highest expansion depth: 6/100
Expensive parser function count: 7/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 12008/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    7.154      1 -total
 27.34%    1.956      6 Template:Code
 26.57%    1.901      1 Template:GuiCommand/ru
 12.80%    0.916     15 Template:Incode
 10.37%    0.742      1 Template:VeryImportantMessage
  7.80%    0.558      1 Template:MenuCommand
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:72068-0!canonical and timestamp 20241129212122 and revision id 1365089. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
