<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Compile on Linux/ru</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../de\Compile_on_Linux.html" lang="de" title="Kompilieren unter Linux (89% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Compile_on_Linux.html" lang="en" title="Compile on Linux (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="../es\Compile_on_Linux.html" lang="es" title="Compilar en Linux (75% translated)">español</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../fr\Compile_on_Linux.html" lang="fr" title="Compiler sous Linux (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../it\Compile_on_Linux.html" lang="it" title="Compilazione in Linux (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../pl\Compile_on_Linux.html" lang="pl" title="Kompilacja w systemie Linux (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../pt\Compile_on_Linux.html" lang="pt" title="Compile on Linux/pt (0% translated)">português</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../pt-br\Compile_on_Linux.html" lang="pt-BR" title="Compilar no Linux (83% translated)">português do Brasil</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../ro\Compile_on_Linux.html" lang="ro" title="Compile on Linux/ro (0% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../cs\Compile_on_Linux.html" lang="cs" title="Compile on Linux/cs (0% translated)">čeština</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../bg\Compile_on_Linux.html" lang="bg" title="Compile on Linux/bg (0% translated)">български</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--high" dir="ltr" lang="ru">русский</span></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../ko\Compile_on_Linux.html" lang="ko" title="Compile on Linux/ko (0% translated)">한국어</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../ru\Compile_on_Windows.html" title="Compile on Windows/ru">Компиляция в Windows</a></div>
<div style="margin: 4px 0; float: right;"><a href="../ru\Compile_on_MacOS.html" title="Compile on MacOS/ru">Компиляция в MacOS</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../ru\Online_Help_Toc.html" title="Online Help Toc/ru">Оглавление</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div id="itsfree" style="text-align:center;color:black;background:#FDE0A8;margin:1em 7em;padding:0.5em 2em;border:2px solid #FF5706;">Существует экспериментальный контейнер FreeCAD Docker, который протестирован для разработки FreeCAD. Подробнее на странице <a href="../ru\Compile_on_Docker.html" title="Compile on Docker/ru">Компиляция в Docker</a></div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Обзор"><span class="tocnumber">1</span> <span class="toctext">Обзор</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Получение_исходных_кодов"><span class="tocnumber">2</span> <span class="toctext">Получение исходных кодов</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Git"><span class="tocnumber">2.1</span> <span class="toctext">Git</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#Установка_зависимостей_(Dependencies)"><span class="tocnumber">3</span> <span class="toctext">Установка зависимостей (Dependencies)</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Debian_и_Ubuntu"><span class="tocnumber">3.1</span> <span class="toctext">Debian и Ubuntu</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Python_2_и_Qt4"><span class="tocnumber">3.1.1</span> <span class="toctext">Python 2 и Qt4</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Python_3_и_Qt5"><span class="tocnumber">3.1.2</span> <span class="toctext">Python 3 и Qt5</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#Ядро_OpenCascade"><span class="tocnumber">3.1.3</span> <span class="toctext">Ядро OpenCascade</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#Необязательные_к_установке_пакеты"><span class="tocnumber">3.1.4</span> <span class="toctext">Необязательные к установке пакеты</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Устаовка_Python_3_и_Qt5_одной_командой"><span class="tocnumber">3.1.5</span> <span class="toctext">Устаовка Python 3 и Qt5 одной командой</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Установка_Python_2_и_Qt4_одной_коммандой"><span class="tocnumber">3.1.6</span> <span class="toctext">Установка Python 2 и Qt4 одной коммандой</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="#Raspberry_Pi"><span class="tocnumber">3.2</span> <span class="toctext">Raspberry Pi</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Fedora"><span class="tocnumber">3.3</span> <span class="toctext">Fedora</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="#Fedora38/39"><span class="tocnumber">3.3.1</span> <span class="toctext">Fedora38/39</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="#Gentoo"><span class="tocnumber">3.4</span> <span class="toctext">Gentoo</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#openSUSE"><span class="tocnumber">3.5</span> <span class="toctext">openSUSE</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="#Tumbleweed"><span class="tocnumber">3.5.1</span> <span class="toctext">Tumbleweed</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="#Leap"><span class="tocnumber">3.5.2</span> <span class="toctext">Leap</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-19"><a href="#Arch_Linux"><span class="tocnumber">3.6</span> <span class="toctext">Arch Linux</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Более_старые_и_нетрадиционные_дистрибутивы"><span class="tocnumber">3.7</span> <span class="toctext">Более старые и нетрадиционные дистрибутивы</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#Pivy"><span class="tocnumber">3.8</span> <span class="toctext">Pivy</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Отладочные_символы"><span class="tocnumber">3.9</span> <span class="toctext">Отладочные символы</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="#Сборка_FreeCAD"><span class="tocnumber">4</span> <span class="toctext">Сборка FreeCAD</span></a>
<ul>
<li class="toclevel-2 tocsection-24"><a href="#Сборка_вне_папки_исходников"><span class="tocnumber">4.1</span> <span class="toctext">Сборка вне папки исходников</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Resolving_cmake_issues"><span class="tocnumber">4.2</span> <span class="toctext">Resolving cmake issues</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Compiling_against_GNU_libc_2.34_and_later"><span class="tocnumber">4.3</span> <span class="toctext">Compiling against GNU libc 2.34 and later</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Как_восстановить_папку_с_исходными_кодами"><span class="tocnumber">4.4</span> <span class="toctext">Как восстановить папку с исходными кодами</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Конфигурирование"><span class="tocnumber">4.5</span> <span class="toctext">Конфигурирование</span></a>
<ul>
<li class="toclevel-3 tocsection-29"><a href="#Для_Debug_сборки"><span class="tocnumber">4.5.1</span> <span class="toctext">Для Debug сборки</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#Для_Release_сборки"><span class="tocnumber">4.5.2</span> <span class="toctext">Для Release сборки</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="#Сборка_на_основе_Python_3_и_Qt5"><span class="tocnumber">4.5.3</span> <span class="toctext">Сборка на основе Python 3 и Qt5</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#Сборка_с_применением_особых_версий_Python"><span class="tocnumber">4.5.4</span> <span class="toctext">Сборка с применением особых версий Python</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="#Сборка_в_Qt_Creator_на_основе_Python_3_и_Qt5"><span class="tocnumber">4.5.5</span> <span class="toctext">Сборка в Qt Creator на основе Python 3 и Qt5</span></a></li>
<li class="toclevel-3 tocsection-34"><a href="#Плагин_Qt_designer"><span class="tocnumber">4.5.6</span> <span class="toctext">Плагин Qt designer</span></a></li>
<li class="toclevel-3 tocsection-35"><a href="#Внешний_или_встроенный_Pivy"><span class="tocnumber">4.5.7</span> <span class="toctext">Внешний или встроенный Pivy</span></a></li>
<li class="toclevel-3 tocsection-36"><a href="#Документирование_посредством_Doxygen"><span class="tocnumber">4.5.8</span> <span class="toctext">Документирование посредством Doxygen</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-37"><a href="#Дополнительная_документация"><span class="tocnumber">4.6</span> <span class="toctext">Дополнительная документация</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Создание_пакета_debian"><span class="tocnumber">4.7</span> <span class="toctext">Создание пакета debian</span></a>
<ul>
<li class="toclevel-3 tocsection-39"><a href="#*.deb_package_with_checkinstall"><span class="tocnumber">4.7.1</span> <span class="toctext">*.deb package with checkinstall</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-40"><a href="#Обновление_исходного_кода"><span class="tocnumber">5</span> <span class="toctext">Обновление исходного кода</span></a></li>
<li class="toclevel-1 tocsection-41"><a href="#Uninstalling_the_source_code"><span class="tocnumber">6</span> <span class="toctext">Uninstalling the source code</span></a></li>
<li class="toclevel-1 tocsection-42"><a href="#Разрешение_проблем"><span class="tocnumber">7</span> <span class="toctext">Разрешение проблем</span></a>
<ul>
<li class="toclevel-2 tocsection-43"><a href="#Примечание_для_64-битных_систем"><span class="tocnumber">7.1</span> <span class="toctext">Примечание для 64-битных систем</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-44"><a href="#Скрипты_автоматической_компиляции"><span class="tocnumber">8</span> <span class="toctext">Скрипты автоматической компиляции</span></a>
<ul>
<li class="toclevel-2 tocsection-45"><a href="#Ubuntu"><span class="tocnumber">8.1</span> <span class="toctext">Ubuntu</span></a></li>
<li class="toclevel-2 tocsection-46"><a href="#openSUSE_2"><span class="tocnumber">8.2</span> <span class="toctext">openSUSE</span></a></li>
<li class="toclevel-2 tocsection-47"><a href="#Debian_Squeeze"><span class="tocnumber">8.3</span> <span class="toctext">Debian Squeeze</span></a></li>
<li class="toclevel-2 tocsection-48"><a href="#Fedora_27/28/29"><span class="tocnumber">8.4</span> <span class="toctext">Fedora 27/28/29</span></a></li>
<li class="toclevel-2 tocsection-49"><a href="#Arch_с_использованием_AUR"><span class="tocnumber">8.5</span> <span class="toctext">Arch с использованием AUR</span></a></li>
</ul>
</li>
</ul>
</div>
</div>
<p><span id="Overview"></span>
</p>
<h2><span id=".D0.9E.D0.B1.D0.B7.D0.BE.D1.80"></span><span class="mw-headline" id="Обзор">Обзор</span></h2>
<p>В последних дистрибутивах Linux, FreeCAD, как правило, собирается легко, поскольку все зависимости обычно предоставляются менеджером пакетов. В основном сборка включает 3 этапа:
</p>
<ol><li>Получение исходного кода FreeCAD.</li>
<li>Получение зависимостей, или пакетов, от которых зависит FreeCAD</li>
<li>Настройка с помощью <code>cmake</code> и компиляция с помощью <code>make</code>.</li></ol>
<p>Ниже вы найдете подробное описание процесса сборки, некоторых <a href="#Automatic_build_scripts">скриптов компиляции</a> и особенностей, с которыми Вы можете столкнуться. Если вы найдете ошибки, устаревшие сведения (дистрибутивы Linux меняются быстро), или если вы используете дистрибутив, которого нет в списке, обсудите вопрос на <a class="external text" href="https://forum.freecadweb.org/index.php" rel="nofollow">форуме</a>, и помогите нам исправить это.
</p><p><span typeof="mw:File"><a class="mw-file-description" href="../File/FreeCAD_source_compilation_workflow.svg"><img decoding="async" height="386" src="../File/FreeCAD_source_compilation_workflow.svg" width="800"/></a></span>
</p>
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;">Общий рабочий процесс для компиляции FreeCAD из исходников. В систем должны быть как сторонние зависимости, так и исходные коды самого FreeCAD. CMake конфигурирует систему так чтобы весь проект скомпилировался одной инструкцией make.</p>
<p><span id="Getting_the_source"></span>
</p>
<h2><span id=".D0.9F.D0.BE.D0.BB.D1.83.D1.87.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D1.81.D1.85.D0.BE.D0.B4.D0.BD.D1.8B.D1.85_.D0.BA.D0.BE.D0.B4.D0.BE.D0.B2"></span><span class="mw-headline" id="Получение_исходных_кодов">Получение исходных кодов</span></h2>
<h3><span class="mw-headline" id="Git">Git</span></h3>
<p>Лучший способ получить код это клонировать <a class="external text" href="https://github.com/FreeCAD/FreeCAD" rel="nofollow">Git репозиторий Git</a> только-для-чтения. Для этого вам потребуется программа <code>git</code>, которую легко установить в большинство дистрибутивов Linux. Скачать её можно на <a class="external text" href="http://git-scm.com/" rel="nofollow">официальном веб-сайте</a>.
</p><p>Git может быть установлен, следующей командой:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>sudo apt install git
</pre></div>
<p>Следующая команда, копирует последнюю версию исходного кода FreeCAD в папку  <code>freecad-source</code>.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git freecad-source
</pre></div>
<p>Дополнительная информация о применении Git и внесении кода в проект изложена на странице <a href="../ru\Source_code_management.html" title="Source code management/ru">управление исходным кодом</a>.
</p><p><span id="Getting_the_dependencies"></span>
</p>
<h2><span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D0.B5.D0.B9_.28Dependencies.29"></span><span class="mw-headline" id="Установка_зависимостей_(Dependencies)">Установка зависимостей (Dependencies)</span></h2>
<p>Для компиляции FreeCAD необходимо установить требуемые зависимости (dependencies), упомянутые в <a href="../ru\Third_Party_Libraries.html" title="Third Party Libraries/ru">сторонних библиотеках</a>; пакеты, содержащие эти зависимости для различных дистрибутивов Linux, перечислены ниже. Обратите внимание, что имена и доступность библиотек будут зависеть от вашего конкретного дистрибутива; если ваш дистрибутив устарел, некоторые пакеты могут быть недоступны или иметь другое имя. В этом случае посмотрите раздел <a href="#Older_and_non-conventional_distributions">↓ старые и нестандартные дистрибутивы</a> расположенный ниже.
</p><p>Как только у вас будут установлены все зависимости, приступайте к <a href="#Сборка_FreeCAD">сборке FreeCAD</a>.
</p><p>Обратите внимание, что размер исходного кода FreeCAD составляет около 500 МБ; он может быть в три раза больше, если вы клонируете репозиторий Git со всей историей его изменений. Для получения всех зависимостей может потребоваться загрузка 500 МБ или более новых файлов; при распаковке этих файлов может потребоваться 1500 МБ или более места. Также имейте в виду, что в процессе компиляции может быть создано до 1500 МБ дополнительных файлов, поскольку система копирует и изменяет весь исходный код. Поэтому при попытке компиляции убедитесь, что на вашем жестком диске достаточно свободного места, по крайней мере, не менее 4 ГБ.
</p>
<div class="mw-collapsible mw-collapsed toccolours">
<p><span id="Debian_and_Ubuntu"></span>
</p>
<h3><span id="Debian_.D0.B8_Ubuntu"></span><span class="mw-headline" id="Debian_и_Ubuntu">Debian и Ubuntu</span></h3>
<div class="mw-collapsible-content">
<p>В системах основанных на Debian (Debian, Ubuntu, Mint, и т.п.) довольно легко установить все необходимые зависимости. Большинство библиотек доступны через <code>apt</code> или менеджер пакетов Synaptic.
</p><p>Если вы уже установили FreeCAD из официальных репозиториев, вы можете установить зависимости (dependencies) для его сборки с помощью этой единственной строки кода в терминале:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">build</span><span class="o">-</span><span class="n">dep</span> <span class="n">freecad</span>
</pre></div>
<p>Alternatively, replace <code>freecad</code> with <code>freecad-daily</code> to install the build dependencies for the main development branch. You'll need to have the <a href="../Installing_on_Linux.html#Development_PPA_(Daily)" title="Installing on Linux">freecad-stable/freecad-daily PPAs</a> added to your software sources.
</p><p>Однако, если версия FreeCAD в репозиториях старая, зависимости (dependencies) могут быть уже устаревшими для компиляции последней версии FreeCAD. Поэтому, пожалуйста, <b>убедитесь, что вы установили следующие пакеты</b>.
</p><p>Эти пакеты необходимы для успешной компиляции в целом:
</p>
<ul><li><code>build-essential</code>, устанавливает компиляторы C и C++ , библиотеки разработки C и <code>make</code> утилиту.</li>
<li><code>cmake</code>, необходимый инструмент для настройки исходников FreeCAD. Вы также можете установить <code>cmake-gui</code> и <code>cmake-curses-gui</code> чтобы иметь графический интерфейс для данной утилиты.</li>
<li><code>libtool</code>, необходимые инструменты для создания shared библиотек.</li>
<li><code>lsb-release</code>, стандартная утилита базовой отчетности обычно уже установлена в системе Debian и позволяет программно различать чистую установку Debian или ее вариант, такой как Ubuntu или Linux Mint. Не удаляйте этот пакет, так как от него могут зависеть многие другие системные пакеты.</li></ul>
<p>При компиляции FreeCAD используется язык Python, и он также используется в runtime в качестве языка сценариев. Если вы используете дистрибутив на основе Debian, интерпретатор Python как правило уже установлен в нем.
</p>
<ul><li><code>python3</code></li>
<li><code>swig</code>, это инструмент, который создает интерфейсы между кодом C++ и Python.</li></ul>
<p>Пожалуйста, убедитесь, что у вас установлен Python 3. Python 2 устарел в 2019 году, свежая разработка FreeCAD не тестируется с этой версией языка.
</p><p>Boost библиотеки должны быть обязательно установлены:
</p>
<ul><li><code>libboost-dev</code></li>
<li><code>libboost-date-time-dev</code></li>
<li><code>libboost-filesystem-dev</code></li>
<li><code>libboost-graph-dev</code></li>
<li><code>libboost-iostreams-dev</code></li>
<li><code>libboost-program-options-dev</code></li>
<li><code>libboost-python-dev</code></li>
<li><code>libboost-regex-dev</code></li>
<li><code>libboost-serialization-dev</code></li>
<li><code>libboost-thread-dev</code></li></ul>
<div class="mw-translate-fuzzy">
<p>Должны быть установлены Coin библиотеки:
</p>
<ul><li><code>libcoin80-dev</code>, для Debian Jessie, Stretch, Ubuntu с 16.04 до 18.10, или</li>
<li><code>libcoin-dev</code>, для Debian Buster, Ubuntu 19.04 и выше, а так же Ubuntu 18.04/18.10 вместе с <a href="../Installing_on_Linux.html#Official_Ubuntu_repository" title="Installing on Linux">freecad-stable/freecad-daily PPAs</a> должны быть добавлены в иходники.</li></ul>
</div>
<p>Несколько библиотек, которые занимаются вычислениями, триангулированными поверхностями, сортировкой, мешами (meshes), компьютерным зрением, картографическими проекциями, 3D-визуализацией, оконной системой X11, парсингом XML и чтением Zip-файлов:
</p>
<ul><li><code>libeigen3-dev</code></li>
<li><code>libgts-bin</code></li>
<li><code>libgts-dev</code></li>
<li><code>libkdtree++-dev</code></li>
<li><code>libmedc-dev</code></li>
<li><code>libopencv-dev</code> or <code>libcv-dev</code></li>
<li><code>libproj-dev</code></li>
<li><code>libvtk9-dev</code>, <code>libvtk8-dev</code>, <code>libvtk7-dev</code> or <code>libvtk6-dev</code></li>
<li><code>libx11-dev</code></li>
<li><code>libxerces-c-dev</code></li>
<li><code>libyaml-cpp-dev</code></li>
<li><code>libzipios++-dev</code></li></ul>
<div class="mw-collapsible mw-collapsed" style="background-color:#e0e0e0">
<p><span id="Python_2_and_Qt4"></span>
</p>
<h4><span id="Python_2_.D0.B8_Qt4"></span><span class="mw-headline" id="Python_2_и_Qt4">Python 2 и Qt4</span></h4>
<p>Python 2 и Qt4 уже устарели и не рекомендуются к применению. Начиная с версии 0.20, в FreeCAD они больше не поддерживаются.
</p>
<div class="mw-collapsible-content">
<p>При компиляции FreeCAD в <b>Debian Jessie, Stretch, Ubuntu 16.04, используйте Python 2 и Qt4</b>, установив следующие зависимости:
</p>
<ul><li><code>qt4-dev-tools</code></li>
<li><code>libqt4-dev</code></li>
<li><code>libqt4-opengl-dev</code></li>
<li><code>libqtwebkit-dev</code></li>
<li><code>libshiboken-dev</code></li>
<li><code>libpyside-dev</code></li>
<li><code>pyside-tools</code></li>
<li><code>python-dev</code></li>
<li><code>python-matplotlib</code></li>
<li><code>python-pivy</code></li>
<li><code>python-ply</code></li>
<li><code>python-pyside</code></li></ul>
</div>
</div>
<p><span id="Python_3_and_Qt5"></span>
</p>
<h4><span id="Python_3_.D0.B8_Qt5"></span><span class="mw-headline" id="Python_3_и_Qt5">Python 3 и Qt5</span></h4>
<div class="mw-translate-fuzzy">
<p>При компиляции FreeCAD в <b>Debian Buster, Ubuntu 19.04 и выше, а также Ubuntu 18.04/18.10</b> с <a href="../Installing_on_Linux.html#Official_Ubuntu_repository" title="Installing on Linux">freecad-stable/freecad-daily PPAs</a> добавленным в ваш исходный код, установите следующие зависимости.
</p>
</div>
<ul><li><code>qtbase5-dev</code></li>
<li><code>qttools5-dev</code></li>
<li><code>qt5-default</code> (if compiling 0.20 on a machine that still has Qt4)</li>
<li><code>libqt5opengl5-dev</code></li>
<li><code>libqt5svg5-dev</code></li>
<li><code>qtwebengine5-dev</code></li>
<li><code>libqt5xmlpatterns5-dev</code></li>
<li><code>libqt5x11extras5-dev</code></li>
<li><code>libpyside2-dev</code></li>
<li><code>libshiboken2-dev</code></li>
<li><code>pyside2-tools</code></li>
<li><code>pyqt5-dev-tools</code></li>
<li><code>python3-dev</code></li>
<li><code>python3-matplotlib</code></li>
<li><code>python3-packaging</code></li>
<li><code>python3-pivy</code></li>
<li><code>python3-ply</code></li>
<li><code>python3-pyside2.qtcore</code></li>
<li><code>python3-pyside2.qtgui</code></li>
<li><code>python3-pyside2.qtsvg</code></li>
<li><code>python3-pyside2.qtwidgets</code></li>
<li><code>python3-pyside2.qtnetwork</code></li>
<li><code>python3-pyside2.qtwebengine</code></li>
<li><code>python3-pyside2.qtwebenginecore</code></li>
<li><code>python3-pyside2.qtwebenginewidgets</code></li>
<li><code>python3-pyside2.qtwebchannel</code></li>
<li><code>python3-pyside2uic</code> (not required on Ubuntu 20.04 and later)</li></ul>
<p><span id="OpenCascade_kernel"></span>
</p>
<h4><span id=".D0.AF.D0.B4.D1.80.D0.BE_OpenCascade"></span><span class="mw-headline" id="Ядро_OpenCascade">Ядро OpenCascade</span></h4>
<p>Ядро OpenCascade - это основная графическая библиотека для создания 3D-фигур. Она существует в виде официальной версии OCCT и виде версии для сообщества OCE. Версия для сообщества к применению больше не рекомендуется, так как она устарела.
</p>
<div class="mw-translate-fuzzy">
<p>Для Debian Buster и Ubuntu 18.10 и выше, а так же для Ubuntu 18.04 с <a href="../Installing_on_Linux.html#Official_Ubuntu_repository" title="Installing on Linux">freecad-stable/freecad-daily PPAs</a> добавлеными в ваши исходники, установите официальные пакеты.
</p>
</div>
<ul><li><code>libocct*-dev</code>
<ul><li><code>libocct-data-exchange-dev</code></li>
<li><code>libocct-draw-dev</code></li>
<li><code>libocct-foundation-dev</code></li>
<li><code>libocct-modeling-algorithms-dev</code></li>
<li><code>libocct-modeling-data-dev</code></li>
<li><code>libocct-ocaf-dev</code></li>
<li><code>libocct-visualization-dev</code></li></ul></li>
<li><code>occt-draw</code></li></ul>
<p>Для Debian Jessie, Stretch, Ubuntu 16.04 и выше, установите community edition пакеты.
</p>
<ul><li><code>liboce*-dev</code>
<ul><li><code>liboce-foundation-dev</code></li>
<li><code>liboce-modeling-dev</code></li>
<li><code>liboce-ocaf-dev</code></li>
<li><code>liboce-ocaf-lite-dev</code></li>
<li><code>liboce-visualization-dev</code></li></ul></li>
<li><code>oce-draw</code></li></ul>
<p>Вы можете установить библиотеки по отдельности или сразу несколько с похожим именами используя символ звездочку '*'. Замените <code>occ</code> на <code>oce</code> если вы хотите установить community редакцию библиотек.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span> <span class="n">install</span> <span class="n">libocct</span><span class="o">*-</span><span class="n">dev</span>
</pre></div>
<p><span id="Optional_packages"></span>
</p>
<h4><span id=".D0.9D.D0.B5.D0.BE.D0.B1.D1.8F.D0.B7.D0.B0.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D1.8B.D0.B5_.D0.BA_.D1.83.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B5_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D1.8B"></span><span class="mw-headline" id="Необязательные_к_установке_пакеты">Необязательные к установке пакеты</span></h4>
<div class="mw-translate-fuzzy">
<p>При желании вы также можете установить эти дополнительные пакеты:
</p>
<ul><li><code>libsimage-dev</code>, чтобы Coin поддерживал дополнительные форматы файлов изображений.</li>
<li><code>doxygen</code> и <code>libcoin-doc</code> (или <code>libcoin80-doc</code> для старых систем), если вы хотите автоматический генерировать документацию к исходному коду.</li>
<li><code>libspnav-dev</code>, для поддержки <a href="../ru\3D_input_devices.html" title="3D input devices/ru">устройств 3D ввода</a>, таких как 3Dconnexion "Space Navigator" или "Space Pilot".</li>
<li><code>checkinstall</code>, если вы хотите зарегистрировать установленные файлы в диспетчере пакетов вашей системы, чтобы вы могли удалить их позже.</li></ul>
</div>
<p><span id="Single_command_for_Python_3_and_Qt5"></span>
</p>
<h4><span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BE.D0.B2.D0.BA.D0.B0_Python_3_.D0.B8_Qt5_.D0.BE.D0.B4.D0.BD.D0.BE.D0.B9_.D0.BA.D0.BE.D0.BC.D0.B0.D0.BD.D0.B4.D0.BE.D0.B9"></span><span class="mw-headline" id="Устаовка_Python_3_и_Qt5_одной_командой">Устаовка Python 3 и Qt5 одной командой</span></h4>
<p>Требуется, чтобы Pyside2 был доступен в Debian buster и <a href="../Installing_on_Linux.html#Official_Ubuntu_repository" title="Installing on Linux">freecad-stable/freecad-daily PPAs</a>.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>sudo apt install cmake cmake-gui libboost-date-time-dev libboost-dev libboost-filesystem-dev libboost-graph-dev libboost-iostreams-dev libboost-program-options-dev libboost-python-dev libboost-regex-dev libboost-serialization-dev libboost-thread-dev libcoin-dev libeigen3-dev libgts-bin libgts-dev libkdtree++-dev libmedc-dev libocct-data-exchange-dev libocct-ocaf-dev libocct-visualization-dev libopencv-dev libproj-dev libpyside2-dev libqt5opengl5-dev libqt5svg5-dev qtwebengine5-dev libqt5x11extras5-dev libqt5xmlpatterns5-dev libshiboken2-dev libspnav-dev libvtk7-dev libx11-dev libxerces-c-dev libzipios++-dev occt-draw pyside2-tools python3-dev python3-matplotlib python3-packaging python3-pivy python3-ply python3-pyside2.qtcore python3-pyside2.qtgui python3-pyside2.qtsvg python3-pyside2.qtwidgets python3-pyside2.qtnetwork python3-pyside2.qtwebengine python3-pyside2.qtwebenginecore python3-pyside2.qtwebenginewidgets python3-pyside2.qtwebchannel python3-markdown python3-git python3-pyside2uic qtbase5-dev qttools5-dev swig libyaml-cpp-dev
</pre></div>
<p>ПРИМЕЧАНИЕ: В некоторых версиях Ubuntu и некоторых версиях Qt вы получите сообщение об ошибке, что python3-pyside2uic не может быть найден-в этих системах вы можете безопасно опустить его. В Ubuntu 20.04 вам нужно будет добавить <code>pyqt5-dev-tools</code>. Более подробную информацию можно найти в <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?t=51324" rel="nofollow">это обсуждение на форуме</a>.
</p>
<div class="mw-collapsible mw-collapsed" style="background-color:#e0e0e0">
<p><span id="Single_command_for_Python_2_and_Qt4"></span>
</p>
<h4><span id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_Python_2_.D0.B8_Qt4_.D0.BE.D0.B4.D0.BD.D0.BE.D0.B9_.D0.BA.D0.BE.D0.BC.D0.BC.D0.B0.D0.BD.D0.B4.D0.BE.D0.B9"></span><span class="mw-headline" id="Установка_Python_2_и_Qt4_одной_коммандой">Установка Python 2 и Qt4 одной коммандой</span></h4>
<p>Это не рекомендуется для более новых установок, поскольку и Python 2 и Qt4 являются устаревшими.
</p>
<div class="mw-collapsible-content">
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>sudo apt install cmake debhelper dh-exec dh-python libboost-date-time-dev libboost-dev libboost-filesystem-dev libboost-graph-dev libboost-iostreams-dev libboost-program-options-dev libboost-python-dev libboost-regex-dev libboost-serialization-dev libboost-thread-dev libcoin80-dev libeigen3-dev libgts-bin libgts-dev libkdtree++-dev libmedc-dev libocct-data-exchange-dev libocct-ocaf-dev libocct-visualization-dev libopencv-dev libproj-dev libpyside-dev libqt4-dev libqt4-opengl-dev libqtwebkit-dev libshiboken-dev libspnav-dev libvtk6-dev libx11-dev libxerces-c-dev libzipios++-dev lsb-release occt-draw pyside-tools python-dev python-matplotlib python-pivy python-ply swig
</pre></div>
<p>Пользователи Ubuntu 16.04, пожалуйста, ознакомьтесь также с обсуждением компиляции на форуме: <a class="external text" href="http://forum.freecadweb.org/viewtopic.php?f=4&amp;t=16292" rel="nofollow">Компиляция в Linux (Kubuntu): CMake не может найти VTK</a>.
</p>
</div>
</div>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<h3><span class="mw-headline" id="Raspberry_Pi">Raspberry Pi</span></h3>
<div class="mw-collapsible-content">
<p>Выполните те же действия, что и в Debian и Ubuntu.
</p>
<div class="mw-translate-fuzzy">
<p>Сообщалось о проблемах при попытке компиляции в Raspbian с Python 3 и Qt5, но комбинация Python 3 и Qt4, похоже, работает для более старых версий FreeCAD.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Для более новых версий FreeCAD компиляция с Py3/Qt5 проходит успешно, если установлена операционная система Ubuntu 20.04.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Из-за различных проблем с Qt в этой версии обычные PySide tools не будут найдены.
</p>
</div>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>E: Unable to locate package python3-pyside2uic
</pre></div>
<p>В этом случае мы можем установить пакеты из PyQt и создать символические ссылки на необходимые инструменты.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>sudo apt-get install pyqt5-dev
sudo apt-get install pyqt5-dev-tools
<span class="nb">cd</span> /usr/bin/
ln -s pyrcc5 pyside2-rcc
ln -s pyuic5 pyside2-uic
</pre></div>
<p>Теперь компиляция может быть продолжена.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">cd</span> build/
cmake ../ -DBUILD_QT5<span class="o">=</span>ON -DPYTHON_EXECUTABLE<span class="o">=</span>/usr/bin/python3 -DUSE_PYBIND11<span class="o">=</span>ON
make -j2
</pre></div>
<p>Параметр <code>-j</code> для <code>make</code> не должен превышать 3, поскольку Raspberry Pi имеет ограниченную память. На компиляцию уйдет несколько часов, поэтому лучше сделать это за ночь.
</p><p>Дополнительная информация, <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=42&amp;t=37458&amp;start=160#p396652" rel="nofollow">FreeCAD и Raspberry Pi 4</a>.
</p>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<h3><span class="mw-headline" id="Fedora">Fedora</span></h3>
<div class="mw-collapsible-content">
<p>There is a bug in cmake distributed by Fedora 34/35 which results in cmake failing to find the opencascade libraries. This can easily be fixed by making one minor change to the top level cmake file of opencascade installed on Fedora. Details here:
<a class="external free" href="https://bugzilla.redhat.com/show_bug.cgi?id=2083568" rel="nofollow">https://bugzilla.redhat.com/show_bug.cgi?id=2083568</a>.
</p><p>Near the top of the file <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">OpenCASCADEConfig.cmake</span>, change the following line to use <code>REAL_PATH()</code>. This fixes a bug introduced by the use of a symlink from <code>/lib</code> to <code>/usr/lib</code> of Fedora, which causes cmake to fail. 
</p><p>This file is usually installed in <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/usr/lib64/cmake/opencascade/OpenCASCADEConfig.cmake</span>.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>get_filename_component <span class="o">(</span>OpenCASCADE_INSTALL_PREFIX <span class="s2">"</span><span class="si">${</span><span class="nv">OpenCASCADE_INSTALL_PREFIX</span><span class="si">}</span><span class="s2">"</span> PATH<span class="o">)</span>
</pre></div>
<p>change this to:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>file <span class="o">(</span>REAL_PATH <span class="si">${</span><span class="nv">OpenCASCADE_INSTALL_PREFIX</span><span class="si">}</span> OpenCASCADE_INSTALL_PREFIX<span class="o">)</span>
</pre></div>
<p>This trivial change needs to be made inside the build directory once cmake has been run and failed. Re-running cmake will then correctly detect the OCCT libraries in the normal way. 
</p>
<h4><span id="Fedora38.2F39"></span><span class="mw-headline" id="Fedora38/39">Fedora38/39</span></h4>
<p>Now install Python 3.11. This includes a notable change in how Python initializes when running a program. As a result FreeCAD fails to find OpenCamLib, meaning <a href="../CAM_Surface.html" title="CAM Surface">3D Surface</a> and <a href="../CAM_Waterline.html" title="CAM Waterline">Waterline</a> are not available in the <a href="../CAM_Workbench.html" title="CAM Workbench">CAM Workbench</a>. This was fixed in the master branch on 20th Mar 2024 (<a class="external text" href="https://github.com/FreeCAD/FreeCAD/pull/13059" rel="nofollow">Pull request #13059</a>).
</p>
<div class="mw-translate-fuzzy">
<p>Вам нужны следующие пакеты :
</p>
</div>
<ul><li><code>gcc-c++</code> (or possibly another C++ compiler?)</li>
<li><code>cmake</code></li>
<li><code>doxygen</code></li>
<li><code>swig</code></li>
<li><code>gettext</code></li>
<li><code>dos2unix</code></li>
<li><code>desktop-file-utils</code></li>
<li><code>libXmu-devel</code></li>
<li><code>freeimage-devel</code></li>
<li><code>mesa-libGLU-devel</code></li>
<li><code>opencascade-devel</code></li>
<li><code>openmpi-devel</code></li>
<li><code>python3</code></li>
<li><code>python3-devel</code></li>
<li><code>python3-pyside2</code></li>
<li><code>python3-pyside2-devel</code></li>
<li><code>pyside2-tools</code></li>
<li><code>boost-devel</code></li>
<li><code>tbb-devel</code></li>
<li><code>eigen3-devel</code></li>
<li><code>qt-devel</code></li>
<li><code>qt5-qtwebengine-devel</code></li>
<li><code>qt5-qtxmlpatterns</code></li>
<li><code>qt5-qtxmlpatterns-devel</code></li>
<li><code>qt5-qtsvg-devel</code></li>
<li><code>qt5-qttools-static</code></li>
<li><code>ode-devel</code></li>
<li><code>xerces-c</code></li>
<li><code>xerces-c-devel</code></li>
<li><code>opencv-devel</code></li>
<li><code>smesh-devel</code></li>
<li><code>Coin3</code></li>
<li><code>Coin3-devel</code></li>
<li><code>yaml-cpp</code></li></ul>
<p>(Не перепутайте "Coin" с "coin" - тот что с маленькой буквы это финансовый пакет. Апрельские Coin4 и Coin4-devel 2021 уже доступны)
(если coin2 является последней доступной версией для вашей версии Fedora, используйте пакеты из <a class="external free" href="http://www.zultron.com/rpm-repo/" rel="nofollow">http://www.zultron.com/rpm-repo/</a>)
</p>
<ul><li><code>SoQt-devel</code></li>
<li><code>freetype</code></li>
<li><code>freetype-devel</code></li>
<li><code>vtk</code></li>
<li><code>vtk-devel</code></li>
<li><code>med</code></li>
<li><code>med-devel</code></li></ul>
<div class="mw-translate-fuzzy">
<p>Можете добавить, если требуется:
</p>
</div>
<div class="mw-translate-fuzzy">
<ul><li>libspnav-devel (для поддержки устройств 3Dconnexion, вроде Space Navigator или Space Pilot)</li>
<li>pivy ( <a class="external free" href="https://bugzilla.redhat.com/show_bug.cgi?id=458975" rel="nofollow">https://bugzilla.redhat.com/show_bug.cgi?id=458975</a> Pivy не обязателен, но нужен для верстака Draft)</li></ul>
</div>
<p>To install all dependencies at once (tested on fedora 36 and 37):
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>sudo dnf install gcc-c++ cmake doxygen swig gettext dos2unix desktop-file-utils libXmu-devel freeimage-devel mesa-libGLU-devel opencascade-devel openmpi-devel python3 python3-devel python3-pyside2 python3-pyside2-devel pyside2-tools boost-devel tbb-devel eigen3-devel qt-devel qt5-qtwebengine-devel qt5-qtxmlpatterns qt5-qtxmlpatterns-devel qt5-qtsvg-devel qt5-qttools-static ode-devel xerces-c xerces-c-devel opencv-devel smesh-devel Coin3 Coin3-devel SoQt-devel freetype freetype-devel vtk vtk-devel med med-devel libspnav-devel python3-pivy python3-markdown python3-GitPython yaml-cpp
</pre></div>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<h3><span class="mw-headline" id="Gentoo">Gentoo</span></h3>
<div class="mw-collapsible-content">
<p>Простейший путь проверить, какие пакеты нужны для компиляции FreeCAD это проверить через portage:
</p><p><tt>emerge -pv freecad</tt>
</p><p>Вы получите список дополнительных пакетов, которые следует установить на Вашей системе.
</p><p>Если FreeCAD недоступен в portage, он доступен в оверлее <a class="external text" href="https://github.com/waebbl/waebbl-gentoo" rel="nofollow">waebbl</a>. Система отслеживания ошибок на оверлее waebbl Github может помочь решить некоторые проблемы, с которыми вы можете столкнуться. Оверлей предоставляет <tt>freecad-9999</tt>, который вы можете выбрать для компиляции или просто использовать для получения зависимостей.
</p><p><tt>layman -a waebbl</tt>
</p>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<h3><span class="mw-headline" id="openSUSE">openSUSE</span></h3>
<div class="mw-collapsible-content">
<h4><span class="mw-headline" id="Tumbleweed">Tumbleweed</span></h4>
<p>Следующие команды установят пакеты, необходимые для создания FreeCAD с Qt5 и Python 3.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">zypper</span> <span class="ow">in</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">recommends</span> <span class="o">-</span><span class="n">t</span> <span class="n">pattern</span> <span class="n">devel_C_C</span><span class="o">++</span> <span class="n">devel_qt5</span>

<span class="n">zypper</span> <span class="ow">in</span> <span class="n">libqt5</span><span class="o">-</span><span class="n">qtbase</span><span class="o">-</span><span class="n">devel</span> <span class="n">libqt5</span><span class="o">-</span><span class="n">qtsvg</span><span class="o">-</span><span class="n">devel</span> <span class="n">libqt5</span><span class="o">-</span><span class="n">qttools</span><span class="o">-</span><span class="n">devel</span> <span class="n">boost</span><span class="o">-</span><span class="n">devel</span> <span class="n">swig</span> <span class="n">libboost_program_options</span><span class="o">-</span><span class="n">devel</span> <span class="n">libboost_mpi_python3</span><span class="o">-</span><span class="n">devel</span> <span class="n">libboost_system</span><span class="o">-</span><span class="n">devel</span> <span class="n">libboost_program_options</span><span class="o">-</span><span class="n">devel</span> <span class="n">libboost_regex</span><span class="o">-</span><span class="n">devel</span> <span class="n">libboost_python3</span><span class="o">-</span><span class="n">devel</span> <span class="n">libboost_thread</span><span class="o">-</span><span class="n">devel</span> <span class="n">libboost_system</span><span class="o">-</span><span class="n">devel</span> <span class="n">libboost_headers</span><span class="o">-</span><span class="n">devel</span> <span class="n">libboost_graph</span><span class="o">-</span><span class="n">devel</span> <span class="n">python3</span> <span class="n">python3</span><span class="o">-</span><span class="n">devel</span> <span class="n">python3</span><span class="o">-</span><span class="n">matplotlib</span> <span class="n">python3</span><span class="o">-</span><span class="n">matplotlib</span><span class="o">-</span><span class="n">qt5</span> <span class="n">python3</span><span class="o">-</span><span class="n">pyside2</span> <span class="n">python3</span><span class="o">-</span><span class="n">pyside2</span><span class="o">-</span><span class="n">devel</span> <span class="n">python3</span><span class="o">-</span><span class="n">pivy</span> <span class="n">gcc</span> <span class="n">gcc</span><span class="o">-</span><span class="n">fortran</span> <span class="n">cmake</span> <span class="n">occt</span><span class="o">-</span><span class="n">devel</span> <span class="n">libXi</span><span class="o">-</span><span class="n">devel</span> <span class="n">opencv</span><span class="o">-</span><span class="n">devel</span> <span class="n">libxerces</span><span class="o">-</span><span class="n">c</span><span class="o">-</span><span class="n">devel</span> <span class="n">Coin</span><span class="o">-</span><span class="n">devel</span> <span class="n">SoQt</span><span class="o">-</span><span class="n">devel</span> <span class="n">freetype2</span><span class="o">-</span><span class="n">devel</span> <span class="n">eigen3</span><span class="o">-</span><span class="n">devel</span> <span class="n">libode6</span> <span class="n">vtk</span><span class="o">-</span><span class="n">devel</span> <span class="n">libmed</span><span class="o">-</span><span class="n">devel</span> <span class="n">hdf5</span><span class="o">-</span><span class="n">openmpi</span><span class="o">-</span><span class="n">devel</span> <span class="n">openmpi2</span><span class="o">-</span><span class="n">devel</span> <span class="n">netgen</span><span class="o">-</span><span class="n">devel</span> <span class="n">freeglut</span><span class="o">-</span><span class="n">devel</span> <span class="n">libspnav</span><span class="o">-</span><span class="n">devel</span> <span class="n">f2c</span> <span class="n">doxygen</span> <span class="n">dos2unix</span> <span class="n">glew</span><span class="o">-</span><span class="n">devel</span> <span class="n">yaml</span><span class="o">-</span><span class="n">cpp</span>
</pre></div>
<p>Следующая команда установит Qt Creator и отладчик проекта GNU.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">zypper</span> <span class="ow">in</span> <span class="n">libqt5</span><span class="o">-</span><span class="n">creator</span> <span class="n">gdb</span>
</pre></div>
<p>Если какие-либо пакеты отсутствуют, вы можете проверить Tumbleweed <a class="external autonumber" href="https://build.opensuse.org/package/view_file/openSUSE:Factory/FreeCAD/FreeCAD.spec" rel="nofollow">[1]</a> "FreeCAD.spec" файл на <a class="external autonumber" href="https://build.opensuse.org/package/show/openSUSE:Factory/FreeCAD" rel="nofollow">[2]</a> Откройте Службу сборки.
</p><p>Также, проверьте, есть ли какие-либо исправления, которые вам необходимо использовать (например <a class="external text" href="https://build.opensuse.org/package/view_file/openSUSE:Factory/FreeCAD/0001-find-openmpi2-include-files.patch" rel="nofollow">0001-find-openmpi2-include-files.patch</a>).
</p>
<h4><span class="mw-headline" id="Leap">Leap</span></h4>
<p>Если есть разница между доступными пакетами на Tumbleweed и Leap, то вы можете прочитать Leap <a class="external autonumber" href="https://build.opensuse.org/package/view_file/openSUSE:Leap:15.0/FreeCAD/FreeCAD.spec" rel="nofollow">[3]</a> файл "FreeCAD.spec" на <a class="external autonumber" href="https://build.opensuse.org/" rel="nofollow">[4]</a> Откройте службу сборки, чтобы определить необходимые пакеты.
</p><p>Смотрите <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=4&amp;t=49726" rel="nofollow">piano_jonas unofficial "Compile On openSUSE" guide</a>.
</p>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<h3><span class="mw-headline" id="Arch_Linux">Arch Linux</span></h3>
<div class="mw-collapsible-content">
<p>Вам понадобятся следующие библиотеки из официальных архивов:
</p>
<ul><li><code>boost</code></li>
<li><code>cmake</code></li>
<li><code>coin</code></li>
<li><code>curl</code></li>
<li><code>desktop-file-utils</code></li>
<li><code>eigen</code></li>
<li><code>gcc-fortran</code></li>
<li><code>git</code></li>
<li><code>glew</code></li>
<li><code>hicolor-icon-theme</code></li>
<li><code>jsoncpp</code></li>
<li><code>libspnav</code></li>
<li><code>med</code></li>
<li><code>nlohmann-json</code></li>
<li><code>opencascade</code></li>
<li><code>pyside2-tools</code></li>
<li><code>pyside2</code></li>
<li><code>python-matplotlib</code></li>
<li><code>python-netcdf4</code></li>
<li><code>python-packaging</code></li>
<li><code>python-pivy</code></li>
<li><code>qt5-svg</code></li>
<li><code>qt5-tools</code></li>
<li><code>qt5-webengine</code></li>
<li><code>shared-mime-info</code></li>
<li><code>shiboken2</code></li>
<li><code>swig</code></li>
<li><code>utf8cpp</code></li>
<li><code>verdict</code></li>
<li><code>xerces-c</code></li>
<li><code>yaml-cpp</code></li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">sudo</span> <span class="n">pacman</span> <span class="o">-</span><span class="n">S</span> <span class="o">--</span><span class="n">needed</span> <span class="n">boost</span> <span class="n">cmake</span> <span class="n">coin</span> <span class="n">curl</span> <span class="n">desktop</span><span class="o">-</span><span class="n">file</span><span class="o">-</span><span class="n">utils</span> <span class="n">eigen</span> <span class="n">gcc</span><span class="o">-</span><span class="n">fortran</span> <span class="n">git</span> <span class="n">glew</span> <span class="n">hicolor</span><span class="o">-</span><span class="n">icon</span><span class="o">-</span><span class="n">theme</span> <span class="n">jsoncpp</span> <span class="n">libspnav</span> <span class="n">med</span> <span class="n">nlohmann</span><span class="o">-</span><span class="n">json</span> <span class="n">opencascade</span> <span class="n">pyside2</span><span class="o">-</span><span class="n">tools</span> <span class="n">pyside2</span> <span class="n">python</span><span class="o">-</span><span class="n">matplotlib</span> <span class="n">python</span><span class="o">-</span><span class="n">netcdf4</span> <span class="n">python</span><span class="o">-</span><span class="n">packaging</span> <span class="n">python</span><span class="o">-</span><span class="n">pivy</span> <span class="n">qt5</span><span class="o">-</span><span class="n">svg</span> <span class="n">qt5</span><span class="o">-</span><span class="n">tools</span> <span class="n">qt5</span><span class="o">-</span><span class="n">webengine</span> <span class="n">shared</span><span class="o">-</span><span class="n">mime</span><span class="o">-</span><span class="n">info</span> <span class="n">shiboken2</span> <span class="n">swig</span> <span class="n">utf8cpp</span> <span class="n">xerces</span><span class="o">-</span><span class="n">c</span> <span class="n">yaml</span><span class="o">-</span><span class="n">cpp</span>
</pre></div>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><span id="Older_and_non-conventional_distributions"></span>
</p>
<h3><span id=".D0.91.D0.BE.D0.BB.D0.B5.D0.B5_.D1.81.D1.82.D0.B0.D1.80.D1.8B.D0.B5_.D0.B8_.D0.BD.D0.B5.D1.82.D1.80.D0.B0.D0.B4.D0.B8.D1.86.D0.B8.D0.BE.D0.BD.D0.BD.D1.8B.D0.B5_.D0.B4.D0.B8.D1.81.D1.82.D1.80.D0.B8.D0.B1.D1.83.D1.82.D0.B8.D0.B2.D1.8B"></span><span class="mw-headline" id="Более_старые_и_нетрадиционные_дистрибутивы">Более старые и нетрадиционные дистрибутивы</span></h3>
<div class="mw-collapsible-content">
<p>В других дистрибутивах у нас очень мало отзывов от пользователей, поэтому может быть сложнее найти необходимые пакеты.
</p><p>Сначала попробуйте найти необходимые библиотеки, упомянутые в <a href="../Third_Party_Libraries.html" title="Third Party Libraries">сторонние библиотеки</a> в диспетчере пакетов. Остерегайтесь, что у некоторых из них может быть немного другое имя пакета; ищите <code>name</code>, но также <code>libname</code>, <code>name-dev</code>, <code>name-devel</code> и аналогичные. Если это невозможно, попробуйте скомпилировать эти библиотеки самостоятельно.
</p><p>Для FreeCAD требуется версия компилятора GNU g++, равная или выше 3.0.0, так как FreeCAD в основном написан на C++. Во время компиляции выполняются некоторые сценарии Python, поэтому интерпретатор Python должен работать должным образом. Чтобы избежать каких-либо проблем с компоновщиком, также рекомендуется иметь пути к библиотеке в переменной <code>LD_LIBRARY_PATH</code> или в файле <code>ld.so.conf</code>. Это уже сделано в современных дистрибутивах Linux, но, возможно, потребуется установить в более старых.
</p>
</div>
</div>
<h3><span class="mw-headline" id="Pivy">Pivy</span></h3>
<div class="mw-translate-fuzzy">
<p><a href="../ru\Pivy.html" title="Pivy/ru">Pivy</a> (обертки Python для Coin3d) не требуется для сборки FreeCAD или его запуска, но необходимы в качестве зависимости от среды выполнения для <a href="../ru\Draft_Workbench.html" title="Draft Workbench/ru">Draft Workbench</a>. Если вы не собираетесь использовать эти инструментальные средства, вам не понадобится Pivy. Однако обратите внимание, что верстак Draft используется внутри других рабочих столов, таких как <a href="../ru\Arch_Workbench.html" title="Arch Workbench/ru">Arch</a> и <a href="../ru\BIM_Workbench.html" title="BIM Workbench/ru">BIM</a>, поэтому для использования этих инструментальных средств также необходимо установить Pivy.
</p>
</div>
<p>К ноябрю 2015 года устаревшая версия Pivy, включенная в исходный код FreeCAD, больше не будет компилироваться во многих системах. Это не большая проблема, так как обычно вы должны получить Pivy от менеджера пакетов вашего дистрибутива; если вы не можете найти Pivy, вам, возможно, придется скомпилировать его самостоятельно, см. Инструкции по компиляции Pivy.
</p><p><span id="Debug_symbols"></span>
</p>
<h3><span id=".D0.9E.D1.82.D0.BB.D0.B0.D0.B4.D0.BE.D1.87.D0.BD.D1.8B.D0.B5_.D1.81.D0.B8.D0.BC.D0.B2.D0.BE.D0.BB.D1.8B"></span><span class="mw-headline" id="Отладочные_символы">Отладочные символы</span></h3>
<p>Для устранения неполадок в FreeCAD полезно иметь отладочные символы важных библиотек зависимостей, таких как Qt. Для этого попробуйте установить пакеты зависимостей, которые заканчиваются на <code>-dbg</code>, <code>-dbgsym</code>, <code>-debuginfo</code> или аналогичные, в зависимости от вашего дистрибутива Linux.
</p><p>Для Ubuntu вам, возможно, потребуется включить специальные репозитории, чтобы иметь возможность просматривать и устанавливать эти отладочные пакеты с помощью диспетчера пакетов. См.<a class="external text" href="https://wiki.ubuntu.com/Debug_Symbol_Packages" rel="nofollow">Debug Symbol Packages</a> для получения дополнительной информации.
</p><p><span id="Compile_FreeCAD"></span>
</p>
<h2><span id=".D0.A1.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_FreeCAD"></span><span class="mw-headline" id="Сборка_FreeCAD">Сборка FreeCAD</span></h2>
<div class="mw-translate-fuzzy">
<div id="itsfree" style="text-align:center;color:black;background:#FDE0A8;margin:1em 7em;padding:0.5em 2em;border:2px solid #FF5706;">Python 2 и Qt4 при сборке больше не поддерживается, а в версии 0.20 больше не поддерживается вообще. Допускается компиляция с Python 3 и Qt5. А для версии 0.20 требуется как минимум Python3.6 и Qt 5.9.</div>
</div>
<p>FreeCAD использует CMake в качестве основной системы сборки, она доступна во всех основных операционных системах. Компиляция с помощью CMake обычно очень проста и происходит в два этапа.
</p>
<ol><li>CMake проверяет наличие в вашей системе всех необходимых программ и библиотек и создает <code>Makefile</code>, настроенный для второго шага. FreeCAD имеет несколько вариантов конфигурации на выбор, но он поставляется с разумными настройками по умолчанию. Некоторые альтернативы подробно описаны ниже.</li>
<li>Сама компиляция, которая выполняется с помощью программы <code>make</code>, которая генерирует исполняемые файлы FreeCAD.</li></ol>
<p>Поскольку FreeCAD - это крупное приложение, компиляция всего исходного кода может занять от 10 минут до одного часа, в зависимости от вашего процессора и количества ядер процессора, используемых для компиляции.
</p><p><span id="Building"></span>
</p>
<div class="mw-translate-fuzzy">
<h3><span id=".D0.A1.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_.D0.B2.D0.BD.D0.B5_.D0.BF.D0.B0.D0.BF.D0.BA.D0.B8_.D0.B8.D1.81.D1.85.D0.BE.D0.B4.D0.BD.D0.B8.D0.BA.D0.BE.D0.B2"></span><span class="mw-headline" id="Сборка_вне_папки_исходников">Сборка вне папки исходников</span></h3>
</div>
<div class="mw-translate-fuzzy">
<p>Для сборки из исходного кода просто создайте каталог сборки <code>freecad-build</code>, отличный от вашей исходной папки FreeCAD, <code>freecad-source</code>; затем из этой точки каталога сборки <code>cmake</code> в нужную исходную папку. Вы также можете использовать <code>cmake-gui</code> или <code>ccmake</code> вместо <code>cmake</code> в приведенных ниже инструкциях. Как только <code>cmake</code> завершит конфигурацию среды, используйте <code>make</code> для запуска актуальной компиляции.
</p>
</div>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># from your freecad-source folder:</span>
mkdir build
<span class="nb">cd</span> build
cmake ../
make -j<span class="k">$(</span>nproc --ignore<span class="o">=</span><span class="m">2</span><span class="k">)</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Опция <code>-j</code> <code>make</code> определяет, сколько задач (файлов) компилируется параллельно. Программа <code>nproc</code> выводит количество ядер процессора в вашей системе; используя ее вместе с опцией <code>-j</code>, вы можете обработать столько файлов, сколько у вас ядер, чтобы ускорить общую компиляцию программы. В приведенном выше примере он будет использовать все ядра вашей системы, кроме двух; это позволит вашему компьютеру реагировать на другие виды использования, пока компиляция выполняется в фоновом режиме. Исполняемый файл FreeCAD в конечном итоге появится в каталоге <code>freecad-build/bin</code>. См. также <a href="../Compiling_(Speeding_up).html" title="Compiling (Speeding up)">Compiling (speeding up)</a> для повышения скорости компиляции.
</p>
</div>
<h3><span class="mw-headline" id="Resolving_cmake_issues">Resolving cmake issues</span></h3>
<p>If you have done a build before and get stuck on a dependency that is not recognized or can't seem to be resolved, try the following:
</p>
<ul><li>Delete the contents of the build directory before running cmake again. FreeCAD is a rapidly moving target, you may be tripping over cached cmake information that points at an older version than the new repository head can use. Clearing the cache may allow cmake to recover and recognize the version you actually need.</li></ul>
<ul><li>If cmake complains about missing a specific file, use a tool such as "apt-file search", or its equivalent in other package systems, to discover what package that file belongs to and install it. Bear in mind that you are likely to need the -dev version of the package that carries header or config files files required for FreeCAD to use the package.</li></ul>
<h3><span class="mw-headline" id="Compiling_against_GNU_libc_2.34_and_later">Compiling against GNU libc 2.34 and later</span></h3>
<p>GNU libc 2.34 introduces a change to the library that can cause builds on some Linux systems to fail with an error like:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>No rule to make target <span class="err">'</span>/usr/lib/x86_64-linux-gnu/libdl.so
</pre></div>
<p>To resolve this, a symbolic link must be manually created from the (now empty) system-installed libdl.so.* to the location your compiler says it is looking for the file. For example (if the actual installed copy of libdl.so on your system is /usr/lib/x86_64-linux-gnu/libdl.so.2):
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>sudo ln -s /usr/lib/x86_64-linux-gnu/libdl.so.2 /usr/lib/x86_64-linux-gnu/libdl.so
</pre></div>
<p>Adapt the command for the structure of your system by searching for libdl.so* and linking it to the appropriate location.
</p><p><span id="How_to_repair_your_source_code_directory"></span>
</p>
<h3><span id=".D0.9A.D0.B0.D0.BA_.D0.B2.D0.BE.D1.81.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.B8.D1.82.D1.8C_.D0.BF.D0.B0.D0.BF.D0.BA.D1.83_.D1.81_.D0.B8.D1.81.D1.85.D0.BE.D0.B4.D0.BD.D1.8B.D0.BC.D0.B8_.D0.BA.D0.BE.D0.B4.D0.B0.D0.BC.D0.B8"></span><span class="mw-headline" id="Как_восстановить_папку_с_исходными_кодами">Как восстановить папку с исходными кодами</span></h3>
<p>Если вы случайно выполнили компиляцию в каталоге исходного кода или добавили странные файлы и хотели бы восстановить содержимое только в исходном исходном коде, вы можете выполнить следующие действия.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>&gt; .gitignore
git clean -df
git reset --hard HEAD
</pre></div>
<p>Первая строка очищает файл <code>.gitignore</code>. Это гарантирует, что следующие команды clean и reset будут влиять на все в каталоге и не будут игнорировать элементы, соответствующие выражениям в <code>.gitignore</code>. Вторая строка удаляет все файлы и каталоги, которые не отслеживаются репозиторием git, затем последняя команда сбрасывает все изменения в отслеживаемых файлах, включая первую команду, которая очистила файл <code>.gitignore</code>.
</p><p>Если вы не очистите исходный каталог, следующие запуски <code>cmake</code> могут не включить новые параметры в систему, если код изменится.
</p><p><span id="Configuration"></span>
</p>
<h3><span id=".D0.9A.D0.BE.D0.BD.D1.84.D0.B8.D0.B3.D1.83.D1.80.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Конфигурирование">Конфигурирование</span></h3>
<p>Передавая различные параметры в <code>cmake</code>, вы можете изменить способ компиляции FreeCAD. Синтаксис выглядит следующим образом.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">D</span> <span class="o">&lt;</span><span class="n">var</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;=&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="err">$</span><span class="n">SOURCE_DIR</span>
</pre></div>
<p>Где <code>$SOURCE_DIR</code> - каталог, содержащий исходный код. <code>&lt;type&gt;</code> в большинстве случаев может быть опущен. Пробел после параметра <code>-D</code> также может быть опущен.
</p><p>Например, чтобы избежать создания <a href="../FEM_Workbench.html" title="FEM Workbench">FEM Workbench</a>:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>cmake -D BUILD_FEM:BOOL<span class="o">=</span>OFF ../
cmake -DBUILD_FEM<span class="o">=</span>OFF ../
</pre></div>
<p>Все возможные переменные перечислены в файле <code>InitializeFreeCADBuildOptions.cmake</code>, расположенном в каталоге <code>CMake/FreeCAD_Helpers</code>. В этом файле найдёте слово <code>option</code>, чтобы перейти к переменным, которые можно задать, и просмотреть их значения по умолчанию.
</p>
<pre># ==============================================================================
# =================   All the options for the build process    =================
# ==============================================================================

option(BUILD_FORCE_DIRECTORY "The build directory must be different to the source directory." OFF)
option(BUILD_GUI "Build FreeCAD Gui. Otherwise you have only the command line and the Python import module." ON)
option(FREECAD_USE_EXTERNAL_ZIPIOS "Use system installed zipios++ instead of the bundled." OFF)
option(FREECAD_USE_EXTERNAL_SMESH "Use system installed smesh instead of the bundled." OFF)
...
</pre>
<p>В качестве альтернативы используйте команду <code>cmake-LH</code> для отображения текущей конфигурации и, следовательно, всех переменных, которые можно изменить. Вы также можете установить и использовать <code>cmake-gui</code> для запуска графического интерфейса, отображающего все переменные, которые можно изменить. В следующих разделах мы перечислим некоторые из наиболее важных опций, которые вы, возможно, захотите использовать.
</p><p><span id="For_a_Debug_build"></span>
</p>
<h4><span id=".D0.94.D0.BB.D1.8F_Debug_.D1.81.D0.B1.D0.BE.D1.80.D0.BA.D0.B8"></span><span class="mw-headline" id="Для_Debug_сборки">Для Debug сборки</span></h4>
<p>Создайте сборку <code>Debug</code> для устранения неполадок в FreeCAD. Имейте в виду, что при такой сборке <a href="../Sketcher_Workbench.html" title="Sketcher Workbench">Sketcher</a> становится очень медленным при работе со сложными эскизами.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>cmake -DPYTHON_EXECUTABLE<span class="o">=</span>/usr/bin/python3 -DCMAKE_BUILD_TYPE<span class="o">=</span>Debug ../
</pre></div>
<p><span id="For_a_Release_build"></span>
</p>
<h4><span id=".D0.94.D0.BB.D1.8F_Release_.D1.81.D0.B1.D0.BE.D1.80.D0.BA.D0.B8"></span><span class="mw-headline" id="Для_Release_сборки">Для Release сборки</span></h4>
<p>Создайте сборку <code>Release</code> для тестирования кода, который не завершается сбоем. Сборка <code>Release</code> будет выполняться намного быстрее, чем сборка <code>Debug</code>.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>cmake -DPYTHON_EXECUTABLE<span class="o">=</span>/usr/bin/python3 -DCMAKE_BUILD_TYPE<span class="o">=</span>Release ../
</pre></div>
<p><span id="Building_against_Python_3_and_Qt5"></span>
</p>
<h4><span id=".D0.A1.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_.D0.BD.D0.B0_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D0.B5_Python_3_.D0.B8_Qt5"></span><span class="mw-headline" id="Сборка_на_основе_Python_3_и_Qt5">Сборка на основе Python 3 и Qt5</span></h4>
<div class="mw-translate-fuzzy">
<p>По умолчанию FreeCAD 0.19 и более ранние версии созданы для Python 2 и Qt4. Поскольку эти два пакета устарели, лучше создавать для Python 3 и Qt5. Поддержка Python 2 и Qt4 была удалена в FreeCAD 0.20, и нет необходимости явно включать Qt5 и Python 3 при компиляции последних версий разработки.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Для 0.20_dev:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>cmake ../
</pre></div>
<div class="mw-translate-fuzzy">
<p>Обратите внимание, что при переключении между сборками 0.19 и 0.20 может потребоваться удалить CMakeCache.txt до запуска cmake.
</p>
</div>
<p><span id="Building_for_a_specific_Python_version"></span>
</p>
<h4><span id=".D0.A1.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_.D1.81_.D0.BF.D1.80.D0.B8.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5.D0.BC_.D0.BE.D1.81.D0.BE.D0.B1.D1.8B.D1.85_.D0.B2.D0.B5.D1.80.D1.81.D0.B8.D0.B9_Python"></span><span class="mw-headline" id="Сборка_с_применением_особых_версий_Python">Сборка с применением особых версий Python</span></h4>
<div class="mw-translate-fuzzy">
<p>Если по умолчанию исполняемый файл <code>python</code> в вашей системе является символической ссылкой на Python 2, <code>cmake</code> попытается настроить FreeCAD для этой версии. Вы можете выбрать другую версию Python, указав путь к определенному исполняемому файлу:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>cmake -DPYTHON_EXECUTABLE<span class="o">=</span>/usr/bin/python3 ../
</pre></div>
<p>Если это не сработает, вам, возможно, придется определить дополнительные переменные, указывающие на требуемые библиотеки Python, и включить каталоги:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>cmake -DPYTHON_EXECUTABLE<span class="o">=</span>/usr/bin/python3.6 <span class="se">\</span>
    -DPYTHON_INCLUDE_DIR<span class="o">=</span>/usr/include/python3.6m <span class="se">\</span>
    -DPYTHON_LIBRARY<span class="o">=</span>/usr/lib/x86_64-linux-gnu/libpython3.6m.so <span class="se">\</span>
    -DPYTHON_PACKAGES_PATH<span class="o">=</span>/usr/lib/python3.6/site-packages/ <span class="se">\</span>
    ../
</pre></div>
<p>В одной системе, возможно, имеет несколько независимых версий Python, поэтому расположение и номера версий ваших файлов Python будут зависеть от вашего конкретного дистрибутива Linux. Используйте <code>python3-V</code> для отображения версии Python, которую вы используете в настоящее время; необходимы только первые два числа; например, если результатом является <code>Python 3.6.8</code>, вам необходимо указать каталоги, относящиеся к версии 3.6. Если вы не знаете нужных каталогов, попробуйте выполнить их поиск с помощью команды <code>locate</code>.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">locate</span> <span class="n">python3</span><span class="mf">.6</span>
</pre></div>
<p>Вы можете использовать <code>python3 -m site</code> в терминале для определения каталога <code>site-packages</code> или <code>dist-packages</code> для систем Debian.
</p><p>Some components of FreeCAD, such as PySide, try to autodetect the most recent Python version installed on your system, which might fail if it is different from what you entered above. Adding the following cMake option might solve the issue:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>-DPython3_FIND_STRATEGY<span class="o">=</span>LOCATION
</pre></div>
<p><span id="Building_with_Qt_Creator_against_Python_3_and_Qt5"></span>
</p>
<h4><span id=".D0.A1.D0.B1.D0.BE.D1.80.D0.BA.D0.B0_.D0.B2_Qt_Creator_.D0.BD.D0.B0_.D0.BE.D1.81.D0.BD.D0.BE.D0.B2.D0.B5_Python_3_.D0.B8_Qt5"></span><span class="mw-headline" id="Сборка_в_Qt_Creator_на_основе_Python_3_и_Qt5">Сборка в Qt Creator на основе Python 3 и Qt5</span></h4>
<p>1. Запустите Qt Creator.
</p><p>2. Кликните на <b>Open Project</b>.
</p><p>3. Перейдите в каталог, в котором находится исходный код, <code>freecad-source/</code>, и выберите самый верхний файл <code>CMakeLists.txt</code>.
</p><p>4. Выбрав файл, он автоматически запустит <code>cmake</code> на нем, но может выйти из строя, если соответствующие параметры установлены неправильно.
</p>
<div class="mw-translate-fuzzy">
<p>5. Перейдите в <b>Projects → Build &amp; Run → Imported Kit → Build → Build Settings → CMake</b>. Установите соответствующий каталог сборки, <code>freecad-build/</code>.
</p>
</div>
<p>6. Установите соответствующие переменные в диалоговом окне Key-Value типов <code>String</code> и <code>Bool</code>.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">PYTHON_EXECUTABLE</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python3</span>
</pre></div>
<p>7. Если переменные загружают проект неправильно, возможно, вам придется перейти к <b>Projects → Manage Kits → Kits → Default (or Imported Kit or similar) → CMake Configuration</b>. 
Затем нажмите <span style="background: #f5f5f5; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 2px solid #989898; border-radius: 0.4em; padding: 0px 10px 1px 10px; font-weight:normal;">Change</span>, и добавьте соответствующую конфигурацию, как описано выше. Возможно, вам придется добавить дополнительные переменные о путях Python, если системный Python не найден.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">PYTHON_EXECUTABLE</span><span class="p">:</span><span class="n">STRING</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python3</span><span class="mf">.7</span>
<span class="n">PYTHON_INCLUDE_DIR</span><span class="p">:</span><span class="n">STRING</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">python3</span><span class="mf">.7</span><span class="n">m</span>
<span class="n">PYTHON_LIBRARY</span><span class="p">:</span><span class="n">STRING</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">libpython3</span><span class="mf">.7</span><span class="n">m</span><span class="o">.</span><span class="n">so</span>
<span class="n">PYTHON_PACKAGES_PATH</span><span class="p">:</span><span class="n">STRING</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="mf">.7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span>
</pre></div>
<p>7.1. Нажмите <span style="background: #f5f5f5; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 2px solid #989898; border-radius: 0.4em; padding: 0px 10px 1px 10px; font-weight:normal;">Apply</span>, затем <span style="background: #f5f5f5; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 2px solid #989898; border-radius: 0.4em; padding: 0px 10px 1px 10px; font-weight:normal;">OK</span>.
</p><p>7.2. Убедитесь, что остальные параметры заданы правильно, например, <b>Qt version</b> должна быть текущей версией, установленной в системе, как <code>Qt 5.9.5 in PATH (qt5)</code>.
</p><p>Нажмите <span style="background: #f5f5f5; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 2px solid #989898; border-radius: 0.4em; padding: 0px 10px 1px 10px; font-weight:normal;">Apply</span>, затем <span style="background: #f5f5f5; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 2px solid #989898; border-radius: 0.4em; padding: 0px 10px 1px 10px; font-weight:normal;">OK</span>, чтобы закрыть конфигурацию.
</p><p>Программа <code>cmake</code> должна снова запуститься автоматически, и она должна заполнить весь диалог Key-Value всеми переменными, которые можно настроить.
</p><p>8. Перейдите в <b>Projects → Build &amp; Run → Imported Kit → Run → Run Settings → Run → Run Configuration</b> и выберите <code>FreeCADMain</code> для компиляции графической версии FreeCAD или <code>FreeCADMainCMD</code> для компиляции только версии командной строки.
</p><p>9. Наконец, перейдите в меню <b>Сборка → Проект сборки "FreeCAD"</b>. Если это новая компиляция, она должна занять несколько минут, включительно часов, в зависимости от количества доступных процессоров.
</p><p><span id="Qt_designer_plugin"></span>
</p>
<h4><span id=".D0.9F.D0.BB.D0.B0.D0.B3.D0.B8.D0.BD_Qt_designer"></span><span class="mw-headline" id="Плагин_Qt_designer">Плагин Qt designer</span></h4>
<p>Если Вы хотите разрабатывать Qt-код для FreeCAD, Вам понадобится плагин к Qt Designer, который обеспечивает все пользовательские виджеты FreeCAD.
</p><p>Перейдите в дополнительный каталог исходного кода, запустите <code>qmake</code> с указанным файлом проекта для создания <code>Makefile</code>; затем запустите <code>make</code> для компиляции плагина.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">cd</span> freecad-source/src/Tools/plugins/widget
qmake plugin.pro
make
</pre></div>
<p>Если вы компилируете для Qt5, убедитесь, что двоичный файл <code>qmake</code> предназначен для этой версии, чтобы результирующий <code>Makefile</code> содержал необходимую информацию для Qt5.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">cd</span> freecad-source/src/Tools/plugins/widget
<span class="nv">$QT_DIR</span>/bin/qmake plugin.pro
make
</pre></div>
<p>где <code>$QT_DIR</code> - это каталог, в котором хранятся двоичные библиотеки Qt, например, <code>/usr/lib/x86_64-linux-gnu/qt5</code>.
</p><p>Созданная библиотека <code>libFreeCAD_widgets.so</code>, которую необходимо скопировать в <code>$QT_DIR/плагины/конструктор</code>.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>sudo cp libFreeCAD_widgets.so <span class="nv">$QT_DIR</span>/plugins/designer
</pre></div>
<p><span id="External_or_internal_Pivy"></span>
</p>
<h4><span id=".D0.92.D0.BD.D0.B5.D1.88.D0.BD.D0.B8.D0.B9_.D0.B8.D0.BB.D0.B8_.D0.B2.D1.81.D1.82.D1.80.D0.BE.D0.B5.D0.BD.D0.BD.D1.8B.D0.B9_Pivy"></span><span class="mw-headline" id="Внешний_или_встроенный_Pivy">Внешний или встроенный Pivy</span></h4>
<p>В прошлом, версия Pivy была включена в исходный код FreeCAD (internal). Если вы хотели использовать системную копию Pivy (external),  вам нужно было использовать <code>-DFREECAD_USE_EXTERNAL_PIVY=1</code>.
</p><p>Использование внешнего Pivy стало по умолчанию во время разработки FreeCAD 0.16, поэтому эту опцию больше не нужно устанавливать вручную.
</p><p><span id="Doxygen_documentation"></span>
</p>
<h4><span id=".D0.94.D0.BE.D0.BA.D1.83.D0.BC.D0.B5.D0.BD.D1.82.D0.B8.D1.80.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D0.BE.D1.81.D1.80.D0.B5.D0.B4.D1.81.D1.82.D0.B2.D0.BE.D0.BC_Doxygen"></span><span class="mw-headline" id="Документирование_посредством_Doxygen">Документирование посредством Doxygen</span></h4>
<p>Если у вас установлен Doxygen, вы можете создать документацию по исходному коду. См. инструкции в <a href="../Source_documentation.html" title="Source documentation">source documentation</a>.
</p><p><span id="Additional_documentation"></span>
</p>
<h3><span id=".D0.94.D0.BE.D0.BF.D0.BE.D0.BB.D0.BD.D0.B8.D1.82.D0.B5.D0.BB.D1.8C.D0.BD.D0.B0.D1.8F_.D0.B4.D0.BE.D0.BA.D1.83.D0.BC.D0.B5.D0.BD.D1.82.D0.B0.D1.86.D0.B8.D1.8F"></span><span class="mw-headline" id="Дополнительная_документация">Дополнительная документация</span></h3>
<p>Исходный код FreeCAD очень обширен, и с помощью CMake можно настроить множество параметров. Обучение полному использованию CMake может быть полезно для выбора правильных вариантов для ваших особых потребностей. 
</p>
<ul><li><a class="external text" href="https://cmake.org/documentation/" rel="nofollow">CMake Reference Documentation</a></li></ul>
<p>от Kitware.
</p>
<ul><li><a class="external text" href="https://preshing.com/20170511/how-to-build-a-cmake-based-project/" rel="nofollow">How to Build a CMake-Based Project</a></li></ul>
<p>(блог), предварительно изучив программирование.
</p>
<ul><li><a class="external text" href="https://preshing.com/20170522/learn-cmakes-scripting-language-in-15-minutes/" rel="nofollow">Learn CMake's Scripting Language in 15 Minutes</a></li></ul>
<p>(блог) , предварительно изучив программирование.
</p><p><span id="Making_a_debian_package"></span>
</p>
<h3><span id=".D0.A1.D0.BE.D0.B7.D0.B4.D0.B0.D0.BD.D0.B8.D0.B5_.D0.BF.D0.B0.D0.BA.D0.B5.D1.82.D0.B0_debian"></span><span class="mw-headline" id="Создание_пакета_debian">Создание пакета debian</span></h3>
<p>Если Вы планируете собрать пакет Debian вне исходников, вам следует сначала установить следующие пакеты:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>sudo apt install dh-make devscripts lintian
</pre></div>
<p>Перейдите в папку FreeCAD и выполните
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>debuild
</pre></div>
<p>Когда пакет построен, Вы можете использовать <code>lintian</code> для проверки, содержит ли пакет ошибки
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>lintian freecad-package.deb
</pre></div>
<h4><span id=".2A.deb_package_with_checkinstall"></span><span class="mw-headline" id="*.deb_package_with_checkinstall">*.deb package with checkinstall</span></h4>
<p>The Debian script <code>checkinstall</code> allows to create a *.deb package that can be installed and removed with the standard <code>dpkg</code> commands. It may need to be installed first (on Ubuntu use <code>sudo apt install checkinstall</code>). It's interactive and asks for the required information providing helpful defaults. During the process the package is installed and a *.deb file and a backup archive are created.
</p><p>It's a good idea to define a name and a short description for the package. The name must be entered to uninstall it again and the desription will be listed by <code>dpkg -l</code>. The default name "build" is not very informative.
</p><p>Example:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">cd</span> freecad-source/build
cmake ..
make
sudo checkinstall                                  <span class="c1"># e.g. name=freecad-test1</span>
</pre></div>
<p>The result is a *.deb file in the build folder. <code>checkinstall</code> will install the build by default. This is how you can install or uninstall it:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">cd</span> freecad-source/build
ls <span class="p">|</span> grep freecad
        freecad-test1_20220814-1_amd64.deb
sudo dpkg -i freecad-test1_20220814-1_amd64.deb   <span class="c1"># install</span>
dkpg -l <span class="p">|</span> grep freecad                            <span class="c1"># find by name</span>
sudo dpkg -r freecad-test1                        <span class="c1"># uninstall by name</span>
</pre></div>
<p><span id="Updating_the_source_code"></span>
</p>
<h2><span id=".D0.9E.D0.B1.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B8.D1.81.D1.85.D0.BE.D0.B4.D0.BD.D0.BE.D0.B3.D0.BE_.D0.BA.D0.BE.D0.B4.D0.B0"></span><span class="mw-headline" id="Обновление_исходного_кода">Обновление исходного кода</span></h2>
<p>Система CMake позволяет разумно обновлять исходный код и перекомпилировать только то, что изменилось, что ускоряет следующие компиляции.
</p><p>Перейдите в то место, где исходный код FreeCAD был впервые загружен, и извлеките новый код:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">cd</span> freecad-source
git pull
</pre></div>
<p>Затем перейдите в каталог сборки, в котором код был скомпилирован изначально, и запустите <code>cmake</code>, указав текущий каталог (denoted by a dot); затем запустите повторную компиляцию с помощью <code>make</code>.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">cd</span> build
cmake ../
make -j<span class="k">$(</span>nproc --ignore<span class="o">=</span><span class="m">2</span><span class="k">)</span>
</pre></div>
<h2><span class="mw-headline" id="Uninstalling_the_source_code">Uninstalling the source code</span></h2>
<p>In case the compiled source code was installed with <code>sudo make install</code> (for Debian) the files were copied to the <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/usr/local</span> folder into several subfolders. For uninstallation the file <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">install_manifest.txt</span> can be used. It has been created into the build folder during compilation and contains all installed files. As long as this file exists, the installation can be uninstalled.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">cd</span> freecad-source/build
xargs sudo rm &lt; install_manifest.txt
</pre></div>
<p><span id="Troubleshooting"></span>
</p>
<h2><span id=".D0.A0.D0.B0.D0.B7.D1.80.D0.B5.D1.88.D0.B5.D0.BD.D0.B8.D0.B5_.D0.BF.D1.80.D0.BE.D0.B1.D0.BB.D0.B5.D0.BC"></span><span class="mw-headline" id="Разрешение_проблем">Разрешение проблем</span></h2>
<p><span id="For_64_bit_systems"></span>
</p>
<h3><span id=".D0.9F.D1.80.D0.B8.D0.BC.D0.B5.D1.87.D0.B0.D0.BD.D0.B8.D0.B5_.D0.B4.D0.BB.D1.8F_64-.D0.B1.D0.B8.D1.82.D0.BD.D1.8B.D1.85_.D1.81.D0.B8.D1.81.D1.82.D0.B5.D0.BC"></span><span class="mw-headline" id="Примечание_для_64-битных_систем">Примечание для 64-битных систем</span></h3>
<p>При компиляции FreeCAD на 64-бит известна проблема с 64-битным пакетом OpenCASCADE. Чтобы FreeCAD правильно заработал, Вам нужно запустить скрипт <code>configure</code> и установить дополнительно <code>CXXFLAGS</code>:
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span>./configure <span class="nv">CXXFLAGS</span><span class="o">=</span><span class="s2">"-D_OCC64"</span>
</pre></div>
<p>Для систем на базе Debian эта опция не требуется при использовании готовых пакетов OpenCASCADE, поскольку эти пакеты устанавливают правильно <code>CXXFLAGS</code> внутри.
</p><p><span id="Automatic_build_scripts"></span>
</p>
<h2><span id=".D0.A1.D0.BA.D1.80.D0.B8.D0.BF.D1.82.D1.8B_.D0.B0.D0.B2.D1.82.D0.BE.D0.BC.D0.B0.D1.82.D0.B8.D1.87.D0.B5.D1.81.D0.BA.D0.BE.D0.B9_.D0.BA.D0.BE.D0.BC.D0.BF.D0.B8.D0.BB.D1.8F.D1.86.D0.B8.D0.B8"></span><span class="mw-headline" id="Скрипты_автоматической_компиляции">Скрипты автоматической компиляции</span></h2>
<p>Это всё, что Вам нужно для полной компиляции FreeCAD. Это односкриптовое решение, работающее на свежеустановленном дистрибутиве. Команда запросит пароль root 
для установки пакетов новых онлайновых репозиториев. Эти скрипты должны запускаться на 32- и 64-битных версиях. Они написаны для разных версий, но, скорее всего, будут работать для позднейший версий с небольшими изменениями или без них.
</p><p>Если у вас есть такой скрипт для вашего выбранного дистрибутива, пожалуйста, обсудите его на <a class="external text" href="https://forum.freecadweb.org/viewforum.php?f=21&amp;sid=e3c22dca9da076fefb56b1d5c5fb3134" rel="nofollow">Форум FreeCAD</a>, чтобы мы могли его включить.
</p>
<div class="mw-collapsible mw-collapsed toccolours">
<h3><span class="mw-headline" id="Ubuntu">Ubuntu</span></h3>
<div class="mw-collapsible-content">
<p>Эти скрипты обеспечивают надёжный путь для установки верного набора зависимостей, требуемых для сборки и запуска FreeCAD в Ubuntu. Они используют репозитории PPA Ubuntu FreeCAD, и должны работать на любой версии Ubuntu, для которой есть целевой PPA. PPA на <a class="external text" href="https://launchpad.net/~freecad-maintainers/+archive/ubuntu/freecad-daily" rel="nofollow">freecad-daily</a> нацелен на последнюю версию Ubuntu, а <a class="external text" href="https://launchpad.net/~freecad-maintainers/+archive/ubuntu/freecad-stable" rel="nofollow">'стабильный'</a> PPA нацелен на  официально поддерживаемые версии Ubuntu.
</p><p>Этот скрипт устанавливает дневной скомпилированный снимок FreeCAD и его зависимостей. Он добавляет дневной репозиторий, получает зависимости для создания этой версии и устанавливает необходимые пакеты. Затем он продолжает извлекать исходный код в определенный каталог, создает каталог сборки и вносит в него изменения, настраивает среду компиляции с помощью <code>cmake</code> и, наконец, создает всю программу с помощью <code>make</code>. Сохраните сценарий в файл, сделайте его исполняемым и запустите его, но не используйте <code>sudo</code>; привилегии суперпользователя будут запрашиваться только для выбранных команд.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/bin/sh</span>
sudo add-apt-repository --enable-source ppa:freecad-maintainers/freecad-daily <span class="o">&amp;&amp;</span> sudo apt-get update
sudo apt-get build-dep freecad-daily
sudo apt-get install freecad-daily

git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git freecad-source
mkdir freecad-source/build
<span class="nb">cd</span> freecad-source/build
cmake -DPYTHON_EXECUTABLE<span class="o">=</span>/usr/bin/python3 -DFREECAD_USE_PYBIND11<span class="o">=</span>ON ../
make -j<span class="k">$(</span>nproc --ignore<span class="o">=</span><span class="m">2</span><span class="k">)</span>
</pre></div>
<p>При желании вы можете удалить предварительно скомпилированную версию FreeCAD (<code>freecad-daily</code>), оставив зависимости на месте, однако, если этот пакет будет установлен, менеджер пакетов также сможет обновлять свои зависимости; это наиболее полезно, если вы намерены следить за развитием FreeCAD, а также постоянно обновлять и компилировать исходные тексты из репозитория Git.
</p><p>Предыдущий скрипт предполагает, что вы хотите скомпилировать последнюю версию FreeCAD, поэтому вы используете репозиторий "daily" для получения зависимостей. Однако вместо этого вы можете получить зависимости сборки "стабильной" версии для вашего текущего выпуска Ubuntu. Если это так, замените верхнюю часть предыдущего сценария следующими инструкциями. Для Ubuntu 12.04 опустите <code>--enable-source</code> в команде.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/bin/sh</span>
sudo add-apt-repository --enable-source ppa:freecad-maintainers/freecad-stable <span class="o">&amp;&amp;</span> sudo apt-get update
sudo apt-get build-dep freecad
sudo apt-get install libqt5xmlpatterns5-dev   <span class="c1"># Needed for 0.20; should go away on next packaging update </span>
sudo apt-get install freecad
</pre></div>
<p>Как только вы установите пакет <code>freecad</code> из репозитория <code>freecad-stable</code>, он заменит исполняемый файл FreeCAD, доступный из репозитория Ubuntu Universe. Исполняемый файл будет называться просто <code>freecad</code>, а не <code>freecad-stable</code>.
</p>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<h3><span class="mw-headline" id="openSUSE_2">openSUSE</span></h3>
<div class="mw-collapsible-content">
<div class="mw-translate-fuzzy">
<p>Никаких внешних репозиториев не требуется для компиляции FreeCAD. Однако существует несовместимость с python3-devel, которую необходимо удалить. FreeCAD может быть скомпилирован из GIT
</p>
</div>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># install needed packages for development</span>
sudo zypper install gcc cmake OpenCASCADE-devel libXerces-c-devel <span class="se">\</span>
python-devel libqt4-devel python-qt4 Coin-devel SoQt-devel boost-devel <span class="se">\</span>
libode-devel libQtWebKit-devel libeigen3-devel gcc-fortran git swig
 
<span class="c1"># create new dir, and go into it</span>
mkdir FreeCAD-Compiled 
<span class="nb">cd</span> FreeCAD-Compiled
 
<span class="c1"># get the source</span>
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git free-cad
 
<span class="c1"># Now you will have a subfolder in this location called free-cad. It contains the source</span>
 
<span class="c1"># make another dir for compilation, and go into it</span>
mkdir FreeCAD-Build1
<span class="nb">cd</span> FreeCAD-Build1 
 
<span class="c1"># build configuration </span>
cmake ../free-cad
 
<span class="c1"># build FreeCAD</span>
make
 
<span class="c1"># test FreeCAD</span>
<span class="nb">cd</span> bin
./FreeCAD -t <span class="m">0</span>
</pre></div>
<p>Поскольку вы используете git, в следующий раз, когда захотите скомпилировать, вам не нужно клонировать все подряд просто извлеките из git и скомпилируйте еще раз
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># go into free-cad dir created earlier</span>
<span class="nb">cd</span> free-cad
 
<span class="c1"># pull</span>
git pull
 
<span class="c1"># get back to previous dir</span>
<span class="nb">cd</span> ..
 
<span class="c1"># Now repeat last few steps from before.</span>
 
<span class="c1"># make another dir for compilation, and go into it</span>
mkdir FreeCAD-Build2
<span class="nb">cd</span> FreeCAD-Build2
 
<span class="c1"># build configuration </span>
cmake ../free-cad
 
<span class="c1"># build FreeCAD</span>
<span class="c1"># Note: to speed up build use all CPU cores: make -j$(nproc)</span>
make
 
<span class="c1"># test FreeCAD</span>
<span class="nb">cd</span> bin
./FreeCAD -t <span class="m">0</span>
</pre></div>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<h3><span class="mw-headline" id="Debian_Squeeze">Debian Squeeze</span></h3>
<div class="mw-collapsible-content">
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># get the needed tools and libs</span>
sudo apt-get install build-essential python libcoin60-dev libsoqt4-dev <span class="se">\</span>
libxerces-c2-dev libboost-dev libboost-date-time-dev libboost-filesystem-dev <span class="se">\</span>
libboost-graph-dev libboost-iostreams-dev libboost-program-options-dev <span class="se">\</span>
libboost-serialization-dev libboost-signals-dev libboost-regex-dev <span class="se">\</span>
libqt4-dev qt4-dev-tools python2.5-dev <span class="se">\</span>
libsimage-dev libopencascade-dev <span class="se">\</span>
libsoqt4-dev libode-dev subversion cmake libeigen2-dev python-pivy <span class="se">\</span>
libtool autotools-dev automake gfortran
 
<span class="c1"># checkout the latest source</span>
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git freecad
 
<span class="c1"># go to source dir</span>
<span class="nb">cd</span> freecad
 
<span class="c1"># build configuration </span>
cmake .
 
<span class="c1"># build FreeCAD</span>
<span class="c1"># Note: to speed up build use all CPU cores: make -j$(nproc)</span>
make
 
<span class="c1"># test FreeCAD</span>
<span class="nb">cd</span> bin
./FreeCAD -t <span class="m">0</span>
</pre></div>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<h3><span id="Fedora_27.2F28.2F29"></span><span class="mw-headline" id="Fedora_27/28/29">Fedora 27/28/29</span></h3>
<div class="mw-collapsible-content">
<p>Опубликовано пользователем [<a class="external text" href="http://forum.freecadweb.org/memberlist.php?mode=viewprofile&amp;u=3666" rel="nofollow">PrzemoF</a>] на форуме.
</p>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="nv">ARCH</span><span class="o">=</span><span class="k">$(</span>arch<span class="k">)</span>

<span class="nv">MAIN_DIR</span><span class="o">=</span>FreeCAD
<span class="nv">BUILD_DIR</span><span class="o">=</span>build

<span class="c1">#FEDORA_VERSION=27</span>
<span class="c1">#FEDORA_VERSION=28</span>
<span class="nv">FEDORA_VERSION</span><span class="o">=</span><span class="m">29</span>

<span class="nv">PACKAGES</span><span class="o">=</span><span class="s2">"gcc cmake gcc-c++ boost-devel zlib-devel swig eigen3 qt-devel \</span>
<span class="s2">shiboken shiboken-devel pyside-tools python-pyside python-pyside-devel xerces-c \</span>
<span class="s2">xerces-c-devel OCE-devel smesh graphviz python-pivy python-matplotlib tbb-devel \</span>
<span class="s2"> freeimage-devel Coin3 Coin3-devel med-devel vtk-devel"</span>

<span class="nv">FEDORA_29_PACKAGES</span><span class="o">=</span><span class="s2">"boost-python2 boost-python3 boost-python2-devel boost-python3-devel"</span>

<span class="k">if</span> <span class="o">[</span> <span class="s2">"</span><span class="nv">$FEDORA_VERSION</span><span class="s2">"</span> <span class="o">=</span> <span class="s2">"29"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
    <span class="nv">PACKAGES</span><span class="o">=</span><span class="s2">"</span><span class="nv">$PACKAGES</span><span class="s2"> </span><span class="nv">$FEDORA_29_PACKAGES</span><span class="s2">"</span>
<span class="k">fi</span>

<span class="nb">echo</span> <span class="s2">"Installing packages required to build FreeCAD"</span>
sudo dnf -y install <span class="nv">$PACKAGES</span>
<span class="nb">cd</span> ~
mkdir <span class="nv">$MAIN_DIR</span> <span class="o">||</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">"~/</span><span class="nv">$MAIN_DIR</span><span class="s2"> already exist. Quitting.."</span><span class="p">;</span> exit<span class="p">;</span> <span class="o">}</span>
<span class="nb">cd</span> <span class="nv">$MAIN_DIR</span>
git clone --recurse-submodules https://github.com/FreeCAD/FreeCAD.git
mkdir <span class="nv">$BUILD_DIR</span> <span class="o">||</span> <span class="o">{</span> <span class="nb">echo</span> <span class="s2">"~/</span><span class="nv">$BUILD_DIR</span><span class="s2"> already exist. Quitting.."</span><span class="p">;</span> exit<span class="p">;</span> <span class="o">}</span>
<span class="nb">cd</span> <span class="nv">$BUILD_DIR</span>
cmake ../FreeCAD 
make -j<span class="k">$(</span>nproc<span class="k">)</span>
</pre></div>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><span id="Arch_using_AUR"></span>
</p>
<h3><span id="Arch_.D1.81_.D0.B8.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5.D0.BC_AUR"></span><span class="mw-headline" id="Arch_с_использованием_AUR">Arch с использованием AUR</span></h3>
<div class="mw-collapsible-content">
<p><a class="external text" href="https://aur.archlinux.org/" rel="nofollow">Arch User Repository (AUR)</a> - это коллекция пользовательских рецептов для создания пакетов, которые официально не поддерживаются сопровождающими распространения / сообществом. Обычно они в безопасности. Вы можете увидеть, кто поддерживал посылку и как долго он это делал. Рекомендуется проверить общестроительные файлы. Также в этой области доступно программное обеспечение с открытым исходным кодом, даже если оно поддерживается официальной компанией-владельцем.
</p><p>Обязательное требование : git
</p>
<div class="mw-translate-fuzzy">
<p>Шаги :
</p>
<ol><li>Откройте терминал. При необходимости создайте каталог, например. <code> mkdir git</code>. При необходимости измените каталог, например. <code>cd git</code>.</li>
<li>Клонировать репозиторий AUR : <code>git clone <a class="external free" href="http://aur.archlinux.org/packages/freecad-git" rel="nofollow">http://aur.archlinux.org/packages/freecad-git</a></code></li>
<li>Войдите в папку репозитория AUR : <code>cd freecad-git</code></li>
<li>Компиляция с использованием <a class="external text" href="https://wiki.archlinux.org/index.php/Makepkg" rel="nofollow">Arch makepkg</a> : <code>makepkg -s</code>. Флаг -s или --syncdeps также установит необходимые зависимости.</li>
<li>Установите созданный пакет : <code>makepkg --install</code> или дважды щелкните имя файла pkgname-pkgver.pkg.tar.xz в вашем браузере файлов.</li></ol>
</div>
<div class="mw-translate-fuzzy">
<p>Чтобы обновить FreeCAD до последней версии, просто повторите шаг 3. Обновите репозиторий, когда в рецепте произойдет какое-либо изменение или появятся новые функции, используя <code>git checkout-f</code> внутри каталога.
</p>
</div>
<p><br/>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../ru\Compile_on_Windows.html" title="Compile on Windows/ru">Компиляция в Windows</a></div>
<div style="margin: 4px 0; float: right;"><a href="../ru\Compile_on_MacOS.html" title="Compile on MacOS/ru">Компиляция в MacOS</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../ru\Online_Help_Toc.html" title="Online Help Toc/ru">Оглавление</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="../File/User_hub.png"><img decoding="async" height="24" src="../File/User_hub.png" width="24"/></a></span> <a href="../ru\User_hub.html" title="User hub/ru">Документация пользователя</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b><a href="../ru\Getting_started.html" title="Getting started/ru">Начинающим</a></b></li>
<li><b>Установка:</b> <a href="../ru\Download.html" title="Download/ru">Загрузка</a>, <a href="../ru\Installing_on_Windows.html" title="Installing on Windows/ru">Windows</a>, <a href="../ru\Installing_on_Linux.html" title="Installing on Linux/ru">Linux</a>, <a href="../ru\Installing_on_Mac.html" title="Installing on Mac/ru">Mac</a>, <a href="../ru\Installing_additional_components.html" title="Installing additional components/ru">
Дополнительных компонентов</a>, <a href="../ru\Compile_on_Docker.html" title="Compile on Docker/ru">Docker</a>, <a href="../ru\AppImage.html" title="AppImage/ru">AppImage</a>, <a href="../ru\Ubuntu_Snap.html" title="Ubuntu Snap/ru">Ubuntu Snap</a></li>
<li><b>Базовая:</b> <a href="../ru\About_FreeCAD.html" title="About FreeCAD/ru">О FreeCAD</a>, <a href="../ru\Interface.html" title="Interface/ru">Интерфейс</a>, <a href="../ru\Mouse_navigation.html" title="Mouse navigation/ru">Навигация мыши</a>, <a href="../ru\Selection_methods.html" title="Selection methods/ru">Методы выделения</a>, <a href="../ru\Object_name.html" title="Object name/ru">Имя объекта</a>, <a href="../ru\Preferences_Editor.html" title="Preferences Editor/ru">Настройки</a>, <a href="../ru\Workbenches.html" title="Workbenches/ru">Верстаки</a>, <a href="../ru\Document_structure.html" title="Document structure/ru">Структура документа</a>, <a href="../ru\Property.html" title="Property/ru">Свойства</a>, <a href="../ru\Help_FreeCAD.html" title="Help FreeCAD/ru">Помоги FreeCAD</a>, <a href="../ru\Donate.html" title="Donate/ru">Пожертвования</a></li></ul>
<hr/>
<ul><li><b>Помощь:</b> <a href="../ru\Tutorials.html" title="Tutorials/ru">Учебники</a>, <a href="../ru\Video_tutorials.html" title="Video tutorials/ru">Видео учебники</a></li>
<li><b><a href="../ru\Workbenches.html" title="Workbenches/ru">Верстаки</a>:</b> <a href="../ru\Std_Base.html" title="Std Base/ru">Std Base</a>, <a href="../ru\Arch_Workbench.html" title="Arch Workbench/ru">Arch</a>, <a class="new" href="../index.php?title=Assembly_Workbench_ru&amp;action=edit&amp;redlink=1.html" title="Assembly Workbench/ru (page does not exist)">Assembly</a>, <a href="../ru\CAM_Workbench.html" title="CAM Workbench/ru">CAM</a>, <a href="../ru\Draft_Workbench.html" title="Draft Workbench/ru">Draft</a>, <a href="../ru\FEM_Workbench.html" title="FEM Workbench/ru">FEM</a>, <a href="../ru\Inspection_Workbench.html" title="Inspection Workbench/ru">Inspection</a>, <a href="../ru\Mesh_Workbench.html" title="Mesh Workbench/ru">Mesh</a>, <a href="../ru\OpenSCAD_Workbench.html" title="OpenSCAD Workbench/ru">OpenSCAD</a>, <a href="../ru\Part_Workbench.html" title="Part Workbench/ru">Part</a>, <a href="../ru\PartDesign_Workbench.html" title="PartDesign Workbench/ru">PartDesign</a>, <a href="../ru\Points_Workbench.html" title="Points Workbench/ru">Points</a>, <a href="../ru\Reverse_Engineering_Workbench.html" title="Reverse Engineering Workbench/ru">Reverse Engineering</a>, <a href="../ru\Robot_Workbench.html" title="Robot Workbench/ru">Robot</a>, <a href="../ru\Sketcher_Workbench.html" title="Sketcher Workbench/ru">Sketcher</a>, <a href="../ru\Spreadsheet_Workbench.html" title="Spreadsheet Workbench/ru">Spreadsheet</a>, <a href="../ru\Surface_Workbench.html" title="Surface Workbench/ru">Surface</a>, <a href="../ru\TechDraw_Workbench.html" title="TechDraw Workbench/ru">TechDraw</a>, <a href="../ru\Testing.html" title="Testing/ru">Test Framework</a></li></ul>
<hr/>
<ul><li><b><a href="../ru\Addon.html" title="Addon/ru">Addons</a>:</b> <a href="../ru\Std_AddonMgr.html" title="Std AddonMgr/ru">Менеджер дополнений</a>, <a href="../ru\External_workbenches.html" title="External workbenches/ru">Внешние верстаки</a>, <a href="../ru\Scripting_and_macros.html" title="Scripting and macros/ru">Cкрипты и макросы</a></li></ul>
<hr/>
<ul><li><b>Hubs:</b> <a href="../ru\User_hub.html" title="User hub/ru">Уголок пользователя</a>, <a href="../ru\Power_users_hub.html" title="Power users hub/ru">Уголок опытных пользователей</a>, <a href="../ru\Developer_hub.html" title="Developer hub/ru">Уголок разработчиков</a></li></ul></div>
</div></div></div></div>
<!-- 
NewPP limit report
Cached time: 20241214202811
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.186 seconds
Real time usage: 0.222 seconds
Preprocessor visited node count: 2812/1000000
Post‐expand include size: 23537/2097152 bytes
Template argument size: 17374/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 48/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 31857/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   53.888      1 -total
 29.56%   15.928     48 Template:Code
 16.86%    9.084    281 Template:Incode
  3.76%    2.025      2 Template:Docnav/ru
  3.15%    1.699      4 Template:FileName
  3.11%    1.676      1 Template:Userdocnavi/ru
  2.46%    1.328      1 Template:Caption
  1.59%    0.855      6 Template:MenuCommand
  1.31%    0.706      1 Template:Navigation_menu_2
  1.27%    0.682      5 Template:Button
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:196754-0!canonical and timestamp 20241214202810 and revision id 1516753. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
