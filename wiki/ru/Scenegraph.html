<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Scenegraph/ru</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="id" title="Scenegraph (5% translated)">Bahasa Indonesia</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Scenegraph.html" lang="de" title="Szenengraph (100% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Scenegraph.html" lang="en" title="Scenegraph (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="tr" title="Scenegraph (5% translated)">Türkçe</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="es" title="Scenegraph (5% translated)">español</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Scenegraph.html" lang="fr" title="Graphe de scène (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Scenegraph.html" lang="it" title="Grafo della Scena (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Scenegraph.html" lang="pl" title="Scenogram (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="pt" title="Scenegraph (5% translated)">português</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="pt-BR" title="Grafo de cena (10% translated)">português do Brasil</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="ro" title="Descrierea scenelor 3D (5% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="sv" title="Scenegraph (5% translated)">svenska</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Scenegraph.html" lang="cs" title="Scenegraph/cs (0% translated)">čeština</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--low" dir="ltr" lang="ru">русский</span></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="Scripted_objects.html" title="Scripted objects/ru">Программируемые объекты</a></div>
<div style="margin: 4px 0; float: right;"><a href="Pivy.html" title="Pivy/ru">Pivy</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="Online_Help_Toc.html" title="Online Help Toc/ru">Оглавление</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Введение"><span class="tocnumber">1</span> <span class="toctext">Введение</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Описание"><span class="tocnumber">2</span> <span class="toctext">Описание</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Coding_examples"><span class="tocnumber">3</span> <span class="toctext">Coding examples</span></a></li>
</ul>
</div>
</div>
<h2><span id=".D0.92.D0.B2.D0.B5.D0.B4.D0.B5.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Введение">Введение</span></h2>
<div class="mw-translate-fuzzy">
<p>Геометрия которая появляется в <a href="3D_view.html" title="3D view/ru">трёхмерных видах</a> FreeCAD, получается с помощью библиотек <a class="external text" href="https://ru.wikipedia.org/wiki/Coin3D" rel="nofollow">Coin3d</a>. Coin3D это реализация стандарта <a class="external text" href="https://ru.wikipedia.org/wiki/Open_Inventor" rel="nofollow">OpenInventor</a>. <a class="external text" href="https://ru.wikipedia.org/wiki/Open_Cascade_Technology" rel="nofollow">OpenCASCADE</a> тоже поддерживает схожую функциональность, но при создании FreeCAD было решено не использовать встроенный в OpenCASCADE просмотрщик, а скорее перейти на более производительный Coin3D. Для изучения этой библиотеки рекомендуется книга <a class="external text" href="http://www-evasion.imag.fr/Membres/Francois.Faure/doc/inventorMentor/sgi_html/" rel="nofollow">Open Inventor Mentor</a>.
</p>
</div>
<h2><span id=".D0.9E.D0.BF.D0.B8.D1.81.D0.B0.D0.BD.D0.B8.D0.B5"></span><span class="mw-headline" id="Описание">Описание</span></h2>
<div class="mw-translate-fuzzy">
<p><a class="external text" href="https://ru.wikipedia.org/wiki/Open_Inventor" rel="nofollow">OpenInventor</a> это язык описания <a class="external text" href="https://ru.wikipedia.org/wiki/Граф_сцены" rel="nofollow">трёхмерной сцены</a>. Сцена, описанная в OpenInventor, затем отрисовывается OpenGL на вашем  экране. Об этом заботится Coin3D, поэтому программисту не надо иметь дело со сложными вызовами OpenGL, он может просто предоставить корректный (работающий) код OpenInventor. Большим преимуществом является то, что OpenInventor это широко известный и хорошо задокументированный стандарт.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Одну из главных работ, которую FreeCAD делает за вас, это перевод информации о геометрии OpenCASCADE  в формат языка OpenInventor.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>OpenInventor записывает трехмерную сцену в форме <a class="external text" href="https://ru.wikipedia.org/wiki/Граф_сцены" rel="nofollow">древа сцен</a>, как показано ниже:
</p>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Scenegraph.gif"><img decoding="async" height="444" src="../File/Scenegraph.gif" width="422"/></a></span>
</p>
<div class="mw-translate-fuzzy">
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;">
Рисунок, взятый с сайта <a class="external text" href="http://www-evasion.imag.fr/~Francois.Faure/doc/inventorMentor/sgi_html/" rel="nofollow">Inventor mentor</a></p>
</div>
<div class="mw-translate-fuzzy">
<p>Дерево сцен в openInventor описывает все части трёхмерной сцены, такие как геометрия, цвета, материалы, освещение, и т.д. и организует все эти данные в удобной и четкой структуре. Все что угодно может быть сгруппировано в субструктуры, позволяя вам организовывать содержание вашей сцены тем способом, который вам нравится. Вот пример файла в формате openInventor:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-bash mw-content-ltr" dir="ltr"><pre><span></span><span class="c1">#Inventor V2.0 ascii</span>
 
Separator <span class="o">{</span> 
    RotationXYZ <span class="o">{</span>	
       axis Z
       angle <span class="m">0</span>
    <span class="o">}</span>
    Transform <span class="o">{</span>
       translation <span class="m">0</span> <span class="m">0</span> <span class="m">0</span>.5
    <span class="o">}</span>
    Separator <span class="o">{</span>	
       Material <span class="o">{</span>
          diffuseColor <span class="m">0</span>.05 <span class="m">0</span>.05 <span class="m">0</span>.05
       <span class="o">}</span>
       Transform <span class="o">{</span>
          rotation <span class="m">1</span> <span class="m">0</span> <span class="m">0</span> <span class="m">1</span>.5708
          scaleFactor <span class="m">0</span>.2 <span class="m">0</span>.5 <span class="m">0</span>.2
       <span class="o">}</span>
       Cylinder <span class="o">{</span>
       <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
<p>Как вы можете видеть, его структура проста. Вы используете разделители (separator), организуя ваши данные в блоки, это немного похоже на то, как вы организуете ваши файлы в папках. Каждый оператор влияет на то, что будет дальше, например, первые два пункта в вашем корневом разделителе это поворот и перенос(трансляция), как они повлияют на следующий элемент, который тоже является разделителем. В этом сепараторе определяется материал и другое преобразование. Поэтому наш цилиндр будет подвержен обеим трансформациям, то что было применено непосредственно к нему, так и то что было применено к родительскому разделителю.
</p>
<div class="mw-translate-fuzzy">
<p>Мы также обладаем множество элементов других типов для организации нашей сцены, таких как группы, переключатели и аннотации. Мы можем задать очень сложные материалы для ваших объектов, с цветами, текстурой, теневыми режимами и прозрачностью. Мы также можем задать освещение, камеры, и даже движение. Можно даже встроить кусочки сценариев в openInventor файлы, для задания более сложного поведения.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Если вы заинтересованы в получении дополнительной информации о openInventor, отправляйтесь напрямую к самому известному руководству: <a class="external text" href="http://www-evasion.imag.fr/~Francois.Faure/doc/inventorMentor/sgi_html/index.html" rel="nofollow">Inventor mentor</a>.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>В FreeCAD, как правило. не нужно напрямую взаимодействовать с древом сцен openInventor. Каждый объект в документе FreeCAD, будь то  полигональная модель (mesh), форма детали, или что-нибудь ещё, автоматически преобразуется в код OpenInventor и вставляется в основное дерево сцен, которое вы видите в окне <a href="3D_view.html" title="3D view/ru">трёхмерного просмотра</a>. Это древо сцен непрерывно обновляется, когда вы модифицируете, добавляете или удаляете объекты. В самом деле каждый объект (в пространстве App) обладает поставщиком визуального отображения (соответствующий объект в пространстве Gui), ответственного за выдачу кода OpenInventor.
</p>
</div>
<p>Но есть множество преимуществ, которые будут возможны при прямом доступе. Например, мы временно можем изменить внешний вид объекта, или мы можем добавить в сцену объекты, которые не обладают реальным представлением в документе FreeCAD, такие как геометрия построений, помощники, графические подсказки или инструменты, такие как манипуляторы или отображающаяся на экране информация.
</p>
<div class="mw-translate-fuzzy">
<p>FreeCAD  обладает несколькими инструментами для просмотра и изменения openInventor кода. На пример, нижеследующий код на python отобразит openInventor представление выбранного объекта:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">obj</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ActiveObject</span>
<span class="n">viewprovider</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">ViewObject</span>
<span class="nb">print</span> <span class="n">viewprovider</span><span class="o">.</span><span class="n">toString</span><span class="p">()</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>А также мы обладаем модулем python открывает полный доступ к управлению чем угодно в  Coin3D, такому как ваше дерево сцен в FreeCAD. Также читайте об этом на странице <a href="Pivy.html" title="Pivy/ru">Pivy</a>.
</p>
</div>
<h2><span class="mw-headline" id="Coding_examples">Coding examples</span></h2>
<p>See <a href="Coin3d_snippets.html" title="Coin3d snippets">Coin3d snippets</a> courtesy of MariwanJ's research for the <a href="Design456_Workbench.html" title="Design456 Workbench">Design456 Workbench</a>. The code repository can be found at <a class="external free" href="https://github.com/MariwanJ/COIN3D_Snippet" rel="nofollow">https://github.com/MariwanJ/COIN3D_Snippet</a>.
</p>
<p><a href="#top">наверх</a></p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="Mesh_to_Part.html" title="Mesh to Part/ru">Mesh to Part</a></div>
<div style="margin: 4px 0; float: right;"><a href="Pivy.html" title="Pivy/ru">Pivy</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="Online_Help_Toc.html" title="Online Help Toc/ru">Оглавление</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" srcset="/images/thumb/8/8f/Power_user_hub.png/36px-Power_user_hub.png 1.5x, /images/thumb/8/8f/Power_user_hub.png/48px-Power_user_hub.png 2x" width="24"/></a></span> <a href="Power_users_hub.html" title="Power users hub/ru">Power user documentation</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>FreeCAD scripting:</b> <a href="Python.html" title="Python/ru">Python</a>, <a href="Introduction_to_Python.html" title="Introduction to Python/ru">Introduction to Python</a>, <a href="Python_scripting_tutorial.html" title="Python scripting tutorial/ru">Python scripting tutorial</a>, <a href="FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/ru">FreeCAD Scripting Basics</a></li></ul>
<hr/>
<ul><li><b>Modules:</b> <a href="Builtin_modules.html" title="Builtin modules/ru">Builtin modules</a>, <a href="Units.html" title="Units/ru">Units</a>, <a class="new" href="index.php?title=Quantity_ru&amp;action=edit&amp;redlink=1.html" title="Quantity/ru (page does not exist)">Quantity</a></li>
<li><b>Workbenches:</b> <a href="Workbench_creation.html" title="Workbench creation/ru">Workbench creation</a>, <a href="Gui_Command.html" title="Gui Command/ru">Gui Commands</a>, <a href="Command.html" title="Command/ru">Commands</a>, <a href="Installing_more_workbenches.html" title="Installing more workbenches/ru">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="Mesh_Scripting.html" title="Mesh Scripting/ru">Mesh Scripting</a>, <a href="Topological_data_scripting.html" title="Topological data scripting/ru">Topological data scripting</a>, <a href="Mesh_to_Part.html" title="Mesh to Part/ru">Mesh to Part</a>, <a href="PythonOCC.html" title="PythonOCC/ru">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Parametric objects:</b> <a href="Scripted_objects.html" title="Scripted objects/ru">Scripted objects</a>, <a href="Viewprovider.html" title="Viewprovider/ru">Viewproviders</a> <small>(<a class="new" href="index.php?title=Custom_icon_in_tree_view_ru&amp;action=edit&amp;redlink=1.html" title="Custom icon in tree view/ru (page does not exist)">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a class="mw-selflink selflink">Coin (Inventor) scenegraph</a>, <a href="Pivy.html" title="Pivy/ru">Pivy</a></li>
<li><b>Graphical interface:</b> <a href="Interface_creation.html" title="Interface creation/ru">Interface creation</a>, <a href="Dialog_creation.html" title="Dialog creation/ru">Interface creation completely in Python</a> <small>(<a class="new" href="index.php?title=Dialog_creation_with_various_widgets_ru&amp;action=edit&amp;redlink=1.html" title="Dialog creation with various widgets/ru (page does not exist)">1</a>, <a class="new" href="index.php?title=Dialog_creation_reading_and_writing_files_ru&amp;action=edit&amp;redlink=1.html" title="Dialog creation reading and writing files/ru (page does not exist)">2</a>, <a class="new" href="index.php?title=Dialog_creation_setting_colors_ru&amp;action=edit&amp;redlink=1.html" title="Dialog creation setting colors/ru (page does not exist)">3</a>, <a class="new" href="index.php?title=Dialog_creation_image_and_animated_GIF_ru&amp;action=edit&amp;redlink=1.html" title="Dialog creation image and animated GIF/ru (page does not exist)">4</a>, <a class="new" href="index.php?title=PySide_usage_snippets_ru&amp;action=edit&amp;redlink=1.html" title="PySide usage snippets/ru (page does not exist)">5</a>)</small>, <a href="PySide.html" title="PySide/ru">PySide</a>, PySide examples <a href="PySide_Beginner_Examples.html" title="PySide Beginner Examples/ru">beginner</a>, <a href="PySide_Intermediate_Examples.html" title="PySide Intermediate Examples/ru">intermediate</a>, <a href="PySide_Advanced_Examples.html" title="PySide Advanced Examples/ru">advanced</a></li>
<li><b>Macros:</b> <a href="Macros.html" title="Macros/ru">Macros</a>, <a href="How_to_install_macros.html" title="How to install macros/ru">How to install macros</a></li>
<li><b>Embedding:</b> <a href="Embedding_FreeCAD.html" title="Embedding FreeCAD/ru">Embedding FreeCAD</a>, <a href="Embedding_FreeCADGui.html" title="Embedding FreeCADGui/ru">Embedding FreeCADGui</a></li></ul>
<hr/>
<ul><li><b>Other:</b> <a href="Expressions.html" title="Expressions/ru">Expressions</a>, <a href="Code_snippets.html" title="Code snippets/ru">Code snippets</a>, <a href="Line_drawing_function.html" title="Line drawing function/ru">Line drawing function</a>, <a href="FreeCAD_vector_math_library.html" title="FreeCAD vector math library/ru">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr/>
<ul><li><b>Hubs:</b> <a href="User_hub.html" title="User hub/ru">User hub</a>, <a href="Power_users_hub.html" title="Power users hub/ru">Power users hub</a>, <a href="Developer_hub.html" title="Developer hub/ru">Developer hub</a></li></ul></div>
</div></div>
<!-- 
NewPP limit report
Cached time: 20241129211344
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.080 seconds
Real time usage: 0.122 seconds
Preprocessor visited node count: 203/1000000
Post‐expand include size: 8539/2097152 bytes
Template argument size: 3016/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 2/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4101/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   11.820      1 -total
 40.30%    4.764      1 Template:Powerdocnavi/ru
 21.52%    2.544      1 Template:Navigation_menu_2
 15.99%    1.890      2 Template:Docnav/ru
 14.81%    1.750      2 Template:Code
  7.81%    0.923      1 Template:Top
  7.16%    0.846      1 Template:Caption
  5.73%    0.678      1 Template:TOCright
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:1058-0!canonical and timestamp 20241129211344 and revision id 1211101. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
