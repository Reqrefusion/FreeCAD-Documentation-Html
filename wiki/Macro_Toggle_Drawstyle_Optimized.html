<link href="site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Macro Toggle Drawstyle Optimized</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="en">English</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Macro_Toggle_Drawstyle_Optimized.html" lang="fr" title="Macro Toggle Drawstyle Optimized (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Macro_Toggle_Drawstyle_Optimized.html" lang="it" title="Macro Toggle Drawstyle Optimized (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Macro_Toggle_Drawstyle_Optimized.html" lang="pl" title="Makrodefinicja: Przełącz zoptymalizowany styl rysowania (5% translated)">polski</a></li></ul></div>
<table class="fcinfobox wikitable ct" style="float: right; width: 230px; margin-left: 10px;" width="100%">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a class="mw-file-description" href="File/Macro_Toggle_Drawstyle_Optimized.png"><img decoding="async" height="32" src="File/Macro_Toggle_Drawstyle_Optimized.png" srcset="/images/thumb/8/8c/Macro_Toggle_Drawstyle_Optimized.png/48px-Macro_Toggle_Drawstyle_Optimized.png 1.5x, /images/8/8c/Macro_Toggle_Drawstyle_Optimized.png 2x" width="32"/></a></span><span> </span>
Macro Toggle Drawstyle Optimized
</p>
</td></tr>
<tr>
<th class="ctOdd">Description
</th></tr>
<tr>
<td class="ctEven left macro-description">Script optimized for all languages and to object selected or all objects.<br/>When working with FreeCAD there are times when you want to quickly change the Drawstyle of the object you are working with. This is available through the Drawstyle pull-down menu where any Drawstyle may be selected. This macro makes 2 of the Drawstyles available as a clickable button on a toolbar which the user may click to toggle back and forth between the two Drawstyles.<br/>See also:<br/>Toggle global display mode: <a class="external text" href="https://www.freecadweb.org/wiki/Macro_Toggle_Drawstyle_Optimized#Script_2" rel="nofollow">Macro_Toggle_Drawstyle_Optimized_2.FCMacro</a><br/>Toggle selected object(s) display mode (changes visible only in global As is (located on View toolbar) display mode): <a class="external text" href="https://www.freecadweb.org/wiki/Macro_Toggle_Drawstyle_Optimized#Script_3" rel="nofollow">Macro_Toggle_Drawstyle_Optimized_3.FCMacro</a><br/><br/>Macro version: 2.0<br/>Last modified: 2020-29-01<br/>FreeCAD version: 0.17 and above<br/>Download: <a class="external text" href="https://www.freecadweb.org/wiki/images/8/8c/Macro_Toggle_Drawstyle_Optimized.png" rel="nofollow">ToolBar Icon</a><br/>Author: Piffpoof , triplus<br/>
</td></tr>
<tr>
<th class="ctOdd">Author
</th></tr>
<tr>
<td class="ctEven macro-author"><a class="new" href="index.php?title=User;Piffpoof_,_triplus&amp;action=edit&amp;redlink=1.html" title="User:Piffpoof , triplus (page does not exist)">Piffpoof , triplus</a>
</td></tr>
<tr>
<th class="ctOdd">Download
</th></tr>
<tr>
<td class="ctEven macro-download"><a class="external text" href="https://www.freecadweb.org/wiki/images/8/8c/Macro_Toggle_Drawstyle_Optimized.png" rel="nofollow">ToolBar Icon</a>
</td></tr>
<tr>
<th class="ctOdd">Links
</th></tr>
<tr>
<td class="ctEven macro-Links"><a href="Macros_recipes.html" title="Macros recipes">Macros recipes</a><br/><a href="How_to_install_macros.html" title="How to install macros">How to install macros</a><br/><a href="Customize_Toolbars.html" title="Customize Toolbars">How to customize toolbars</a>
</td></tr>
<tr>
<th class="ctOdd">Macro Version
</th></tr>
<tr>
<td class="ctEven macro-version">2.0
</td></tr>
<tr>
<th class="ctOdd">Date last modified
</th></tr>
<tr>
<td class="ctEven macro-date">2020-29-01
</td></tr>
<tr>
<th class="ctOdd">FreeCAD Version(s)
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">0.17 and above
</td></tr>
<tr>
<th class="ctOdd">Default shortcut
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">See also
</th></tr>
<tr>
<td class="ctEven"><a href="Macro_Toggle_Drawstyle.html" title="Macro Toggle Drawstyle">Macro Toggle Drawstyle</a> <span typeof="mw:File"><a class="mw-file-description" href="File/Macro_Toggle_Drawstyle.png"><img decoding="async" height="24" src="File/Macro_Toggle_Drawstyle.png" srcset="/images/thumb/0/0b/Macro_Toggle_Drawstyle.png/36px-Macro_Toggle_Drawstyle.png 1.5x, /images/thumb/0/0b/Macro_Toggle_Drawstyle.png/48px-Macro_Toggle_Drawstyle.png 2x" width="24"/></a></span>
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Usage"><span class="tocnumber">3</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Script"><span class="tocnumber">4</span> <span class="toctext">Script</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Script_2"><span class="tocnumber">5</span> <span class="toctext">Script 2</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Script_3"><span class="tocnumber">6</span> <span class="toctext">Script 3</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Link"><span class="tocnumber">7</span> <span class="toctext">Link</span></a></li>
</ul>
</div>
</td></tr>
</tbody></table>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>Script optimized for all languages and to object selected or all objects.
</p><p>Tree macro are available:
</p>
<ul><li>Combination that toggle global display mode when nothing is selected and/or toggle selected objects display mode if objects are selected. When objects are selected global display mode is automatically set to As is: <a href="#Script">Macro_Toggle_Drawstyle_Optimized.FCMacro</a> <span typeof="mw:File"><a class="mw-file-description" href="File/Macro_Toggle_Drawstyle_Optimized.png"><img decoding="async" height="24" src="File/Macro_Toggle_Drawstyle_Optimized.png" srcset="/images/thumb/8/8c/Macro_Toggle_Drawstyle_Optimized.png/36px-Macro_Toggle_Drawstyle_Optimized.png 1.5x, /images/thumb/8/8c/Macro_Toggle_Drawstyle_Optimized.png/48px-Macro_Toggle_Drawstyle_Optimized.png 2x" width="24"/></a></span></li>
<li>Toggle global display mode: <a href="#Script_2">Macro_Toggle_Drawstyle_Optimized_2.FCMacro</a> <span typeof="mw:File"><a class="mw-file-description" href="File/Macro_Toggle_Drawstyle_Optimized_2.png"><img decoding="async" height="24" src="File/Macro_Toggle_Drawstyle_Optimized_2.png" srcset="/images/thumb/c/c0/Macro_Toggle_Drawstyle_Optimized_2.png/36px-Macro_Toggle_Drawstyle_Optimized_2.png 1.5x, /images/thumb/c/c0/Macro_Toggle_Drawstyle_Optimized_2.png/48px-Macro_Toggle_Drawstyle_Optimized_2.png 2x" width="24"/></a></span></li>
<li>Toggle selected object(s) display mode (changes visible only in global As is (located on View toolbar) display mode): <a href="#Script_3">Macro_Toggle_Drawstyle_Optimized_3.FCMacro</a> <span typeof="mw:File"><a class="mw-file-description" href="File/Macro_Toggle_Drawstyle_Optimized_3.png"><img decoding="async" height="24" src="File/Macro_Toggle_Drawstyle_Optimized_3.png" srcset="/images/thumb/f/f4/Macro_Toggle_Drawstyle_Optimized_3.png/36px-Macro_Toggle_Drawstyle_Optimized_3.png 1.5x, /images/thumb/f/f4/Macro_Toggle_Drawstyle_Optimized_3.png/48px-Macro_Toggle_Drawstyle_Optimized_3.png 2x" width="24"/></a></span></li></ul>
<p>When working with FreeCAD there are times when you want to quickly change the Drawstyle of the object you are working with. This is available through the Drawstyle pull-down menu where any Drawstyle may be selected. This macro makes 2 of the Drawstyles available as a clickable button on a toolbar which the user may click to toggle back and forth between the two Drawstyles.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>Installation is comprised of copying the two code to the appropriate Macro directory and invoking it from the Macro menu. It is much preferable to add it both to a toolbar so as to be more easily available.
</p>
<ul><li>see <a href="How_to_install_macros.html" title="How to install macros">How to install macros</a> for information on how to install this macro code</li>
<li>see <a href="Customize_Toolbars.html" title="Customize Toolbars">Customize Toolbars</a> for information how to install as a button on a toolbar</li></ul>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>Select an object, then click on the associated toolbar button, or invoke from the Macro menu. The Drawstyle of the slected object will toggle between the two drawstyles specified in the macro code (see code listing below).
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p>Combination that toggle global display mode when nothing is selected and/or toggle selected objects display mode if objects are selected. When objects are selected global display mode is automatically set to As is:
</p><p><br/>
The icon ToolBar <span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="File/Macro_Toggle_Drawstyle_Optimized.png"><img decoding="async" height="64" src="File/Macro_Toggle_Drawstyle_Optimized.png" width="64"/></a></span>
</p><p><b>Macro_Toggle_Drawstyle_Optimized.FCMacro</b>
</p>
<pre># triplus @ 2016, 2020
# Toggle object/global display mode
# ==============================

# 0 = "As is"
# 1 = "Flat lines"
# 2 = "Shaded
# 3 = "Wireframe"
# 4 = "Points"
# 5 = "Hidden line"
# 6 = "No shading"

globalA = 0
globalB = 3

a = "Flat Lines"
b = "Shaded"
c = "Wireframe"
d = "Points"

objectA = a
objectB = c

# ==============================

from PySide import QtGui
import FreeCADGui as Gui

mw = Gui.getMainWindow()
sel = Gui.Selection.getSelectionEx()


act = {
    0: mw.findChild(QtGui.QAction, "Std_DrawStyleAsIs"),
    1: mw.findChild(QtGui.QAction, "Std_DrawStyleFlatLines"),
    2: mw.findChild(QtGui.QAction, "Std_DrawStyleShaded"),
    3: mw.findChild(QtGui.QAction, "Std_DrawStyleWireframe"),
    4: mw.findChild(QtGui.QAction, "Std_DrawStylePoints"),
    5: mw.findChild(QtGui.QAction, "Std_DrawStyleHiddenLine"),
    6: mw.findChild(QtGui.QAction, "Std_DrawStyleNoShading"),
}


default = act[0]
actionA = act[globalA]
actionB = act[globalB]


if sel:
    obj = []
    default.trigger()
    for s in sel:
        if s.Object.TypeId == "App::Link":
            if s.Object.LinkedObject not in obj:
                obj.append(s.Object.LinkedObject)
        elif s.Object not in obj:
            obj.append(s.Object)
        else:
            pass

    for o in obj:
        if o.ViewObject.DisplayMode == objectA:
            o.ViewObject.DisplayMode = objectB
        else:
            o.ViewObject.DisplayMode = objectA
else:
    if actionA.isChecked():
        actionB.trigger()
    else:
        actionA.trigger()</pre>
<h2><span class="mw-headline" id="Script_2">Script 2</span></h2>
<p>Toggle global display mode:
</p><p>The icon ToolBar <span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="File/Macro_Toggle_Drawstyle_Optimized_2.png"><img decoding="async" height="64" src="File/Macro_Toggle_Drawstyle_Optimized_2.png" width="64"/></a></span>
</p><p><b>Macro_Toggle_Drawstyle_Optimized_2.FCMacro</b>
</p>
<pre># triplus @ 2016, 2020
# Toggle global display mode
# ==============================

# 0 = "As is"
# 1 = "Flat lines"
# 2 = "Shaded
# 3 = "Wireframe"
# 4 = "Points"
# 5 = "Hidden line"
# 6 = "No shading"

styleA = 0
styleB = 3

# ==============================

from PySide import QtGui
import FreeCADGui as Gui

mw = Gui.getMainWindow()


act = {
    0: mw.findChild(QtGui.QAction, "Std_DrawStyleAsIs"),
    1: mw.findChild(QtGui.QAction, "Std_DrawStyleFlatLines"),
    2: mw.findChild(QtGui.QAction, "Std_DrawStyleShaded"),
    3: mw.findChild(QtGui.QAction, "Std_DrawStyleWireframe"),
    4: mw.findChild(QtGui.QAction, "Std_DrawStylePoints"),
    5: mw.findChild(QtGui.QAction, "Std_DrawStyleHiddenLine"),
    6: mw.findChild(QtGui.QAction, "Std_DrawStyleNoShading"),
}


actionA = act[styleA]
actionB = act[styleB]


if actionA.isChecked():
    actionB.trigger()
else:
    actionA.trigger()</pre>
<h2><span class="mw-headline" id="Script_3">Script 3</span></h2>
<p>Toggle selected object(s) display mode (changes visible only in global As is (located on View toolbar) display mode):
</p><p>The icon ToolBar <span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="File/Macro_Toggle_Drawstyle_Optimized_3.png"><img decoding="async" height="64" src="File/Macro_Toggle_Drawstyle_Optimized_3.png" width="64"/></a></span>
</p><p><b>Macro_Toggle_Drawstyle_Optimized_3.FCMacro</b>
</p>
<pre># triplus @ 2016, 2020
# Toggle selected object(s) display mode
# ==============================

a = "Flat Lines"
b = "Shaded"
c = "Wireframe"
d = "Points"

styleA = a
styleB = c

# ==============================

from PySide import QtGui
import FreeCADGui as Gui

obj = []
mw = Gui.getMainWindow()
sel = Gui.Selection.getSelectionEx()
mw.findChild(QtGui.QAction, "Std_DrawStyleAsIs").trigger()


for s in sel:
    if s.Object.TypeId == "App::Link":
        if s.Object.LinkedObject not in obj:
            obj.append(s.Object.LinkedObject)
    elif s.Object not in obj:
        obj.append(s.Object)
    else:
        pass


for o in obj:
    if o.ViewObject.DisplayMode == styleA:
        o.ViewObject.DisplayMode = styleB
    else:
        o.ViewObject.DisplayMode = styleA</pre>
<div style="clear:both"></div>
<h2><span class="mw-headline" id="Link">Link</span></h2>
<p>The Forum link (2016-11-27 ver:1.0 FC =&lt; 0.17) : <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=3&amp;t=14336&amp;start=40#p146239" rel="nofollow">Keyboard shortcut, View toolbar - Wireframe</a>
</p><p>The Forum link (2020-29-01 ver:2.0 FC =&gt; 0.17) : <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=3&amp;t=14336&amp;start=50#p364692" rel="nofollow">Keyboard shortcut, View toolbar - Wireframe</a>
</p><p><br/>
</p>
<!-- 
NewPP limit report
Cached time: 20241129210807
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.061 seconds
Real time usage: 0.085 seconds
Preprocessor visited node count: 155/1000000
Post‐expand include size: 3286/2097152 bytes
Template argument size: 4732/2097152 bytes
Highest expansion depth: 7/100
Expensive parser function count: 2/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4154/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    6.114      1 -total
 59.96%    3.666      1 Template:Macro
 23.21%    1.419      3 Template:MacroCode
 11.13%    0.680      1 Template:Clear
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:157626-0!canonical and timestamp 20241129210807 and revision id 678645. Rendering was triggered because: api-parse
 -->
</div></div><script src="script.js"></script>
