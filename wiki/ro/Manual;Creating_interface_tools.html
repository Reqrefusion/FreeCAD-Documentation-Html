<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Manual:Creating interface tools/ro</span></h1><?xml encoding="UTF-8"><div class="mw-parser-output"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="wiki/de//Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--high" title="Handbuch:Erstellen von Oberfl&auml;chenwerkzeugen (66% translated)" lang="de" dir="ltr">Deutsch</a></li>
<li><a href="wiki//Manual;Creating_interface_tools.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Manual:Creating interface tools (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="wiki/fr//Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--high" title="Manuel : Cr&eacute;ation d'outils d'interface (66% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="wiki/it//Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--high" title="Manuale:Creare interfacce di strumenti (66% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="wiki/pl//Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--high" title="Podr&#281;cznik:Tworzenie narz&#281;dzi interfejsu (66% translated)" lang="pl" dir="ltr">polski</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--med" lang="ro" dir="ltr">rom&acirc;n&#259;</span></li>
<li><a href="wiki/ru//Manual;Creating_interface_tools.html" class="mw-pt-progress mw-pt-progress--med" title="&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1080;&#1085;&#1089;&#1090;&#1088;&#1091;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074; &#1080;&#1085;&#1090;&#1077;&#1088;&#1092;&#1077;&#1081;&#1089;&#1072; (49% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
    <div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16"></span></span> <a href="wiki//Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects">Creating parametric objects</a></div>
    <div style="margin: 4px 0; float: right;"><a href="wiki//Manual;The_Community.html" title="Manual:The Community">The Community</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16"></span></span></div>
    <div style="text-align:center"><a href="wiki//Manual;Introduction.html" title="Manual:Introduction">Manual start</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Crystal_Clear_manual.png" decoding="async" width="24" height="24"></span></span></div>
</div>
<div id="toc" class="manualtoc" style="float:right; margin:10px 0px 10px 10px;">
<ul><li><a href="wiki//Manual;Introduction.html" title="Manual:Introduction">Introducere</a></li>
<li>Descoperind FreeCAD
<ul><li><a href="wiki//Manual;What_is_FreeCAD.html" title="Manual:What is FreeCAD">Ce este FreeCAD?</a></li>
<li><a href="wiki//Manual;Installing.html" title="Manual:Installing">Instalarea</a>
<ul><li><a href="wiki//Manual;Installing.html#installing_on_Windows" title="Manual:Installing">Instalarea sub Windows</a></li>
<li><a href="wiki//Manual;Installing.html#Installing_on_Linux" title="Manual:Installing">Instalarea sub Linux</a></li>
<li><a href="wiki//Manual;Installing.html#Installing_on_Mac_OS" title="Manual:Installing">Instalarea sub Mac OS</a></li>
<li><a href="wiki//Manual;Installing.html#Uninstalling" title="Manual:Installing">Dezinstalare</a></li>
<li><a href="wiki//Manual;Installing.html#Setting_basic_preferences" title="Manual:Installing">Setarea preferin&#539;eor de baz&#259;</a></li>
<li><a href="wiki//Manual;Installing.html#Installing_additional_content" title="Manual:Installing">Instalarea de con&#539;inut adi&#539;ional</a></li></ul></li>
<li><a href="wiki//Manual;The_FreeCAD_Interface.html" title="Manual:The FreeCAD Interface">Interfa&#539;a FreeCAD </a>
<ul><li><a href="wiki//Manual;The_FreeCAD_Interface.html#Workbenches" title="Manual:The FreeCAD Interface">Atelierele/Workbenches</a></li>
<li><a href="wiki//Manual;The_FreeCAD_Interface.html#The_interface" title="Manual:The FreeCAD Interface">Interfa&#539;a</a></li>
<li><a href="wiki//Manual;The_FreeCAD_Interface.html#Customizing_the_interface" title="Manual:The FreeCAD Interface">Personalizara interfa&#539;ei</a></li></ul></li>
<li><a href="wiki//Manual;Navigating_in_the_3D_view.html" title="Manual:Navigating in the 3D view">Navigarea &icirc;ntr-o vedere 3D </a>
<ul><li><a href="wiki//Manual;Navigating_in_the_3D_view.html#A_word_about_the_3D_space" title="Manual:Navigating in the 3D view">O vorb&#259; despre spa&#539;iul 3D </a></li>
<li><a href="wiki//Manual;Navigating_in_the_3D_view.html#The_FreeCAD_3D_view" title="Manual:Navigating in the 3D view">Vederea 3D &icirc;n FreeCAD </a></li>
<li><a href="wiki//Manual;Navigating_in_the_3D_view.html#Selecting_objects" title="Manual:Navigating in the 3D view">Selectarea obeictelor</a></li></ul></li>
<li><a href="wiki//Manual;The_FreeCAD_document.html" title="Manual:The FreeCAD document">Documentul  FreeCAD</a></li>
<li><a href="wiki//Manual;Parametric_objects.html" title="Manual:Parametric objects">Obiece Parametrice</a></li>
<li><a href="wiki//Manual;Import_and_export_to_other_filetypes.html" title="Manual:Import and export to other filetypes">Importul &#537;i exportul altor tipuri de fi&#537;iere</a></li></ul></li>
<li>Lucrul cu FreeCAD
<ul><li><a href="wiki//Manual;All_workbenches_at_a_glance.html" title="Manual:All workbenches at a glance">Toate atelierele &icirc;ntr-o privire</a></li>
<li><a href="wiki//Manual;Traditional_modeling,_the_CSG_way.html" title="Manual:Traditional modeling, the CSG way">Modelarea Traditional&#259;, calea CSG</a></li>
<li><a href="wiki//Manual;Traditional_2D_drafting.html" title="Manual:Traditional 2D drafting">Schi&#539;a Tra&#539;ional&#259; 2D </a></li>
<li><a href="wiki//Manual;Modeling_for_product_design.html" title="Manual:Modeling for product design">Modelarea pentru designul produsului</a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html" title="Manual:Preparing models for 3D printing">Preg&#259;tirea modelelor pentru tip&#259;rire 3D</a>
<ul><li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Exporting_to_slicers" title="Manual:Preparing models for 3D printing">Exportarea spre feliatori/slicers</a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Converting_objects_to_meshes" title="Manual:Preparing models for 3D printing">Conversia obiectelor &icirc;n plase de discretizare</a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Using_Slic3r" title="Manual:Preparing models for 3D printing">Utilizarea Slic3r</a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Using_the_Cura_addon" title="Manual:Preparing models for 3D printing">Utilizarea addon  Cura </a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Generating_G-code" title="Manual:Preparing models for 3D printing">Generarea de G-code</a></li></ul></li>
<li><a href="wiki//Manual;Generating_2D_drawings.html" title="Manual:Generating 2D drawings">Generarea de desene 2D</a></li>
<li><a href="wiki//Manual;BIM_modeling.html" title="Manual:BIM modeling">Modelarea &icirc;n construc&#539;ii BIM </a></li>
<li><a href="wiki//Manual;Using_spreadsheets.html" title="Manual:Using spreadsheets">Utilizarea foilor de calcul</a>
<ul><li><a href="wiki//Manual;Using_spreadsheets.html#Reading_properties" title="Manual:Using spreadsheets">Lectura  propriet&#259;&#539;ilor</a></li>
<li><a href="wiki//Manual;Using_spreadsheets.html#Writing_properties" title="Manual:Using spreadsheets">Scrierea  propert&#259;&#539;ilor</a></li></ul></li>
<li><a href="wiki//Manual;Creating_FEM_analyses.html" title="Manual:Creating FEM analyses">Crearea analizei MEF</a></li>
<li><a href="wiki//Manual;Creating_renderings.html" title="Manual:Creating renderings">Crearea rand&#259;rilor</a></li></ul></li>
<li>Programarea prin script Python
<ul><li><a href="wiki//Manual;A_gentle_introduction.html" title="Manual:A gentle introduction">O introducere cu duhul bl&acirc;nde&#539;ii</a>
<ul><li><a href="wiki//Manual;A_gentle_introduction.html#Writing_Python_code" title="Manual:A gentle introduction">Scrierea de cod Python</a></li>
<li><a href="wiki//Manual;A_gentle_introduction.html#Manipulating_FreeCAD_objects" title="Manual:A gentle introduction">Manipularea obiectelor FreeCAD </a></li>
<li><a href="wiki//Manual;A_gentle_introduction.html#Vectors_and_Placements" title="Manual:A gentle introduction">Vectori &#537;i Amplasament</a></li></ul></li>
<li><a href="wiki//Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry">Crearea &#537;i manipularea formelor geometrice</a></li>
<li><a href="wiki//Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects">Crearea de obiecte parametrice</a></li>
<li><a href="wiki//Manual;Creating_interface_tools.html" title="Manual:Creating interface tools">Crearea inerfe&#539;ei instrumetnelor</a></li></ul></li>
<li><a href="wiki//Manual;The_Community.html" title="Manual:The Community">Comunitatea</a></li></ul></div>
<p>&Icirc;n ultimele dou&#259; capitole, am v&#259;zut cum s&#259; <a href="wiki//Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry">create Part geometry</a> &#537;i <a href="wiki//Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects">create parametric objects</a>. O ultim&#259; pies&#259; lipse&#537;te pentru a ob&#539;ine un control deplin peste FreeCAD: Crea&#539;i instrumente care vor interac&#539;iona cu utilizatorul.
</p><p>&Icirc;n multe situa&#539;ii, nu este foarte u&#537;or s&#259; construim un obiect cu valori zero, a&#537;a cum am f&#259;cut-o cu dreptunghiul din capitolul precedent, &#537;i apoi s&#259; cerem utilizatorului s&#259; completeze valorile &Icirc;n&#259;l&#539;ime &#537;i L&#259;&#539;ime din panoul Propriet&#259;&#539;i. Aceasta func&#539;ioneaz&#259; pentru un num&#259;r foarte mic de obiecte, dar va deveni foarte obositoare dac&#259; ave&#539;i multe dreptunghiuri. O modalitate mai bun&#259; ar fi s&#259; pute&#539;i da deja &icirc;n&#259;l&#539;imea &#537;i l&#259;&#539;imea la crearea dreptunghiului.
</p><p>Python ofer&#259; un instrument de baz&#259; pentru ca utilizatorul s&#259; introduc&#259; text pe ecran:
</p>
<pre>text = raw_input("Height of the rectangle?")
print("The entered height is ",text)
</pre>
<p>Totu&#537;i, aceasta necesit&#259; o consol&#259; Python care ruleaz&#259;, iar atunci c&acirc;nd execut&#259;m codul dintr-o macrocomand&#259;, nu suntem &icirc;ntotdeauna siguri c&#259; avem Consola Python va fi activat&#259; pe ma&#537;ina utilizatorului.
</p>
<div class="mw-translate-fuzzy">
<pre>Interfa&#539;a utilizatorului grafic <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Graphical_user_interface">Graphical User Interface</a>, sau GUI, adic&#259; &icirc;ntreaga parte a programului FreeCAD care este afi&#537;at pe ecran (meniul, barele de instrumente, vizualizarea 3D etc.), este acolo &icirc;n acest scop: interac&#539;iona&#539;i cu utilizatorul. Interfa&#539;a FreeCAD este construit&#259; cu <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Qt_(software)">Qt</a>, o trus&#259; de instrumente GUI foarte variate, care ofer&#259; o gam&#259; larg&#259; de instrumente, cum ar fi casete, butoane, etichete, casete de introducere a textului sau meniuri derulante. Acestea sunt numite generic "widget-uri".
</pre>
</div>
<div class="mw-translate-fuzzy">
<p>Instrumentele Qt sunt foarte u&#537;or de utilizat din Python, datorit&#259; unui modul Python numit Pyside <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/PySide">Pyside</a> (Exist&#259; &#537;i alte module Python care comunic&#259; cu Qt de la Python). Acest modul v&#259; permite s&#259; crea&#539;i &#537;i s&#259; interac&#539;iona&#539;i cu widget-uri, s&#259; citi&#539;i ce a f&#259;cut utilizatorul cu ele sau s&#259; face&#539;i lucruri atunci c&acirc;nd, de exemplu, a fost ap&#259;sat un buton.
</p>
</div>
<p>One of the key advantages of Qt is its cross-platform compatibility, enabling FreeCAD to run seamlessly on different operating systems like Windows, macOS, and Linux. Additionally, Qt&rsquo;s flexibility makes it easy for developers to extend or customize FreeCAD&rsquo;s interface, either by creating new toolbars and menus or by building entirely new modules that integrate into the software. This adaptability ensures that FreeCAD remains both user-friendly and highly extensible.
</p><p>For users interested in scripting or developing new tools, FreeCAD's Python API also provides access to many Qt features. This means you can not only automate tasks but also create custom widgets or dialogs that integrate directly into the FreeCAD environment.
</p><p>The Qt tools are very easy to use from Python, thanks to a Python module called <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/PySide">PySide</a>. PySide is the official Python binding for the Qt library, providing a seamless way to create and interact with widgets programmatically. It allows developers to design interfaces, manage user inputs (such as reading text from input boxes), and define actions based on user interactions, such as responding to a button press. Using PySide, you can build custom dialog boxes, menus, and toolbars directly within FreeCAD, extending its functionality in a way that integrates smoothly with its existing interface.
</p><p>PySide makes it easy to connect user actions to specific functions in your code. For example, you can set up a button so that when it&rsquo;s pressed, it triggers a script to execute a command or modify an object in the 3D view. This interactive capability opens up endless possibilities for customizing workflows and automating repetitive tasks.
</p><p>Qt furnizeaz&#259; de asemenea un alt instrument numit <a rel="nofollow" class="external text" href="http://doc.qt.io/qt-4.8/designer-manual.html">Qt Designer</a>, care ast&#259;zi este &icirc;ncorporat&#259; &icirc;ntr-o aplica&#539;ie mai mare numit&#259; Qt Creator <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Qt_Creator">Qt Creator</a>.Permite crearea grafic&#259; a casetelor de dialog &#537;i a panourilor de interfa&#539;&#259;, &icirc;n loc s&#259; le codeze manual. In acest capitol,vom folosi Qt Creator pentru a proiecta un widget pe care &icirc;l vom folosi &icirc;n panoul de Sarcini <b>Task</b> al FreeCAD. Prin urmare, va trebui s&#259; desc&#259;rca&#539;i &#537;i s&#259; instala&#539;i Qt Creator de pe <a rel="nofollow" class="external text" href="https://www.qt.io/ide/">official page</a> dac&#259; sunte&#539;i pe Windows sau Mac (sub Linux, va fi de obicei disponibil&#259; din aplica&#539;ia dvs. de manager de software).
</p><p>&Icirc;n exerci&#539;iul urm&#259;tor, vom crea mai &icirc;nt&acirc;i un panou cu Qt Creator care solicit&#259; valorile de lungime, l&#259;&#539;ime &#537;i &icirc;n&#259;l&#539;ime, apoi vom crea &icirc;n jurul lui o clas&#259; Python care va citi valorile introduse de utilizator din panou &#537;i va crea o caset&#259; cu dimensiunile date. Acest Python va fi folosit de FreeCAD pentru afi&#537;area &#537;i controlul panoului de sarcini:
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_07.jpg" class="mw-file-description"><img src="../File/Exercise_python_07.jpg" decoding="async" width="181" height="112"></a></span>
</p>
<div class="mw-translate-fuzzy">
<p>S&#259; &icirc;ncepem prin crearea unui widget. Start Qt Creator, apoi meniul <b>File -&gt; New File or Project -&gt; Files and Classes -&gt; Qt -&gt; Qt Designer Form -&gt; Dialog without buttons</b>. Click <b>Next</b>, da&#539;i-i un nume de fi&#537;ier pentru a-l salva, click <b>Next</b>, l&#259;sa&#539;i toate c&acirc;mpurile de proiect la valoarea lor implicit&#259; ("&lt;none&gt;"), &#537;i <b>Create</b>. Sistemul de sarcini FreeCAD va ad&#259;uga automat butoanele OK / Anulare, a&#537;a c&#259; am ales aici o caset&#259; de dialog f&#259;r&#259; butoane.
</p>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_06.jpg" class="mw-file-description"><img src="../File/Exercise_python_06.jpg" decoding="async" width="1237" height="877"></a></span>
</p>
<div class="mw-translate-fuzzy">
<ul><li>G&#259;si&#539;i <b>Label</b> din lista din panoul din st&acirc;nga &#537;i glisa&#539;i-o pe panza widget-ului nostru. Face&#539;i dublu clic pe eticheta loca&#539;iei recente &#537;i modifica&#539;i textul sau la <b>Lungime</b>.</li>
<li>Face&#539;i clic dreapta pe p&acirc;nza widget &#537;i alege&#539;i <b>Lay out-&gt; Lay out in a Grid</b>. Acest lucru va pune widgetul nostru &icirc;ntr-o re&#539;ea cu o singur&#259; celul&#259;, ocupat&#259; de prima noastr&#259; etichet&#259;. Acum putem ad&#259;uga urm&#259;toarele elemente la st&acirc;nga, la dreapta, &icirc;n partea de sus sau &icirc;n partea de jos a primei noastre etichete, iar gril&#259; se va extinde automat.</li>
<li>Ad&#259;uga&#539;i &icirc;nc&#259; dou&#259; etichete la prima &#537;i schimba&#539;i textul la L&#259;&#539;ime &#537;i &icirc;n&#259;l&#539;ime:</li></ul>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_08.jpg" class="mw-file-description"><img src="../File/Exercise_python_08.jpg" decoding="async" width="897" height="367"></a></span>
</p>
<div class="mw-translate-fuzzy">
<ul><li>Acum plasa&#539;i 3 <b>Double Spin Box</b> widgets l&acirc;ng&#259; etichetele Lungime, L&#259;&#539;ime &#537;i &Icirc;n&#259;l&#539;ime. Pentru fiecare dintre ele, &icirc;n panoul din st&acirc;nga jos, care arat&#259; toate set&#259;rile disponibile pentru widgetul selectat, localiza&#539;i <b>Suffix</b> &#537;i defini&#539;i sufixul &icirc;n <b>mm</b>. FreeCAD are un widget mai avansat, care poate gestiona unit&#259;&#539;i diferite, dar acest lucru nu este disponibil &icirc;n mod implicit &icirc;n Creator Qt (dar poate fi compilat <a href="wiki//Compile_on_Linux.html#Qt_designer_plugin" title="Compile on Linux">compiled</a>), a&#537;a c&#259; vom folosi o Double Spin Box standard &#537;i vom ad&#259;uga sufixul "mm" pentru a ne asigura c&#259; utilizatorul &#537;tie &icirc;n ce unit&#259;&#539;i lucreaz&#259;:</li></ul>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_09.jpg" class="mw-file-description"><img src="../File/Exercise_python_09.jpg" decoding="async" width="1053" height="609"></a></span>
</p>
<div class="mw-translate-fuzzy">
<ul><li>Acum widget-ul nostru s-a terminat, trebuie doar s&#259; ne asigur&#259;m de ultimul lucru. Din moment ce FreeCAD va trebui s&#259; acceseze acel widget &#537;i s&#259; citeasc&#259; valorile Lungime, L&#259;&#539;ime &#537;i &Icirc;n&#259;l&#539;ime, trebuie s&#259; le d&#259;m nume potrivite widget-urilor, astfel &icirc;nc&acirc;t s&#259; le putem recupera cu u&#537;urin&#539;&#259; din interiorul FreeCAD. Face&#539;i clic pe fiecare dintre Double Spin Boxes &#537;i &icirc;n fereastra din partea dreapt&#259; sus, face&#539;i dublu clic pe Objedt Name &#537;i schimba&#539;i-le la ceva u&#537;or de memorat, de exemplu: BoxLength, BoxWidth &#537;i BoxHeight:</li></ul>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_10.jpg" class="mw-file-description"><img src="../File/Exercise_python_10.jpg" decoding="async" width="979" height="513"></a></span>
</p>
<div class="mw-translate-fuzzy">
<ul><li>Salveaz&#259; fi&#537;ierul, pute&#539;i &icirc;nchide cum Qt Creator, restul va fi f&#259;cut &icirc;n Python.</li>
<li>Deschide&#539;i FreeCAD &#537;i crea&#539;i un nou macro din meniul <b>Macro -&gt; Macros -&gt; Create</b></li>
<li>Lipi&#539;i urm&#259;torul cod. Asigura&#539;i-v&#259; c&#259; schimba&#539;i calea fi&#537;ierului pentru a se potrivi de unde a&#539;i salvat fi&#537;ierul .ui creat &icirc;n QtCreator:</li></ul>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span><span class="nn">FreeCADGui</span><span class="o">,</span><span class="nn">Part</span>
 
<span class="c1"># CHANGE THE LINE BELOW</span>
<span class="n">path_to_ui</span> <span class="o">=</span> <span class="s2">"C:\Users\yorik\Documents\dialog.ui"</span>
 
<span class="k">class</span> <span class="nc">BoxTaskPanel</span><span class="p">:</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="c1"># this will create a Qt widget from our ui file</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">PySideUic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="n">path_to_ui</span><span class="p">)</span>
 
   <span class="k">def</span> <span class="nf">accept</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="n">length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxLength</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxWidth</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxHeight</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">width</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">height</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
           <span class="nb">print</span><span class="p">(</span><span class="s2">"Error! None of the values can be 0!"</span><span class="p">)</span>
           <span class="c1"># we bail out without doing anything</span>
           <span class="k">return</span>
       <span class="n">box</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">)</span>
       <span class="n">Part</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
       <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">closeDialog</span><span class="p">()</span>
        
<span class="n">panel</span> <span class="o">=</span> <span class="n">BoxTaskPanel</span><span class="p">()</span>
<span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">showDialog</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>&Icirc;n codul de mai sus, am folosit o func&#539;ie convenabil&#259; (PySideUic.loadUi) din modulul FreeCADGui. Aceast&#259; func&#539;ie &icirc;ncarc&#259; un fi&#537;ier .ui, creeaz&#259; un widget Qt din acesta &#537;i scrie numele, astfel &icirc;nc&acirc;t s&#259; putem accesa cu u&#537;urin&#539;&#259; subspa&#539;iul dup&#259; nume (ex: self.form.BoxLength).
</p>
</div>
<p>Func&#539;ia "accept" este, de asemenea, o facilitate oferit&#259; de Qt. Atunci c&acirc;nd exist&#259; un buton "OK" &icirc;ntr-o caset&#259; de dialog (care este cazul &icirc;n mod implicit c&acirc;nd se utilizeaz&#259; panoul Task FreeCAD) "accept" va fi executat automat c&acirc;nd ap&#259;sa&#539;i butonul "OK". &Icirc;n mod similar, pute&#539;i ad&#259;uga o func&#539;ie de "respingere" care se execut&#259; atunci c&acirc;nd ap&#259;sa&#539;i butonul "Cancel". &Icirc;n cazul nostru, am eliminat aceast&#259; func&#539;ie, a&#537;a c&#259; ap&#259;s&acirc;nd "Cancel" va cauza comportamentul implicit (nu face&#539;i nimic &#537;i &icirc;nchide&#539;i caseta de dialog).
</p><p>Dac&#259; implement&#259;m oricare dintre func&#539;iile de acceptare sau de respingere, comportamentul implicit (nu face nimic &#537;i &icirc;nchide) nu va mai avea loc. A&#537;a c&#259; trebuie noi &icirc;n&#537;ine trebuie s&#259; &icirc;nchidem panoul de sarcini . Acest lucru se face cu:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">closeDialog</span><span class="p">()</span>
</pre></div>
<p>Odat&#259; ce avem BoxTaskPanel, care are un widget numit "self.form" &#537;i 2 - dac&#259; este necesar, func&#539;iile Accept&#259; &#537;i Respinge, putem deschide panoul de sarcini cu acesta, ceea ce se face cu aceste dou&#259; linii&nbsp;:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">panel</span> <span class="o">=</span> <span class="n">BoxTaskPanel</span><span class="p">()</span>
 <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">showDialog</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Re&#539;ine&#539;i c&#259; widget-ul creat de PySideUic.loadUi nu este specific pentru FreeCAD, este un widget standard Qt care poate fi utilizat cu alte instrumente Qt. De exemplu, am fi ar&#259;tat o caset&#259; de dialog separat&#259; cu ea. &Icirc;ncerca&#539;i acest lucru &icirc;n Consola Python a FreeCAD (folosind calea corect&#259; spre fi&#537;ierul .ui, desigur):
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span>
 <span class="n">w</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">PySideUic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="s2">"C:\Users\yorik\Documents\dialog.ui"</span><span class="p">)</span>
 <span class="n">w</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p>Bine&icirc;n&#539;eles noi nu am ad&#259;ugat butonul "OK" sau "Cancel" &icirc;n caseta nostr&#259; de dialog, deoarece a fost f&#259;cut pentru a fi utilizat de panoul sarcini(Task) FreeCAD, care ofer&#259; deja astfel de butoane. Deci, nu exist&#259; nicio modalitate de a &icirc;nchide dialogul(altul dec&acirc;t ap&#259;sarea butonului de &icirc;nchidere a ferestrei). Dar func&#539;ia show () creeaz&#259; o caset&#259; de dialog nemodal, ceea ce &icirc;nseamn&#259; c&#259; aceasta nu blocheaz&#259; restul interfe&#539;ei. Deci, &icirc;n timp ce dialogul este &icirc;nc&#259; deschis, putem citi valorile c&acirc;mpurilor:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">w</span><span class="o">.</span><span class="n">BoxHeight</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</pre></div>
<p>Aceasta este foarte util de a fi &icirc;ncercat.
</p><p>&Icirc;n cele din urm&#259;, nu uita&#539;i c&#259; exist&#259; mult mai multe despre widgeturile QT  pe FreeCAD Wiki, &icirc;n sec&#539;iunea <a href="wiki//Power_users_hub.html" title="Power users hub">Python Scripting</a>, care con&#539;ine <a href="wiki//Dialog_creation.html" title="Dialog creation">dialog creation tutorial</a>, o parte ter&#539;&#259; special&#259;  <a href="wiki//PySide.html" title="PySide">PySide tutorial</a> care acoper&#259; &icirc;n mode extins subiectul.
</p>
<div class="mw-translate-fuzzy">
<ul><li><a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Qt_Creator">Qt Creator</a></li>
<li><a rel="nofollow" class="external text" href="https://www.qt.io/ide/">Installing Qt Creator</a></li>
<li><a href="wiki//Power_users_hub.html" title="Power users hub">Python scripting documentation</a></li>
<li><a href="wiki//Dialog_creation.html" title="Dialog creation">Dialog creation tutorial</a></li>
<li><a href="wiki//PySide.html" title="PySide">PySide tutorials</a></li>
<li><a rel="nofollow" class="external text" href="http://srinikom.github.io/pyside-docs/index.html">PySide documentation</a></li></ul>
</div>
<p><br>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
    <div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16"></span></span> <a href="wiki//Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects">Creating parametric objects</a></div>
    <div style="margin: 4px 0; float: right;"><a href="wiki//Manual;The_Community.html" title="Manual:The Community">The Community</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16"></span></span></div>
    <div style="text-align:center"><a href="wiki//Manual;Introduction.html" title="Manual:Introduction">Manual start</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Crystal_Clear_manual.png" decoding="async" width="24" height="24"></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
    <div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a href="../File/Power_user_hub.png" class="mw-file-description"><img src="../File/Power_user_hub.png" decoding="async" width="24" height="24"></a></span> <a href="wiki/ro//Power_users_hub.html" title="Power users hub/ro">Power user documentation</a>
        <div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>FreeCAD scripting:</b> <a href="wiki/ro//Python.html" title="Python/ro">Python</a>, <a href="wiki/ro//Introduction_to_Python.html" title="Introduction to Python/ro">Introduction to Python</a>, <a href="wiki/ro//Python_scripting_tutorial.html" title="Python scripting tutorial/ro">Python scripting tutorial</a>, <a href="wiki/ro//FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/ro">FreeCAD Scripting Basics</a></li></ul>
<hr>
<ul><li><b>Modules:</b> <a href="wiki/ro//Builtin_modules.html" title="Builtin modules/ro">Builtin modules</a>, <a href="wiki/ro//Units.html" title="Units/ro">Units</a>, <a href="wiki//index.php?title=Quantity/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Quantity/ro (page does not exist)">Quantity</a></li>
<li><b>Workbenches:</b> <a href="wiki/ro//Workbench_creation.html" title="Workbench creation/ro">Workbench creation</a>, <a href="wiki/ro//Gui_Command.html" title="Gui Command/ro">Gui Commands</a>, <a href="wiki/ro//Command.html" title="Command/ro">Commands</a>, <a href="wiki/ro//Installing_more_workbenches.html" title="Installing more workbenches/ro">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="wiki/ro//Mesh_Scripting.html" title="Mesh Scripting/ro">Mesh Scripting</a>, <a href="wiki/ro//Topological_data_scripting.html" title="Topological data scripting/ro">Topological data scripting</a>, <a href="wiki/ro//Mesh_to_Part.html" title="Mesh to Part/ro">Mesh to Part</a>, <a href="wiki/ro//PythonOCC.html" title="PythonOCC/ro">PythonOCC</a></li></ul>
<hr>
<ul><li><b>Parametric objects:</b> <a href="wiki/ro//Scripted_objects.html" title="Scripted objects/ro">Scripted objects</a>, <a href="wiki//index.php?title=Viewprovider/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Viewprovider/ro (page does not exist)">Viewproviders</a> <small>(<a href="wiki//index.php?title=Custom_icon_in_tree_view/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Custom icon in tree view/ro (page does not exist)">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a href="wiki/ro//Scenegraph.html" title="Scenegraph/ro">Coin (Inventor) scenegraph</a>, <a href="wiki/ro//Pivy.html" title="Pivy/ro">Pivy</a></li>
<li><b>Graphical interface:</b> <a href="wiki//index.php?title=Interface_creation/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Interface creation/ro (page does not exist)">Interface creation</a>, <a href="wiki/ro//Dialog_creation.html" title="Dialog creation/ro">Interface creation completely in Python</a> <small>(<a href="wiki//index.php?title=Dialog_creation_with_various_widgets/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation with various widgets/ro (page does not exist)">1</a>, <a href="wiki//index.php?title=Dialog_creation_reading_and_writing_files/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation reading and writing files/ro (page does not exist)">2</a>, <a href="wiki//index.php?title=Dialog_creation_setting_colors/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation setting colors/ro (page does not exist)">3</a>, <a href="wiki//index.php?title=Dialog_creation_image_and_animated_GIF/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation image and animated GIF/ro (page does not exist)">4</a>, <a href="wiki//index.php?title=PySide_usage_snippets/ro&amp;action=edit&amp;redlink=1.html" class="new" title="PySide usage snippets/ro (page does not exist)">5</a>)</small>, <a href="wiki/ro//PySide.html" title="PySide/ro">PySide</a>, PySide examples <a href="wiki//index.php?title=PySide_Beginner_Examples/ro&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Beginner Examples/ro (page does not exist)">beginner</a>, <a href="wiki//index.php?title=PySide_Intermediate_Examples/ro&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Intermediate Examples/ro (page does not exist)">intermediate</a>, <a href="wiki//index.php?title=PySide_Advanced_Examples/ro&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Advanced Examples/ro (page does not exist)">advanced</a></li>
<li><b>Macros:</b> <a href="wiki/ro//Macros.html" title="Macros/ro">Macros</a>, <a href="wiki/ro//How_to_install_macros.html" title="How to install macros/ro">How to install macros</a></li>
<li><b>Embedding:</b> <a href="wiki/ro//Embedding_FreeCAD.html" title="Embedding FreeCAD/ro">Embedding FreeCAD</a>, <a href="wiki/ro//Embedding_FreeCADGui.html" title="Embedding FreeCADGui/ro">Embedding FreeCADGui</a></li></ul>
<hr>
<ul><li><b>Other:</b> <a href="wiki//index.php?title=Expressions/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Expressions/ro (page does not exist)">Expressions</a>, <a href="wiki/ro//Code_snippets.html" title="Code snippets/ro">Code snippets</a>, <a href="wiki/ro//Line_drawing_function.html" title="Line drawing function/ro">Line drawing function</a>, <a href="wiki/ro//FreeCAD_vector_math_library.html" title="FreeCAD vector math library/ro">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr>
<ul><li><b>Hubs:</b> <a href="wiki/ro//User_hub.html" title="User hub/ro">User hub</a>, <a href="wiki/ro//Power_users_hub.html" title="Power users hub/ro">Power users hub</a>, <a href="wiki/ro//Developer_hub.html" title="Developer hub/ro">Developer hub</a></li></ul></div>
    </div></div>
<!-- 
NewPP limit report
Cached time: 20241213100815
Cache expiry: 86400
Reduced expiry: false
Complications: [no&#8208;toc&#8208;conversion]
CPU time usage: 0.092 seconds
Real time usage: 0.099 seconds
Preprocessor visited node count: 202/1000000
Post&#8208;expand include size: 15464/2097152 bytes
Template argument size: 3815/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 7203/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    9.864      1 -total
 28.94%    2.855      1 Template:Powerdocnavi/ro
 25.43%    2.508      1 Template:Manual:TOC
 25.13%    2.479      5 Template:Code
 17.24%    1.700      1 Manual:Summary/ro
 13.90%    1.371      1 Template:Navigation_menu_2
 13.39%    1.321      2 Template:Docnav
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:105271-0!canonical and timestamp 20241213100815 and revision id 1517222. Rendering was triggered because: api-parse
 -->
</div>
</div><script src="../site.js"></script>