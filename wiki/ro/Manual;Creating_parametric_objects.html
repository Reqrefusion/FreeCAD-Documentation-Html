<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Manual:Creating parametric objects/ro</span></h1><?xml encoding="UTF-8"><div class="mw-parser-output"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="wiki/de//Manual;Creating_parametric_objects.html" class="mw-pt-progress mw-pt-progress--stub" title="Handbuch:Erstellung parametrischer Objekte (8% translated)" lang="de" dir="ltr">Deutsch</a></li>
<li><a href="wiki//Manual;Creating_parametric_objects.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Manual:Creating parametric objects (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="wiki/fr//Manual;Creating_parametric_objects.html" class="mw-pt-progress mw-pt-progress--med" title="Manuel : Cr&eacute;ation d'objets param&eacute;triques (41% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="wiki/it//Manual;Creating_parametric_objects.html" class="mw-pt-progress mw-pt-progress--med" title="Manuale:Creare oggetti parametrici (41% translated)" lang="it" dir="ltr">italiano</a></li>
<li><a href="wiki/pl//Manual;Creating_parametric_objects.html" class="mw-pt-progress mw-pt-progress--low" title="Podr&#281;cznik:Tworzenie obiekt&oacute;w parametrycznych (32% translated)" lang="pl" dir="ltr">polski</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--low" lang="ro" dir="ltr">rom&acirc;n&#259;</span></li>
<li><a href="wiki/ru//Manual;Creating_parametric_objects.html" class="mw-pt-progress mw-pt-progress--low" title="&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080;&#1093; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1086;&#1074; (27% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
    <div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16"></span></span> <a href="wiki//Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry">Creating and manipulating geometry</a></div>
    <div style="margin: 4px 0; float: right;"><a href="wiki//Manual;Creating_interface_tools.html" title="Manual:Creating interface tools">Creating interface tools</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16"></span></span></div>
    <div style="text-align:center"><a href="wiki//Manual;Introduction.html" title="Manual:Introduction">Manual start</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Crystal_Clear_manual.png" decoding="async" width="24" height="24"></span></span></div>
</div>
<div id="toc" class="manualtoc" style="float:right; margin:10px 0px 10px 10px;">
<ul><li><a href="wiki//Manual;Introduction.html" title="Manual:Introduction">Introducere</a></li>
<li>Descoperind FreeCAD
<ul><li><a href="wiki//Manual;What_is_FreeCAD.html" title="Manual:What is FreeCAD">Ce este FreeCAD?</a></li>
<li><a href="wiki//Manual;Installing.html" title="Manual:Installing">Instalarea</a>
<ul><li><a href="wiki//Manual;Installing.html#installing_on_Windows" title="Manual:Installing">Instalarea sub Windows</a></li>
<li><a href="wiki//Manual;Installing.html#Installing_on_Linux" title="Manual:Installing">Instalarea sub Linux</a></li>
<li><a href="wiki//Manual;Installing.html#Installing_on_Mac_OS" title="Manual:Installing">Instalarea sub Mac OS</a></li>
<li><a href="wiki//Manual;Installing.html#Uninstalling" title="Manual:Installing">Dezinstalare</a></li>
<li><a href="wiki//Manual;Installing.html#Setting_basic_preferences" title="Manual:Installing">Setarea preferin&#539;eor de baz&#259;</a></li>
<li><a href="wiki//Manual;Installing.html#Installing_additional_content" title="Manual:Installing">Instalarea de con&#539;inut adi&#539;ional</a></li></ul></li>
<li><a href="wiki//Manual;The_FreeCAD_Interface.html" title="Manual:The FreeCAD Interface">Interfa&#539;a FreeCAD </a>
<ul><li><a href="wiki//Manual;The_FreeCAD_Interface.html#Workbenches" title="Manual:The FreeCAD Interface">Atelierele/Workbenches</a></li>
<li><a href="wiki//Manual;The_FreeCAD_Interface.html#The_interface" title="Manual:The FreeCAD Interface">Interfa&#539;a</a></li>
<li><a href="wiki//Manual;The_FreeCAD_Interface.html#Customizing_the_interface" title="Manual:The FreeCAD Interface">Personalizara interfa&#539;ei</a></li></ul></li>
<li><a href="wiki//Manual;Navigating_in_the_3D_view.html" title="Manual:Navigating in the 3D view">Navigarea &icirc;ntr-o vedere 3D </a>
<ul><li><a href="wiki//Manual;Navigating_in_the_3D_view.html#A_word_about_the_3D_space" title="Manual:Navigating in the 3D view">O vorb&#259; despre spa&#539;iul 3D </a></li>
<li><a href="wiki//Manual;Navigating_in_the_3D_view.html#The_FreeCAD_3D_view" title="Manual:Navigating in the 3D view">Vederea 3D &icirc;n FreeCAD </a></li>
<li><a href="wiki//Manual;Navigating_in_the_3D_view.html#Selecting_objects" title="Manual:Navigating in the 3D view">Selectarea obeictelor</a></li></ul></li>
<li><a href="wiki//Manual;The_FreeCAD_document.html" title="Manual:The FreeCAD document">Documentul  FreeCAD</a></li>
<li><a href="wiki//Manual;Parametric_objects.html" title="Manual:Parametric objects">Obiece Parametrice</a></li>
<li><a href="wiki//Manual;Import_and_export_to_other_filetypes.html" title="Manual:Import and export to other filetypes">Importul &#537;i exportul altor tipuri de fi&#537;iere</a></li></ul></li>
<li>Lucrul cu FreeCAD
<ul><li><a href="wiki//Manual;All_workbenches_at_a_glance.html" title="Manual:All workbenches at a glance">Toate atelierele &icirc;ntr-o privire</a></li>
<li><a href="wiki//Manual;Traditional_modeling,_the_CSG_way.html" title="Manual:Traditional modeling, the CSG way">Modelarea Traditional&#259;, calea CSG</a></li>
<li><a href="wiki//Manual;Traditional_2D_drafting.html" title="Manual:Traditional 2D drafting">Schi&#539;a Tra&#539;ional&#259; 2D </a></li>
<li><a href="wiki//Manual;Modeling_for_product_design.html" title="Manual:Modeling for product design">Modelarea pentru designul produsului</a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html" title="Manual:Preparing models for 3D printing">Preg&#259;tirea modelelor pentru tip&#259;rire 3D</a>
<ul><li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Exporting_to_slicers" title="Manual:Preparing models for 3D printing">Exportarea spre feliatori/slicers</a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Converting_objects_to_meshes" title="Manual:Preparing models for 3D printing">Conversia obiectelor &icirc;n plase de discretizare</a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Using_Slic3r" title="Manual:Preparing models for 3D printing">Utilizarea Slic3r</a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Using_the_Cura_addon" title="Manual:Preparing models for 3D printing">Utilizarea addon  Cura </a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Generating_G-code" title="Manual:Preparing models for 3D printing">Generarea de G-code</a></li></ul></li>
<li><a href="wiki//Manual;Generating_2D_drawings.html" title="Manual:Generating 2D drawings">Generarea de desene 2D</a></li>
<li><a href="wiki//Manual;BIM_modeling.html" title="Manual:BIM modeling">Modelarea &icirc;n construc&#539;ii BIM </a></li>
<li><a href="wiki//Manual;Using_spreadsheets.html" title="Manual:Using spreadsheets">Utilizarea foilor de calcul</a>
<ul><li><a href="wiki//Manual;Using_spreadsheets.html#Reading_properties" title="Manual:Using spreadsheets">Lectura  propriet&#259;&#539;ilor</a></li>
<li><a href="wiki//Manual;Using_spreadsheets.html#Writing_properties" title="Manual:Using spreadsheets">Scrierea  propert&#259;&#539;ilor</a></li></ul></li>
<li><a href="wiki//Manual;Creating_FEM_analyses.html" title="Manual:Creating FEM analyses">Crearea analizei MEF</a></li>
<li><a href="wiki//Manual;Creating_renderings.html" title="Manual:Creating renderings">Crearea rand&#259;rilor</a></li></ul></li>
<li>Programarea prin script Python
<ul><li><a href="wiki//Manual;A_gentle_introduction.html" title="Manual:A gentle introduction">O introducere cu duhul bl&acirc;nde&#539;ii</a>
<ul><li><a href="wiki//Manual;A_gentle_introduction.html#Writing_Python_code" title="Manual:A gentle introduction">Scrierea de cod Python</a></li>
<li><a href="wiki//Manual;A_gentle_introduction.html#Manipulating_FreeCAD_objects" title="Manual:A gentle introduction">Manipularea obiectelor FreeCAD </a></li>
<li><a href="wiki//Manual;A_gentle_introduction.html#Vectors_and_Placements" title="Manual:A gentle introduction">Vectori &#537;i Amplasament</a></li></ul></li>
<li><a href="wiki//Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry">Crearea &#537;i manipularea formelor geometrice</a></li>
<li><a href="wiki//Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects">Crearea de obiecte parametrice</a></li>
<li><a href="wiki//Manual;Creating_interface_tools.html" title="Manual:Creating interface tools">Crearea inerfe&#539;ei instrumetnelor</a></li></ul></li>
<li><a href="wiki//Manual;The_Community.html" title="Manual:The Community">Comunitatea</a></li></ul></div>
<div class="mw-translate-fuzzy">
<p>&Icirc;n <a href="wiki//Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry">previous chapter</a>, Am v&#259;zut cum este creat&#259; geometrie Pieselor &#537;i cum este afi&#537;at&#259; aceasta pe ecran, ata&#537;&acirc;nd-o la un documente obeict "dumb" (non-parametric). Acest lucru este obositor c&acirc;nd vrem s&#259; schimb&#259;m forma acestui obiect. Va trebui s&#259; cre&#259;m o nou&#259; form&#259;, apoi s&#259; o atribuim din nou obiectului nostru.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Cu toate acestea, am v&#259;zut, de asemenea, &icirc;n toate capitolele anterioare ale acestui manual c&acirc;t de puternice sunt obiectele parametrice. Trebuie doar s&#259; schimb&#259;m o proprietate, iar forma se recalculeaz&#259; &icirc;n timp real.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Pe plan intern, obiectele parametrice nu fac nimic diferit de ceea ce am f&#259;cut: ele recalculeaz&#259; con&#539;inutul propriet&#259;&#539;ii Shape, &icirc;n mod repetat, de fiecare dat&#259; c&acirc;nd o alt&#259; proprietate a fost modificat&#259;.
</p>
</div>
<ul><li>Declares the necessary properties for the object.</li>
<li>Defines the behavior when any of these properties are modified.</li></ul>
<p>The structure of such parametric object is as simple as this:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">myParametricObject</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"MyLength"</span><span class="p">)</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">"Recalculating the shape..."</span><span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">"The value of MyLength is:"</span><span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">MyLength</span><span class="p">)</span>
        <span class="o">...</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>FreeCAD ofer&#259; un sistem foarte convenabil pentru crearea a unor astfel de obiecte parametrice complet &icirc;n &icirc;n Python. Ele constau dintr-o clas&#259; Python simpl&#259;, care define&#537;te toate propriet&#259;&#539;ile de care are nevoie obiectul &#537;i ce se va &icirc;nt&acirc;mpla c&acirc;nd se schimb&#259; una dintre aceste propriet&#259;&#539;i. Structura obiectului parametric este la fel de simpl&#259;:
</p>
</div>
<ul><li>Store the class itself in the <b>Proxy</b> attribute of the FreeCAD document object:</li></ul>
<p>By assigning <b>self</b> to the <b>Proxy</b> attribute of the FreeCAD document object, we link the logic of our Python class to the FreeCAD object. This means the document object will "carry" the Python class code inside itself, allowing it to behave according to the logic defined in the class. This connection enables FreeCAD to know how to interact with and recalculate the parametric object.
</p>
<ul><li>Create all the properties the object needs:</li></ul>
<p>Using the <b>addProperty</b> method, we define the custom properties required by the object. Properties act as parameters or variables for the object and can be accessed, modified, and displayed in FreeCAD's property editor. In the example, we add a floating-point property named <b>MyLength</b>. This property will later influence the shape or behavior of the object.
</p><p>class myParametricObject:
</p>
<pre>  def __init__(self,obj):
    obj.Proxy = self
    obj.addProperty("App::PropertyFloat","MyLength")
    ...
       
  def execute(self,obj):
    print ("Recalculating the shape...")
    print ("The value of MyLength is:")
    print (obj.MyLength)
    ...
</pre>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::FeaturePython"</span><span class="p">,</span> <span class="s2">"dummy"</span><span class="p">)</span><span class="o">.</span><span class="n">supportedProperties</span><span class="p">()</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Toate clasele Python au de obicei o metod&#259; __init__. Ceea ce este &icirc;n interiorul acestei metode este executat atunci c&acirc;nd clasa este  instan&#539;iat&#259; (ceea ce &icirc;nseamn&#259; c&#259;, &icirc;n argoul de programare, c&#259; un obiect Python este creat din aceast&#259; clas&#259;. &Icirc;n&#539;elegem o clas&#259; ca pe un "&#537;ablon" pentru crearea de copii &icirc;n direct ale acestui &#537;ablon). Aici, &icirc;n func&#539;ia noastr&#259; de ini&#539;ializare (func&#539;ia __init__), facem dou&#259; lucruri importante: 1 - pentru a stoca clasa &icirc;ns&#259;&#537;i &icirc;n atributul "Proxy" al obiectului &icirc;n documentul nostru FreeCAD, adic&#259; documentul obiect FreeCAD va purta acest cod &icirc;n sine &#537;i 2 - va crea toate propriet&#259;&#539;ile pe care le are obiectul nostru. Exist&#259; multe tipuri de propriet&#259;&#539;i disponibile, pute&#539;i ob&#539;ine lista complet&#259; introduc&acirc;nd acest cod:
</p>
</div>
<p>FreeCAD.ActiveDocument.addObject("Part::FeaturePython","dummy").supportedProperties()
</p>
<ul><li>The <b>execute</b> method is called whenever the object needs to be updated.</li>
<li>It is responsible for recalculating the shape and assigning it to the object's <b>Shape</b> attribute.</li>
<li>The <b>obj</b> argument gives access to the FreeCAD document object, enabling you to make changes programmatically.</li></ul>
<p>With this system, FreeCAD handles the rest&mdash;ensuring that the object is properly updated in the document and displayed correctly in the graphical interface.
</p>
<div class="mw-translate-fuzzy">
<p>Apoi, a doua parte important&#259; este metoda de executare. Orice cod din aceast&#259; metod&#259; va fi executat atunci c&acirc;nd obiectul este marcat pentru a fi recalculat, ceea ce se va &icirc;nt&acirc;mpla c&acirc;nd o proprietate a fost schimbat&#259;. Acesta este tot ceea ce este de f&#259;cut. &Icirc;n interiorul execu&#539;iei, trebuie s&#259; face&#539;i tot ce trebuie f&#259;cut, adic&#259; s&#259; calcula&#539;i o nou&#259; form&#259; &#537;i s&#259; atribui&#539;i obiectului &icirc;n sine ceva asem&#259;n&#259;tor cu obj.Shape = myNewShape. Acesta este motivul pentru care metoda execut&#259; ia un argument "obj", care va fi obiectul documentului FreeCAD &icirc;n sine, astfel &icirc;nc&acirc;t s&#259; &icirc;l putem manipula &icirc;n codul nostru python.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Un ultim lucru este important de re&#539;inut: C&acirc;nd crea&#539;i astfel de obiecte parametrice &icirc;ntr-un document FreeCAD, atunci c&acirc;nd salva&#539;i fi&#537;ierul, codul python de mai sus nu este stocat &icirc;n interiorul fi&#537;ierului. Din motive de securitate, dac&#259; un fi&#537;ier FreeCAD con&#539;ine cod, ar fi posibil ca cineva s&#259; distribuie fi&#537;iere FreeCAD care con&#539;in cod malitios care ar putea d&#259;una computerelor altor persoane. Deci, dac&#259; distribui&#539;i un fi&#537;ier care con&#539;ine obiecte f&#259;cute cu codul de mai sus, un astfel de cod trebuie s&#259; fie prezent &#537;i pe computerul care va deschide fi&#537;ierul. Cea mai u&#537;oar&#259; modalitate de a realiza acest lucru este de a salva codul de mai sus &icirc;ntr-o macrocomand&#259; &#537;i de a distribui macro-ul &icirc;mpreun&#259; cu fi&#537;ierul FreeCAD sau de a v&#259; distribui macrocomanda &icirc;n depozitul de macrocomanzi a FreeCAD <a href="wiki//Macros_recipes.html" title="Macros recipes"> FreeCAD repository</a> de unde oricine &icirc;l poate desc&#259;rca.
</p>
</div>
<p>Mai jos, vom face un exerci&#539;iu mic, construind un obiect parametric care este o simpl&#259; fa&#539;et&#259; parametric&#259; dreptunghiular&#259;. Exemple mai complexe sunt disponibile pe <a href="wiki//Scripted_objects.html" title="Scripted objects">parametric object example</a> &#537;i &icirc;n chiar &icirc;nsu&#537;i <a rel="nofollow" class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/TemplatePyMod/FeaturePython.py">FreeCAD source code</a> .
</p><p>Vom da obiectului nostru dou&#259; propriet&#259;&#539;i: lungimea &#537;i l&#259;&#539;imea, pe care le vom folosi pentru a construi un dreptunghi. Apoi, deoarece obiectul nostru va avea deja o proprietate de plasament predefinit&#259; (orice obiect geometric are una implicit&#259;, nu este nevoie s&#259;-l ad&#259;ug&#259;m  noi &icirc;n&#537;ine), vom deplasa dreptunghiul nostru  la loca&#539;ia / orientarea setat&#259; &icirc;n Placement, astfel &icirc;nc&acirc;t utilizatorul s&#259; poat&#259; muta dreptunghiul oriunde edit&acirc;nd proprietatea de plasare.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">ParametricRectangle</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"Length"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"Width"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="c1"># We need to import the FreeCAD module here too, because we might be running out of the Console</span>
        <span class="c1"># (in a macro, for example) where the FreeCAD module has not been imported automatically:</span>
        <span class="kn">import</span> <span class="nn">FreeCAD</span>
        <span class="kn">import</span> <span class="nn">Part</span>

        <span class="c1"># First we need to make sure the values of Length and Width are not 0</span>
        <span class="c1"># otherwise Part.LineSegment will complain that both points are equal:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Width</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="c1"># If yes, exit this method without doing anything:</span>
            <span class="k">return</span>

        <span class="c1"># We create 4 points for the 4 corners:</span>
        <span class="n">v1</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v2</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v3</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span><span class="n">obj</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v4</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># We create 4 edges:</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e3</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span> <span class="n">v4</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e4</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v4</span><span class="p">,</span> <span class="n">v1</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>

        <span class="c1"># We create a wire:</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Wire</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">,</span> <span class="n">e4</span><span class="p">])</span>

        <span class="c1"># We create a face:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Face</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

        <span class="c1"># All shapes have a Placement too. We give our shape the value of the placement</span>
        <span class="c1"># set by the user. This will move/rotate the face automatically.</span>
        <span class="n">f</span><span class="o">.</span><span class="n">Placement</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Placement</span>

        <span class="c1"># All done, we can attribute our shape to the object!</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">f</span>
</pre></div>
<div class="mw-translate-fuzzy">
<pre>&Icirc;n loc s&#259; lipi&#539;i (dela copy&amp;paste) codul de mai sus &icirc;n consol&#259; Python, ar trebui s&#259; &icirc;l salv&#259;m undeva, a&#537;a c&#259; &icirc;l putem reutiliza &#537;i modifica mai t&acirc;rziu. De exemplu &icirc;ntr-o macrocomand&#259; nou&#259; (meniul Tools -&gt; Macros -&gt; Create). Denumi&#539;i-o, de exemplu, "ParamRectangle". Cu toate acestea, macrocomenzile FreeCAD sunt salvate cu o extensie .FCMro, pe care Python nu o recunoa&#537;te la import. Deci, &icirc;nainte de a utiliza codul de mai sus, va trebui s&#259; redenumi&#539;i fi&#537;ierul din ParamRectangle.FCMacro &icirc;n ParamRectangle.py. Acest lucru se face simplu din file explorer, prin navigarea spre folderul Macro afi&#537;at &icirc;n meniul Tools -&gt; Macros.
</pre>
</div>
<p>Odat&#259; acesta terminat&#259;, putem scrie &icirc;n consola Python.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">ParamRectangle</span>
</pre></div>
<p>Prin explorarea con&#539;inutului ParamRectangle, putem verifica dac&#259; acesta con&#539;ine clasa noastr&#259; ParametricRectangle.
</p>
<div class="mw-translate-fuzzy">
<p>Pentru a crea un obiect parametric nou folosind clasa ParametricRectangle, vom folosi urm&#259;torul cod. Observa&#539;i c&#259; folosim Part::FeaturePython &icirc;n loc de Part::Feature pe care am folosit-o &icirc;n capitolele anterioare (versiunea Python ne permite s&#259; definim propriul nostru comportament parametric):
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">myObj</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::FeaturePython"</span><span class="p">,</span> <span class="s2">"Rectangle"</span><span class="p">)</span>
<span class="n">ParamRectangle</span><span class="o">.</span><span class="n">ParametricRectangle</span><span class="p">(</span><span class="n">myObj</span><span class="p">)</span>
<span class="n">myObj</span><span class="o">.</span><span class="n">ViewObject</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># This is mandatory unless we code the ViewProvider too.</span>
<span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
</pre></div>
<p>myObj = FreeCAD.ActiveDocument.addObject("Part::FeaturePython","Rectangle")
</p>
<pre>ParamRectangle.ParametricRectangle(myObj)
myObj.ViewObject.Proxy = 0 # this is mandatory unless we code the ViewProvider too
FreeCAD.ActiveDocument.recompute()
</pre>
<ul><li><b>myObj = FreeCAD.ActiveDocument.addObject("Part::FeaturePython", "Rectangle")</b>: Creates a new <b>Part::FeaturePython</b> object named <b>Rectangle</b> in the active FreeCAD document. This object is specifically designed for custom parametric behavior, allowing Python-defined logic to manage its properties and behavior.</li></ul>
<ul><li><b>ParamRectangle.ParametricRectangle(myObj)</b>: Initializes the object by associating it with the <b>ParametricRectangle</b> class from the <b>ParamRectangle</b> module or script. This links the custom Python-defined logic to the object, enabling it to act as a parametric object.</li></ul>
<ul><li><b>myObj.ViewObject.Proxy = 0</b>: Resets the <b>ViewObject.Proxy</b> attribute to 0, ensuring that the object uses FreeCAD&rsquo;s default view handling. This step is required unless you define a custom ViewProvider to manage the visual representation of the object.</li></ul>
<ul><li><b>FreeCAD.ActiveDocument.recompute()</b>: Recomputes the document to update the geometry and reflect changes in the FreeCAD graphical interface, making the new object fully visible and functional</li></ul>
<div class="mw-translate-fuzzy">
<p>Nimic nu va ap&#259;rea pe ecran &icirc;nc&#259;, deoarece propriet&#259;&#539;ile Lungime &#537;i L&#259;&#539;ime sunt 0, ceea ce va declan&#537;a condi&#539;ia "Do-nothing" &icirc;n interiorul execu&#539;iei. Trebuie doar s&#259; schimb&#259;m valorile Lungimii &#537;i L&#259;&#539;imii &#537;i obiectul nostru va ap&#259;rea &icirc;n mod magic &#537;i va fi recalculat din zbor.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Desigur, ar fi obositor s&#259; trebuiasc&#259; s&#259; tasta&#539;i aceste 4 linii de cod Python de fiecare dat&#259; c&acirc;nd dorim s&#259; cre&#259;m un nou dreptunghi parametric. O modalitate foarte simpl&#259; de a rezolva aceasta este plasarea celor 4 linii de mai sus &icirc;n fi&#537;ierul ParamRectangle.py, la final, dup&#259; terminarea clasei ParametricRectange (putem face acest lucru din editorul Macro).
</p>
</div>
<p>Acum, c&acirc;nd introducem import ParamRectangle, se va crea automat un nou dreptunghi parametric. Chiar mai bine, putem ad&#259;uga un buton al barei de instrumente care va face exact a&#537;a:
</p>
<div class="mw-translate-fuzzy">
<ul><li>Deschide&#539;i meniul <b>Tools -&gt; Customize</b></li>
<li>Sub tab-ul "Macros", selecta&#539;i macroul nostru  ParamRectangle.py, completa&#539;i detaliile dup&#259; cum dori&#539;i &#537;i ap&#259;sa&#539;i pe "Add":</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_04.jpg" class="mw-file-description"><img src="../File/Exercise_python_04.jpg" decoding="async" width="752" height="501"></a></span>
</p>
</div>
<ul><li>Sub tab-ul Toolbars, crea&#539;i o nou&#259; bara de instrumente personalizat&#259; &icirc;ntr-un atelierul de lucru la alegere dvs (sau la modul general), selecta&#539;i macro-ul &#537;i ad&#259;uga&#539;i-l &icirc;n bara de instrumente:</li></ul>
<div class="mw-translate-fuzzy">
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_05.jpg" class="mw-file-description"><img src="../File/Exercise_python_05.jpg" decoding="async" width="752" height="501"></a></span>
</p>
</div>
<ul><li>Asta este, acum avem un nou buton al barei de instrumente care, atunci c&acirc;nd se face clic, va crea un dreptunghi parametric.</li></ul>
<div class="mw-translate-fuzzy">
<p>Re&#539;ine&#539;i c&#259;, dac&#259; dori&#539;i s&#259; distribui&#539;i fi&#537;iere create cu acest nou instrument altor persoane, trebuie s&#259; aib&#259; &#537;i macrocomanda ParamRectangle.py instalat pe computerul lor.
</p>
</div>
<p><b>De citit &icirc;n plus</b>
</p>
<ul><li><a href="wiki//Macros_recipes.html" title="Macros recipes">The FreeCAD macros repository</a></li>
<li><a href="wiki//Scripted_objects.html" title="Scripted objects">Parametric object example</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/TemplatePyMod/FeaturePython.py">More examples in the FreeCAD code</a></li></ul>
<p><br>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
    <div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16"></span></span> <a href="wiki//Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry">Creating and manipulating geometry</a></div>
    <div style="margin: 4px 0; float: right;"><a href="wiki//Manual;Creating_interface_tools.html" title="Manual:Creating interface tools">Creating interface tools</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16"></span></span></div>
    <div style="text-align:center"><a href="wiki//Manual;Introduction.html" title="Manual:Introduction">Manual start</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Crystal_Clear_manual.png" decoding="async" width="24" height="24"></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
    <div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a href="../File/Power_user_hub.png" class="mw-file-description"><img src="../File/Power_user_hub.png" decoding="async" width="24" height="24"></a></span> <a href="wiki/ro//Power_users_hub.html" title="Power users hub/ro">Power user documentation</a>
        <div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>FreeCAD scripting:</b> <a href="wiki/ro//Python.html" title="Python/ro">Python</a>, <a href="wiki/ro//Introduction_to_Python.html" title="Introduction to Python/ro">Introduction to Python</a>, <a href="wiki/ro//Python_scripting_tutorial.html" title="Python scripting tutorial/ro">Python scripting tutorial</a>, <a href="wiki/ro//FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/ro">FreeCAD Scripting Basics</a></li></ul>
<hr>
<ul><li><b>Modules:</b> <a href="wiki/ro//Builtin_modules.html" title="Builtin modules/ro">Builtin modules</a>, <a href="wiki/ro//Units.html" title="Units/ro">Units</a>, <a href="wiki//index.php?title=Quantity/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Quantity/ro (page does not exist)">Quantity</a></li>
<li><b>Workbenches:</b> <a href="wiki/ro//Workbench_creation.html" title="Workbench creation/ro">Workbench creation</a>, <a href="wiki/ro//Gui_Command.html" title="Gui Command/ro">Gui Commands</a>, <a href="wiki/ro//Command.html" title="Command/ro">Commands</a>, <a href="wiki/ro//Installing_more_workbenches.html" title="Installing more workbenches/ro">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="wiki/ro//Mesh_Scripting.html" title="Mesh Scripting/ro">Mesh Scripting</a>, <a href="wiki/ro//Topological_data_scripting.html" title="Topological data scripting/ro">Topological data scripting</a>, <a href="wiki/ro//Mesh_to_Part.html" title="Mesh to Part/ro">Mesh to Part</a>, <a href="wiki/ro//PythonOCC.html" title="PythonOCC/ro">PythonOCC</a></li></ul>
<hr>
<ul><li><b>Parametric objects:</b> <a href="wiki/ro//Scripted_objects.html" title="Scripted objects/ro">Scripted objects</a>, <a href="wiki//index.php?title=Viewprovider/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Viewprovider/ro (page does not exist)">Viewproviders</a> <small>(<a href="wiki//index.php?title=Custom_icon_in_tree_view/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Custom icon in tree view/ro (page does not exist)">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a href="wiki/ro//Scenegraph.html" title="Scenegraph/ro">Coin (Inventor) scenegraph</a>, <a href="wiki/ro//Pivy.html" title="Pivy/ro">Pivy</a></li>
<li><b>Graphical interface:</b> <a href="wiki//index.php?title=Interface_creation/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Interface creation/ro (page does not exist)">Interface creation</a>, <a href="wiki/ro//Dialog_creation.html" title="Dialog creation/ro">Interface creation completely in Python</a> <small>(<a href="wiki//index.php?title=Dialog_creation_with_various_widgets/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation with various widgets/ro (page does not exist)">1</a>, <a href="wiki//index.php?title=Dialog_creation_reading_and_writing_files/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation reading and writing files/ro (page does not exist)">2</a>, <a href="wiki//index.php?title=Dialog_creation_setting_colors/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation setting colors/ro (page does not exist)">3</a>, <a href="wiki//index.php?title=Dialog_creation_image_and_animated_GIF/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Dialog creation image and animated GIF/ro (page does not exist)">4</a>, <a href="wiki//index.php?title=PySide_usage_snippets/ro&amp;action=edit&amp;redlink=1.html" class="new" title="PySide usage snippets/ro (page does not exist)">5</a>)</small>, <a href="wiki/ro//PySide.html" title="PySide/ro">PySide</a>, PySide examples <a href="wiki//index.php?title=PySide_Beginner_Examples/ro&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Beginner Examples/ro (page does not exist)">beginner</a>, <a href="wiki//index.php?title=PySide_Intermediate_Examples/ro&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Intermediate Examples/ro (page does not exist)">intermediate</a>, <a href="wiki//index.php?title=PySide_Advanced_Examples/ro&amp;action=edit&amp;redlink=1.html" class="new" title="PySide Advanced Examples/ro (page does not exist)">advanced</a></li>
<li><b>Macros:</b> <a href="wiki/ro//Macros.html" title="Macros/ro">Macros</a>, <a href="wiki/ro//How_to_install_macros.html" title="How to install macros/ro">How to install macros</a></li>
<li><b>Embedding:</b> <a href="wiki/ro//Embedding_FreeCAD.html" title="Embedding FreeCAD/ro">Embedding FreeCAD</a>, <a href="wiki/ro//Embedding_FreeCADGui.html" title="Embedding FreeCADGui/ro">Embedding FreeCADGui</a></li></ul>
<hr>
<ul><li><b>Other:</b> <a href="wiki//index.php?title=Expressions/ro&amp;action=edit&amp;redlink=1.html" class="new" title="Expressions/ro (page does not exist)">Expressions</a>, <a href="wiki/ro//Code_snippets.html" title="Code snippets/ro">Code snippets</a>, <a href="wiki/ro//Line_drawing_function.html" title="Line drawing function/ro">Line drawing function</a>, <a href="wiki/ro//FreeCAD_vector_math_library.html" title="FreeCAD vector math library/ro">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr>
<ul><li><b>Hubs:</b> <a href="wiki/ro//User_hub.html" title="User hub/ro">User hub</a>, <a href="wiki/ro//Power_users_hub.html" title="Power users hub/ro">Power users hub</a>, <a href="wiki/ro//Developer_hub.html" title="Developer hub/ro">Developer hub</a></li></ul></div>
    </div></div>
<!-- 
NewPP limit report
Cached time: 20241213100740
Cache expiry: 86400
Reduced expiry: false
Complications: [no&#8208;toc&#8208;conversion]
CPU time usage: 0.085 seconds
Real time usage: 0.106 seconds
Preprocessor visited node count: 206/1000000
Post&#8208;expand include size: 15680/2097152 bytes
Template argument size: 5232/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 11785/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   13.410      1 -total
 34.03%    4.564      1 Template:Powerdocnavi/ro
 28.15%    3.775      1 Template:Manual:TOC
 22.89%    3.070      1 Manual:Summary/ro
 21.90%    2.937      5 Template:Code
 12.02%    1.612      1 Template:Navigation_menu_2
  9.78%    1.311      2 Template:Docnav
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:105264-0!canonical and timestamp 20241213100740 and revision id 1517198. Rendering was triggered because: api-parse
 -->
</div>
</div><script src="../site.js"></script>