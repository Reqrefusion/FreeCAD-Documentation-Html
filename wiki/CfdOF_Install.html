<link href="site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">CfdOF Install</span></h1><div class="mw-parser-output"><div id="itsfree" style="text-align:center; background:#FDE0A8;margin:1em 7em;padding:0.5em 2em;border:2px solid #FF5706;">
<figure class="mw-halign-left" typeof="mw:File"><span><img decoding="async" height="38" src="https://upload.wikimedia.org/wikipedia/commons/d/d5/Under_construction_icon-blue.svg" width="45"/></span><figcaption></figcaption></figure> This documentation is a work in progress. Please don't mark it as translatable since it will change in the next hours and days.
</div><div style="clear:both"></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="File/Freecad.svg" width="16"/></span></span></div>
<div style="margin: 4px 0; float: right;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="File/FEM_MaterialSolid.svg" width="16"/></span></span> <a href="FEM_MaterialSolid.html" title="FEM MaterialSolid">Material for solid</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="CfdOF_Workbench.html" title="CfdOF Workbench">CfdOF</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="File/Workbench_CfdOF.svg" width="24"/></span></span></div>
</div>
<div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Platforms_supported"><span class="tocnumber">1</span> <span class="toctext">Platforms supported</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Linux"><span class="tocnumber">1.1</span> <span class="toctext">Linux</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Windows"><span class="tocnumber">1.2</span> <span class="toctext">Windows</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#macOS"><span class="tocnumber">1.3</span> <span class="toctext">macOS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Prerequisites"><span class="tocnumber">2</span> <span class="toctext">Prerequisites</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Setting_up_the_CfdOF_workbench"><span class="tocnumber">3</span> <span class="toctext">Setting up the CfdOF workbench</span></a>
<ul>
<li class="toclevel-2 tocsection-7"><a href="#Windows_2"><span class="tocnumber">3.1</span> <span class="toctext">Windows</span></a>
<ul>
<li class="toclevel-3 tocsection-8"><a href="#Dependency_installation"><span class="tocnumber">3.1.1</span> <span class="toctext">Dependency installation</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="#Linux_2"><span class="tocnumber">3.2</span> <span class="toctext">Linux</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Dependency_installation_2"><span class="tocnumber">3.2.1</span> <span class="toctext">Dependency installation</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-11"><a href="#Docker_container_install"><span class="tocnumber">3.3</span> <span class="toctext">Docker container install</span></a>
<ul>
<li class="toclevel-3 tocsection-12"><a href="#Docker_on_Windows"><span class="tocnumber">3.3.1</span> <span class="toctext">Docker on Windows</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Docker_on_Linux"><span class="tocnumber">3.3.2</span> <span class="toctext">Docker on Linux</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<h2><span class="mw-headline" id="Platforms_supported">Platforms supported</span></h2>
<h3><span class="mw-headline" id="Linux">Linux</span></h3>
<p>Any system on which FreeCAD and the prerequisites listed below can be installed.
</p>
<h3><span class="mw-headline" id="Windows">Windows</span></h3>
<p>Windows 7-11; 64-bit version is required.
</p>
<h3><span class="mw-headline" id="macOS">macOS</span></h3>
<p>Not widely tested, but success has been reported. See <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=37&amp;t=63782&amp;p=547611#p547578" rel="nofollow">the following forum post</a> for instructions.
</p>
<h2><span class="mw-headline" id="Prerequisites">Prerequisites</span></h2>
<p>The CfdOF workbench depends on the following external software, some of which can be automatically installed (see below for instructions).
</p>
<ol><li><a class="external text" href="https://www.freecadweb.org/downloads.php" rel="nofollow">Latest release version of FreeCAD (at least version 0.20.0 / git commit 29177)</a> or <a class="external text" href="https://github.com/FreeCAD/FreeCAD-Bundle/releases/tag/weekly-builds" rel="nofollow">latest development version (prerelease).</a></li>
<li>OpenFOAM Foundation <a class="external text" href="http://openfoam.org/download/" rel="nofollow">versions 9-10</a> or ESI-OpenCFD <a class="external text" href="http://openfoam.com/download" rel="nofollow">versions 2006-2306.</a></li>
<li><a class="external text" href="http://www.paraview.org/" rel="nofollow">Paraview.</a></li>
<li><a class="external text" href="https://sourceforge.net/projects/cfmesh-cfdof/" rel="nofollow">cfMesh (customised version updated to compile with latest OpenFOAM versions).</a></li>
<li><a class="external text" href="https://hisa.gitlab.io/" rel="nofollow">HiSA (High Speed Aerodynamic Solver).</a></li>
<li><a class="external text" href="http://gmsh.info/" rel="nofollow">Gmsh (version 2.13 or later)</a> - optional, for generating tetrahedral meshes.</li></ol>
<h2><span class="mw-headline" id="Setting_up_the_CfdOF_workbench">Setting up the CfdOF workbench</span></h2>
<h3><span class="mw-headline" id="Windows_2">Windows</span></h3>
<p>The latest <a class="external text" href="https://www.freecadweb.org/downloads.php" rel="nofollow">release</a> or <a class="external text" href="https://github.com/FreeCAD/FreeCAD-Bundle/releases/tag/weekly-builds" rel="nofollow">development</a> FreeCAD build can be obtained (64 bit version) and installed by respectively running the installer or extracting the .7z archive to a directory &lt;FreeCAD-directory&gt;. In the latter case, FreeCAD can be run in place (&lt;FreeCAD-directory&gt;\bin\FreeCAD.exe).
</p><p>CfdOF itself is installed into FreeCAD using the Addon manager:
</p>
<ul><li>Run FreeCAD</li>
<li>Select Tools | Addon manager ...</li>
<li>Select CfdOF in the list of workbenches, and click "Install/update"</li>
<li>Restart FreeCAD</li>
<li>For installation of dependencies, see below</li></ul>
<p>Note: The CfdOF workbench can be updated at any time through the Addon manager.
</p>
<h4><span class="mw-headline" id="Dependency_installation">Dependency installation</span></h4>
<p>Dependencies can be checked and installed conveniently from the CfdOF Preferences panel in FreeCAD. In the FreeCAD window, select Edit | Preferences ... and choose "CfdOF". The dependencies can be installed as individual components or as part of a docker container (refer to the <a class="mw-selflink-fragment" href="#Docker_container_install">Docker container install</a> section below).
</p><p>The OpenFOAM installation is via the <a class="external text" href="https://www.openfoam.com/download/install-binary-windows-mingw.php" rel="nofollow">OpenCFD MinGW package</a>, and the <a class="external text" href="https://bluecfd.github.io/Core/" rel="nofollow">BlueCFD Core</a> port of OpenFOAM is also supported.
</p><p>OpenFOAM can be installed manually using the above links, or by clicking the relevant button in the Preferences panel described above. If you experience problems running OpenFOAM in CfdOF, please make sure you have a working installation by following instructions on the relevant websites.
</p><p>To interface correctly with the OpenFOAM installation, CfdOF needs to be able to write to its install location. Some users experience problems using a location inside C:\Program Files due to restrictions imposed by Windows User Account Control. It is therefore suggested to install to an alternative location, preferably in your home directory.
</p><p>If OpenFOAM is installed with administrator privileges using the above packages, then Microsoft MPI will also optionally be installed. If not, then it will be necessary to download and install it manually from the <a class="external text" href="https://learn.microsoft.com/en-us/message-passing-interface/microsoft-mpi#ms-mpi-downloads" rel="nofollow">Microsoft MPI download page</a>. MPI is needed in order to run in parallel.
</p><p>Set the OpenFOAM install directory in the preferences panel to the install directory ending in the 'vXXXX' subfolder (where XXXX is the version number installed) for the MinGW package, or the BlueCFD install directory. It will be automatically detected in the default install locations.
</p><p>Any version of <a class="external text" href="https://www.paraview.org/download/" rel="nofollow">ParaView</a> can be installed, by following the above link or clicking the relevant button in the Preferences panel. Set the ParaView install path in the preferences panel to the 'paraview.exe' file in the 'bin' subfolder of the ParaView installation. Common defaults will be detected if it is left blank.
</p><p>Likewise, cfMesh and HiSA can be installed from the Preferences panel. Do not close it until the 'Install completed' message is received. Note that the OpenFOAM installation must be in a writable location for cfMesh and HiSA to be installed successfully.
</p><p>Choosing the "Check dependencies" option will verify that all prerequisites have been successfully installed.
</p>
<h3><span class="mw-headline" id="Linux_2">Linux</span></h3>
<p>AppImages of the latest <a class="external text" href="https://www.freecadweb.org/downloads.php" rel="nofollow">release</a> or <a class="external text" href="https://github.com/FreeCAD/FreeCAD-Bundle/releases/tag/weekly-builds" rel="nofollow">development</a> versions of FreeCAD can be downloaded and run directly without installation. Note that you will have to enable execution permission on the downloaded file to run it. Otherwise, FreeCAD can be built from the source code on the <a class="external text" href="https://github.com/FreeCAD/FreeCAD" rel="nofollow">FreeCAD GitHub page</a>.
</p><p>Note:
</p>
<ul><li>Installations of FreeCAD via Linux package managers make use of your local Python installation. Therefore you might need to install additional Python packages to get full functionality. The dependency checker (see below) can help to diagnose this.</li>
<li>Note that the 'Snap' container installed through some distributions' package managers can be problematic as it does not allow access to system directories, and therefore OpenFOAM has to be installed in the user's home directory to be runnable from FreeCAD.</li></ul>
<p>For the reasons above we recommend the AppImage as the most robust installation option on Linux.
</p><p>CfdOF itself is installed into FreeCAD using the Addon manager:
</p>
<ul><li>Run FreeCAD</li>
<li>Select Tools | Addon manager ...</li>
<li>Select CfdOF in the list of workbenches, and click "Install/update"</li>
<li>Restart FreeCAD</li>
<li>For installation of dependencies, see below</li></ul>
<p>Note: The CfdOF workbench can be updated at any time through the Addon manager.
</p>
<h4><span class="mw-headline" id="Dependency_installation_2">Dependency installation</span></h4>
<p>Dependencies can be checked and some of them installed conveniently from the CFD Preferences panel in FreeCAD. In the FreeCAD window, select Edit | Preferences ... and choose "CfdOF".
</p><p>The dependencies can be installed manually, or as part of a docker container (refer to <a class="external text" href="http://CfdOF_Install#Docker_container_install" rel="nofollow">Docker container install</a> below). Manual installation may be undertaken for OpenFOAM (<a class="external text" href="https://openfoam.com/download" rel="nofollow">OpenCFD</a> or <a class="external text" href="https://openfoam.org/download/" rel="nofollow">Foundation</a> versions), <a class="external text" href="http://www.paraview.org/" rel="nofollow">ParaView</a> and <a class="external text" href="http://gmsh.info/" rel="nofollow">Gmsh</a> (optional) by using the links above or your distribution's package manager. Note, however, that the OpenFOAM packages bundled in some Linux distributions may be out of date or incomplete; for example, the standard Debian and Ubuntu packages do not include the build command 'wmake' and therefore cannot be used with the optional components 'HiSA' and 'cfMesh'. We therefore recommend installation of the packages supplied through the official websites above. Please make sure the install the 'development' package where available (usually named with the suffix '-devel' or '-dev') to be sure that the optional components 'HiSA' and 'cfMesh' can be compiled with 'wmake'.
</p><p>Set the OpenFOAM install directory in the preferences panel - examples of typical install locations are /usr/lib/openfoam/openfoam2306, /opt/openfoam10 or /home/user/OpenFOAM/OpenFOAM-10.x (it will be automatically detected in common default install locations). Note that if you have loaded the desired OpenFOAM environment already before starting FreeCAD, the install directory should be left blank.
</p><p>cfMesh and HiSA can be installed using the Preferences panel described above, and can be downloaded and built from their source code inside your OpenFOAM installation if you have not already done so yourself. Note that this is a lengthy process.
</p><p>Choosing the "Check dependencies" option will verify that all prerequisites have been successfully installed.
</p>
<h3><span class="mw-headline" id="Docker_container_install">Docker container install</span></h3>
<p>Docker containers offer a convenient way of providing pre-compiled program packages for both windows and linux. macOS can also be supported but assistance will be required to setup a container. Please leave a message on the <a class="external text" href="https://forum.freecadweb.org/viewforum.php?f=37" rel="nofollow">forum</a>.
</p>
<h4><span class="mw-headline" id="Docker_on_Windows">Docker on Windows</span></h4>
<p>The preferred docker run-time for Windows is via <a class="external text" href="https://podman.io/" rel="nofollow">podman</a> as currently this provides fast filesystem integration. <a class="external text" href="https://www.docker.com/products/docker-desktop/" rel="nofollow">Docker Desktop</a> may also be used.
</p>
<ol><li>Install <a class="external text" href="https://github.com/containers/podman/releases/download/v4.2.1/podman-v4.2.1.msi" rel="nofollow">podman</a> (or <a class="external text" href="https://www.docker.com/products/docker-desktop/" rel="nofollow">docker desktop</a>).</li>
<li>If using podman, open a cmd window and issue the following commands:
<ul><li><code>podman machine init</code></li>
<li><code>podman machine start</code></li>
<li><code>podman machine set --rootful</code></li></ul></li>
<li>Edit → Preferences → CfdOF: Press the Install Paraview button.</li>
<li>Edit → Preferences → CfdOF: Select Use docker.</li>
<li>Press the Install Docker Container button. There is no need to install gmsh, cfmesh and HISA as they are included in the docker image.
<ul><li>If using podman, fast WSL file system integration can be enabled:</li>
<li>Create a new subdirectory (for example cfdof) in the following directory created by podman: <code>\\wsl$\podman-machine-default\home\user</code></li>
<li>In the cfdof preference page, set the default output directory as above: <code>\\wsl$\podman-machine-default\home\user\cfdof</code></li></ul></li>
<li>Press the Run dependency checker button.</li></ol>
<h4><span class="mw-headline" id="Docker_on_Linux">Docker on Linux</span></h4>
<ol><li>Install docker using these <a class="external text" href="https://www.linuxtechi.com/install-docker-engine-on-debian/" rel="nofollow">instructions</a> (or similar).</li>
<li>Install paraview as per the package installation instructions for your distribution (for example sudo apt-get install paraview on debian).</li>
<li>Edit → Preferences → CfdOF: Select Use docker.</li>
<li>Press the Install Docker Container button. There is no need to install gmsh, cfmesh and HISA as they are included in the docker image.</li>
<li>Press the Run dependency checker button.</li></ol>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="File/Freecad.svg" width="16"/></span></span></div>
<div style="margin: 4px 0; float: right;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="File/FEM_MaterialSolid.svg" width="16"/></span></span> <a href="FEM_MaterialSolid.html" title="FEM MaterialSolid">Material for solid</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="CfdOF_Workbench.html" title="CfdOF Workbench">CfdOF</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="File/Workbench_CfdOF.svg" width="24"/></span></span></div>
</div>
<!-- 
NewPP limit report
Cached time: 20241214203400
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.020 seconds
Real time usage: 0.024 seconds
Preprocessor visited node count: 113/1000000
Post‐expand include size: 2267/2097152 bytes
Template argument size: 430/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.928      1 -total
 70.77%    2.780      2 Template:Docnav
 24.97%    0.981      1 Template:Page_in_progress
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:347141-0!canonical and timestamp 20241214203400 and revision id 1498401. Rendering was triggered because: api-parse
 -->
</div></div><script src="script.js"></script>
