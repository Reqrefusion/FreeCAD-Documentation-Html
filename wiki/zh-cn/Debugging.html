<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Debugging/zh-cn</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="../de\Debugging.html" lang="de" title="Fehlerdiagnose (79% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Debugging.html" lang="en" title="Debugging (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../tr\Debugging.html" lang="tr" title="Debugging (1% translated)">Türkçe</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../es\Debugging.html" lang="es" title="Debugging (29% translated)">español</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../fr\Debugging.html" lang="fr" title="Débogage (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../hr\Debugging.html" lang="hr" title="Debugging (3% translated)">hrvatski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../it\Debugging.html" lang="it" title="Debugging - Individuare gli errori (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../pl\Debugging.html" lang="pl" title="Debugowanie (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../pt\Debugging.html" lang="pt" title="Debugging/pt (0% translated)">português</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../pt-br\Debugging.html" lang="pt-BR" title="Depuração (1% translated)">português do Brasil</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../ro\Debugging.html" lang="ro" title="Depanare (21% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../sv\Debugging.html" lang="sv" title="Debugging (1% translated)">svenska</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../cs\Debugging.html" lang="cs" title="Debugging/cs (0% translated)">čeština</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../bg\Debugging.html" lang="bg" title="Debugging (1% translated)">български</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../ru\Debugging.html" lang="ru" title="Отладка (14% translated)">русский</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../zh\Debugging.html" lang="zh" title="Debugging/zh (0% translated)">中文</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--low" dir="ltr" lang="zh-Hans-CN">中文（中国大陆）</span></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../zh-tw\Debugging.html" lang="zh-Hant-TW" title="Debugging/zh-tw (1% translated)">中文（臺灣）</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../Tracker.html" title="Tracker">Tracker</a></div>
<div style="margin: 4px 0; float: right;"><a href="../Testing.html" title="Testing">Testing</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../zh-cn\Online_Help_Toc.html" title="Online Help Toc/zh-cn">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#测试先行"><span class="tocnumber">1</span> <span class="toctext">测试先行</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#命令行"><span class="tocnumber">2</span> <span class="toctext">命令行</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#生成回溯"><span class="tocnumber">3</span> <span class="toctext">生成回溯</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#对于_Linux"><span class="tocnumber">3.1</span> <span class="toctext">对于 Linux</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#对于_MacOSX"><span class="tocnumber">3.2</span> <span class="toctext">对于 MacOSX</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#List_Libraries_Loaded_by_FreeCAD"><span class="tocnumber">4</span> <span class="toctext">List Libraries Loaded by FreeCAD</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Python_调试"><span class="tocnumber">5</span> <span class="toctext">Python 调试</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#winpdb"><span class="tocnumber">5.1</span> <span class="toctext">winpdb</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Visual_Studio_Code_(VS_Code)"><span class="tocnumber">5.2</span> <span class="toctext">Visual Studio Code (VS Code)</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#With_LiClipse_and_AppImage"><span class="tocnumber">5.3</span> <span class="toctext">With LiClipse and AppImage</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Pyzo"><span class="tocnumber">5.4</span> <span class="toctext">Pyzo</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Debugging_OpenCasCade"><span class="tocnumber">6</span> <span class="toctext">Debugging OpenCasCade</span></a></li>
</ul>
</div>
</div>
<p><span id="Test_First"></span>
</p>
<h2><span id=".E6.B5.8B.E8.AF.95.E5.85.88.E8.A1.8C"></span><span class="mw-headline" id="测试先行">测试先行</span></h2>
<p>在你经历痛苦的调试过程之前请使用  <a href="../Testing.html" title="Testing">测试框架</a> 来检查标准测试是否正常工作。如果它们未完全运行, 则可能这是不完整的安装。
</p><p><span id="Command_Line"></span>
</p>
<h2><span id=".E5.91.BD.E4.BB.A4.E8.A1.8C"></span><span class="mw-headline" id="命令行">命令行</span></h2>
<p>FreeCAD 的 "调试" 是由一些内部机制支持的。FreeCAD 的命令行版本提供了一些用于支持调试的选项。
</p><p>以下是 FreeCAD 0.19 中能识别的选项:
</p><p>一般性选项:
</p>
<pre> -v [ --version ]      打印版本字符串
 -h [ --help ]         打印帮助信息 
 -c [ --console ]      以控制台模式启动 
 --response-file arg   也能使用 '@name' 指定 
 --dump-config         转储配置 
 -get-config arg       根据关键字打印特定的配置
</pre>
<div class="mw-translate-fuzzy">
<p>配置:
</p>
<pre> -l [ --write-log ]       输出 log 文件到:
                          $HOME/.FreeCAD/FreeCAD.log(Linux)
                          $HOME/Library/Preferences/FreeCAD/FreeCAD.log (macOS)
                          %APPDATA%\FreeCAD\FreeCAD.log (Windows)
</pre>
<pre> --log-file arg           不像 --write-log，这个命令允许记录log到任意文件
 -u [ --user-cfg ] arg    用于加载/保存用户设置的用户配置文件
 -s [ --system-cfg ] arg  用于加载/保存系统设置的用户配置文件
 -t [ --run-test ] arg    测试用例
 -M [ --module-path ] arg 额外的模块路径
 -P [ --python-path ] arg 额外的python脚本路径
 --single-instance        允许以单例模式运行
</pre>
</div>
<p><span id="Generating_a_Backtrace"></span>
</p>
<h2><span id=".E7.94.9F.E6.88.90.E5.9B.9E.E6.BA.AF"></span><span class="mw-headline" id="生成回溯">生成回溯</span></h2>
<p>如果你运行 FreeCAD  开发中的出血边缘(bleeding edge)版本, 则可能会发生 "崩溃 "。 您可以通过向开发人员提供 "回溯 " 来帮助解决此类问题。 为此, 您需要运行软件的  "调试版本 "。 "调试生成 " 是在编译时设置的参数, 因此您需要自己编译 FreeCAD, 或者获取预编译的"调试 " 版本。  
</p><p><span id="For_Linux"></span>
</p>
<h3><span id=".E5.AF.B9.E4.BA.8E_Linux"></span><span class="mw-headline" id="对于_Linux">对于 Linux</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>Linux Debugging → 
</p>
<div class="mw-collapsible-content">
<p>Prerequisites: 
</p>
<div class="mw-translate-fuzzy">
<ul><li>安装的 gdb 软件包</li>
<li>FreeCAD 的调试版本 (此时仅可通过 <a href="../Compile_on_Linux.html#For_a_Debug_build" title="Compile on Linux">从源代码构建</a>)</li>
<li>导致崩溃的 FreeCAD 模式</li></ul>
</div>
<p>步骤:
在终端窗口中输入以下内容:
</p><p>Find FreeCAD binary on your system:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="err">$</span> <span class="n">whereis</span> <span class="n">freecad</span>
<span class="n">freecad</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">freecad</span> <span class="o">&lt;---</span> <span class="k">for</span> <span class="n">example</span>

<span class="err">$</span> <span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">freecad</span><span class="o">/</span><span class="nb">bin</span>
<span class="err">$</span> <span class="n">gdb</span> <span class="n">FreeCAD</span>
</pre></div>
<p>GNUdebugger will output some initializing information. The (gdb) shows GNUDebugger is running in the terminal, now input:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">handle</span> <span class="n">SIG33</span> <span class="n">noprint</span> <span class="n">nostop</span>
<span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">run</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>FreeCAD 现在就要启动。执行导致 FreeCAD 崩溃或冻结的步骤, 然后在终端窗口中输入:
</p>
<pre>(gdb) bt
</pre>
<p>这将生成一个冗长的列表, 确切地列出程序在崩溃或冻结时正在执行的工作。将此内容包括在问题报告中。
</p>
</div></div>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">bt</span>
</pre></div>
<p>This will generate a lengthy listing of exactly what the program was doing when it crashed or froze. Include this with your problem report.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">bt</span> <span class="n">full</span>
</pre></div>
<p>Print the values of the local variables also. This can be combined with a number to limit the number of frames shown.
</p>
<p><span id="For_macOS"></span>
</p>
<div class="mw-translate-fuzzy">
<h3><span id=".E5.AF.B9.E4.BA.8E_MacOSX"></span><span class="mw-headline" id="对于_MacOSX">对于 MacOSX</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>MacOSX 调试 ----&gt;
</p>
<div class="mw-collapsible-content">
<p>必要条件:
</p>
</div>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>macOS Debugging → 
</p>
<div class="mw-collapsible-content">
<p>Prerequisites: 
</p>
<ul><li>安装好的软件包 lldb</li>
<li>FreeCAD 的调试版本</li>
<li>一个导致崩溃的 FreeCAD 模式</li></ul>
<p>步骤:
在终端窗口中输入以下内容:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="err">$</span> <span class="n">cd</span> <span class="n">FreeCAD</span><span class="o">/</span><span class="nb">bin</span>
<span class="err">$</span> <span class="n">lldb</span> <span class="n">FreeCAD</span>
</pre></div>
<p>LLDB will output some initializing information. The (lldb) shows the debugger is running in the terminal, now input:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">run</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>FreeCAD 现在就要启动。执行导致 FreeCAD 崩溃或冻结的步骤, 然后在终端窗口中输入:
</p>
<pre>(lldb) bt
</pre>
<p>这将生成一个冗长的列表, 确切地列出程序在崩溃或冻结时正在执行的工作。将此内容包括在问题报告中。
</p>
</div></div>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">bt</span>
</pre></div>
<p>This will generate a lengthy listing of exactly what the program was doing when it crashed or froze. Include this with your problem report.
</p>
</div></div>
<h2><span class="mw-headline" id="List_Libraries_Loaded_by_FreeCAD">List Libraries Loaded by FreeCAD</span></h2>
<p>(Applicable to Linux and macOS)
</p><p>Sometimes it's helpful to understand what libraries FreeCAD is loading, specifically if there are multiple libraries being loaded of the same name but different versions (version collision). In order to see which libraries are loaded by FreeCAD when it crashes you should open a terminal and run it in the debugger. In a second terminal window, find out the process id of FreeCAD:
</p><p><code>ps -A | grep FreeCAD</code>
</p><p>Use the returned id and pass it to <code>lsof</code>:
</p><p><code> lsof -p process_id</code>
</p><p>This prints a long list of loaded resources. So for example, if trying to ascertain if more than one Coin3d library versions is loaded, scroll through the list or search directly for Coin in the output:
</p><p><code>lsof -p process_id | grep Coin</code>
</p><p><span id="Python_Debugging"></span>
</p>
<div class="mw-translate-fuzzy">
<h2><span id="Python_.E8.B0.83.E8.AF.95"></span><span class="mw-headline" id="Python_调试">Python 调试</span></h2>
<p>这里是一个在 FreeCAD 中使用 winpdb 的例子:
</p>
</div>
<p>For a more modern approach to debugging Python, see these posts:
</p>
<ul><li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=22&amp;t=28901" rel="nofollow">Debugging macros with VS 2017</a></li>
<li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=10&amp;t=35383" rel="nofollow">Python workbenches debugging</a></li>
<li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=4&amp;t=40251" rel="nofollow">python3.dll, Qt5Windgets.dll, Qt5Gui.dll and Qt5Core.dll not found</a></li></ul>
<h3><span class="mw-headline" id="winpdb">winpdb</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>winpdb 调试 → 
</p>
<div class="mw-collapsible-content">
<p>这里是一个在FreeCAD内使用“Winpdb”的例子
</p><p>We need the Python debugger: <i>Winpdb</i>. If you do not have it installed, on Ubuntu/Debian install it with:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">winpdb</span>
</pre></div>
<p>Now lets setup the debugger.
</p>
<ol><li>Start <i>Winpdb</i>.</li>
<li>Set the debugger password to "test": Go to menu <i>File</i> → <i>Password" and set the password.</i></li></ol>
<p>Now we will run a test Python script in FreeCAD step by step.
</p>
<ol><li>运行 winpdb 并且设置密码 (例如：测试)</li>
<li>使用以下内容创建一个 Python 文件</li></ol>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">rpdb2</span>
<span class="n">rpdb2</span><span class="o">.</span><span class="n">start_embedded_debugger</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span>
<span class="kn">import</span> <span class="nn">Part</span>
<span class="kn">import</span> <span class="nn">Draft</span>
<span class="nb">print</span> <span class="s2">"hello"</span>
<span class="nb">print</span> <span class="s2">"hello"</span>
<span class="kn">import</span> <span class="nn">Draft</span>
<span class="n">points</span><span class="o">=</span><span class="p">[</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="o">-</span><span class="mf">3.0</span><span class="p">,</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)]</span>
<span class="n">Draft</span><span class="o">.</span><span class="n">makeWire</span><span class="p">(</span><span class="n">points</span><span class="p">,</span><span class="n">closed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">face</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">support</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
<div class="mw-translate-fuzzy">
<ol><li>开始 FreeCAD 并将上述文件加载到 FreeCAD</li>
<li>按 F6 执行</li>
<li>现在 FreeCAD 将变得没有响应, 因为 Python 调试器正在等待</li>
<li>切换到 Windpdb GUI, 然后单击  "附加 "。几秒钟后, 将出现一个项目  "&lt;Input&gt; ", 您必须双击</li>
<li>现在, 当前执行的脚本出现在 Winpdb 中。</li>
<li>在最后一行设置断点并按 F5</li>
<li>现在按 F7 键跟踪 Python 代码 Draft.makeWire</li></ol>
</div>
</div></div>
<h3><span id="Visual_Studio_Code_.28VS_Code.29"></span><span class="mw-headline" id="Visual_Studio_Code_(VS_Code)">Visual Studio Code (VS Code)</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>VS Code Debugging → 
</p>
<div class="mw-collapsible-content">
<p>Prerequisites: 
</p>
<ul><li>The ptvsd package needs to be installed in a Python 3 outside of FreeCAD, then the module must be copied to FreeCAD's Python library folder.</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># In a cmd window that has a path to you local Python 3:</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">ptvsd</span>
<span class="c1"># Then if your Python is installed in C:\Users\&lt;userid&gt;\AppData\Local\Programs\Python\Python37</span>
<span class="c1"># and your FreeCAD is installed in C:\freecad\bin</span>
<span class="n">xcopy</span> <span class="s2">"C:\Users\&lt;userid&gt;\AppData\Local\Programs\Python\Python37\Lib\site-packages\ptvsd"</span> <span class="s2">"C:</span><span class="se">\f</span><span class="s2">reecad</span><span class="se">\b</span><span class="s2">in\Lib\site-packages\ptvsd"</span>
</pre></div>
<p><a class="external text" href="https://pypi.org/project/ptvsd/" rel="nofollow">pypi page</a>
</p><p><a class="external text" href="https://code.visualstudio.com/docs/python/debugging#_remote-debugging" rel="nofollow">Visual Studio Code documentation for remote debugging</a>
</p><p>Steps:
</p>
<ul><li>Add following code at the beginning of your script</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">ptvsd</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Waiting for debugger attach"</span><span class="p">)</span>
<span class="c1"># 5678 is the default attach port in the VS Code debug configurations</span>
<span class="n">ptvsd</span><span class="o">.</span><span class="n">enable_attach</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="p">(</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="mi">5678</span><span class="p">),</span> <span class="n">redirect_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ptvsd</span><span class="o">.</span><span class="n">wait_for_attach</span><span class="p">()</span>
</pre></div>
<ul><li>Add a debug configuration in Visual Studio Code <b>Debug → Add Configurations…</b>.</li>
<li>The config should look like this:</li></ul>
<pre>    "configurations": [
        {
            "name": "Python: Attacher",
            "type": "python",
            "request": "attach",
            "port": 5678,
            "host": "localhost",
            "pathMappings": [
                {
                    "localRoot": "${workspaceFolder}",
                    "remoteRoot": "."
                }
            ]
        },
</pre>
<ul><li>In VS Code add a breakpoint anywhere you want.</li>
<li>Launch the script in FreeCAD. FreeCAD freeze waiting for attachment.</li>
<li>In VS Code start debugging using created configuration. You should see variables in debugger area.</li>
<li>When setting breakpoints, VS Code will complain about not finding the .py file opened in the VS Code editor.
<ul><li>Change "remoteRoot": "." to "remoteRoot": "&lt;directory of file&gt;"
<ul><li>For example, if the Python file resides in <i>/home/FC_myscripts/myscript.py</i></li>
<li>Change to: "remoteRoot": "/home/FC_myscripts"</li></ul></li>
<li>If you're just debugging FreeCAD macros from the FreeCAD macro folder, and that folder is "C:/Users/&lt;userid&gt;/AppData/Roaming/FreeCAD/Macro", then use:
<ul><li>"localRoot": "C:/Users/&lt;userid&gt;/AppData/Roaming/FreeCAD/Macro",</li>
<li>"remoteRoot": "C:/Users/&lt;userid&gt;/AppData/Roaming/FreeCAD/Macro"</li></ul></li></ul></li>
<li>If your macro can't find ptvsd despite having installed it somewhere precede 'import ptvsd' with</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">path</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'/path/to/site-packages'</span><span class="p">)</span>
</pre></div>
<p>Where the path is to the directory where ptvsd was installed.
</p>
<ul><li>On the left bottom edge of VSCode you can choose the Python executable - it's best to make this the version packaged with FreeCAD.</li></ul>
<p>In the Mac package it is /Applications/FreeCAD.App/Contents/Resources/bin/python.
</p><p>You can locate it on your system by typing
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">)</span>
</pre></div>
<p>into FreeCAD's Python console.
</p>
</div></div>
<h3><span class="mw-headline" id="With_LiClipse_and_AppImage">With LiClipse and AppImage</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>LiClipse Debugging → 
</p>
<div class="mw-collapsible-content">
<ul><li>Extract AppImage.</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;</span> <span class="o">./</span><span class="n">your</span> <span class="n">location</span><span class="o">/</span><span class="n">FreeCAD_xxx</span><span class="o">.</span><span class="n">AppImage</span> <span class="o">--</span><span class="n">appimage</span><span class="o">-</span><span class="n">extract</span>
<span class="o">&gt;</span> <span class="n">cd</span> <span class="n">squashfs</span><span class="o">-</span><span class="n">root</span><span class="o">/</span>
</pre></div>
<ul><li>The sqashfs-root location is where the debugger later on is hooked up to.</li></ul>
<ul><li>Make sure you can start a FreeCAD session from within the squashfs-root location.</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">squashfs</span><span class="o">-</span><span class="n">root</span><span class="o">&gt;</span> <span class="o">./</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">freecadcmd</span>
</pre></div>
<ul><li>Should start up a FreeCAD commandline session.</li></ul>
<ul><li>Install <a class="external text" href="https://www.liclipse.com/" rel="nofollow">LiClipse</a>.
<ul><li>Comes ready with pydev and has installers for all platforms.</li>
<li>For linux it is just to extract (to any location) and run.</li></ul></li></ul>
<ul><li>Configure liclipse for debugging.
<ul><li>Right-click pydev icon (upper right corner) and choose customize.
<ul><li>Activate "PyDev Debug" (through checkbox, or it might be needed to go to tab "Action Set Availability" and activate there first).</li>
<li>In the pydev menu you can now choose "start debug server".</li></ul></li>
<li>Use menu window/open perspective/other &gt; debug.
<ul><li>Right-click debug icon (upper right corner) and choose customize.</li>
<li>Checking "Debug" brings the debugging navigation tools to the toolbar.</li></ul></li>
<li>Open preferences through menu window/preferences.
<ul><li>In PyDev/Interpreters add "new Interpreter by browsing".</li>
<li>The added interpreter should be: <code>your loc/squashfs-root/usr/bin/python</code>.</li>
<li>If you are only using this for fc, you can add AddOn workbench folders as well, or do that in a pydev-project later on.</li></ul></li></ul></li></ul>
<ul><li>Find path to <code>pydevd.py</code> in your liclipse installation.
<ul><li>Something along the lines of: <code>your location/liclipse/plugins/org.python.pydev.xx/pysrc</code>.</li></ul></li>
<li>Create a regular pydev-project in liclipse.
<ul><li>Import external sources, for example a macro that you want to debug, or an external workbench.</li>
<li>In that macro (or workbench .py file) add the code lines:</li></ul></li></ul>
<dl><dd><div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span><span class="p">;</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"path ending with /pysrc"</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pydevd</span><span class="p">;</span> <span class="n">pydevd</span><span class="o">.</span><span class="n">settrace</span><span class="p">()</span>
</pre></div></dd></dl>
<dl><dd><ul><li>This is where the execution will halt when the macro is run.</li></ul></dd></dl>
<ul><li>Start the liclipse debug server (menu pydev).</li></ul>
<ul><li>Start FreeCAD.</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">squashfs</span><span class="o">-</span><span class="n">root</span><span class="o">&gt;</span> <span class="o">./</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">freecad</span>
</pre></div>
<ul><li>Run the macro (or any other file with a <code>pydevd.settrace()</code> trigger) from within freecad, as you would normally do.</li></ul>
<ul><li>Happy debugging.</li></ul>
<ul><li>The use of LiClipse for remote debugging, and the steps described here related to liclipse, should work on any platform.  The parts related to AppImage is for linux only.</li></ul>
</div></div>
<h3><span class="mw-headline" id="Pyzo">Pyzo</span></h3>
<p>See the <a href="../Pyzo.html" title="Pyzo">main article about Pyzo</a>.
</p>
<h2><span class="mw-headline" id="Debugging_OpenCasCade">Debugging OpenCasCade</span></h2>
<p>For developers needing to dig deeper in to the OpenCasCade kernel, user @abdullah has created a <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=10&amp;t=47017" rel="nofollow">thread</a> orientation discussing how to do so.
</p><p><br/>
</p>
<div class="mw-translate-fuzzy">
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> Module Creation/zh-cn</div>
<div style="margin: 4px 0; float: right;">Testing/zh-cn <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../zh-cn\Online_Help_Toc.html" title="Online Help Toc/zh-cn">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" width="24"/></a></span> <a href="../zh-cn\Power_users_hub.html" title="Power users hub/zh-cn">Power user documentation</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>FreeCAD scripting:</b> <a class="new" href="../index.php?title=Python_zh-cn&amp;action=edit&amp;redlink=1.html" title="Python/zh-cn (page does not exist)">Python</a>, <a href="../zh-cn\Introduction_to_Python.html" title="Introduction to Python/zh-cn">Introduction to Python</a>, <a href="../zh-cn\Python_scripting_tutorial.html" title="Python scripting tutorial/zh-cn">Python scripting tutorial</a>, <a href="../zh-cn\FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/zh-cn">FreeCAD Scripting Basics</a></li></ul>
<hr/>
<ul><li><b>Modules:</b> <a class="new" href="../index.php?title=Builtin_modules_zh-cn&amp;action=edit&amp;redlink=1.html" title="Builtin modules/zh-cn (page does not exist)">Builtin modules</a>, <a class="new" href="../index.php?title=Units_zh-cn&amp;action=edit&amp;redlink=1.html" title="Units/zh-cn (page does not exist)">Units</a>, <a class="new" href="../index.php?title=Quantity_zh-cn&amp;action=edit&amp;redlink=1.html" title="Quantity/zh-cn (page does not exist)">Quantity</a></li>
<li><b>Workbenches:</b> <a class="new" href="../index.php?title=Workbench_creation_zh-cn&amp;action=edit&amp;redlink=1.html" title="Workbench creation/zh-cn (page does not exist)">Workbench creation</a>, <a class="new" href="../index.php?title=Gui_Command_zh-cn&amp;action=edit&amp;redlink=1.html" title="Gui Command/zh-cn (page does not exist)">Gui Commands</a>, <a href="../zh-cn\Command.html" title="Command/zh-cn">Commands</a>, <a class="new" href="../index.php?title=Installing_more_workbenches_zh-cn&amp;action=edit&amp;redlink=1.html" title="Installing more workbenches/zh-cn (page does not exist)">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="../zh-cn\Mesh_Scripting.html" title="Mesh Scripting/zh-cn">Mesh Scripting</a>, <a href="../zh-cn\Topological_data_scripting.html" title="Topological data scripting/zh-cn">Topological data scripting</a>, <a class="new" href="../index.php?title=Mesh_to_Part_zh-cn&amp;action=edit&amp;redlink=1.html" title="Mesh to Part/zh-cn (page does not exist)">Mesh to Part</a>, <a class="new" href="../index.php?title=PythonOCC_zh-cn&amp;action=edit&amp;redlink=1.html" title="PythonOCC/zh-cn (page does not exist)">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Parametric objects:</b> <a href="../zh-cn\Scripted_objects.html" title="Scripted objects/zh-cn">Scripted objects</a>, <a class="new" href="../index.php?title=Viewprovider_zh-cn&amp;action=edit&amp;redlink=1.html" title="Viewprovider/zh-cn (page does not exist)">Viewproviders</a> <small>(<a class="new" href="../index.php?title=Custom_icon_in_tree_view_zh-cn&amp;action=edit&amp;redlink=1.html" title="Custom icon in tree view/zh-cn (page does not exist)">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a class="new" href="../index.php?title=Scenegraph_zh-cn&amp;action=edit&amp;redlink=1.html" title="Scenegraph/zh-cn (page does not exist)">Coin (Inventor) scenegraph</a>, <a class="new" href="../index.php?title=Pivy_zh-cn&amp;action=edit&amp;redlink=1.html" title="Pivy/zh-cn (page does not exist)">Pivy</a></li>
<li><b>Graphical interface:</b> <a class="new" href="../index.php?title=Interface_creation_zh-cn&amp;action=edit&amp;redlink=1.html" title="Interface creation/zh-cn (page does not exist)">Interface creation</a>, <a class="new" href="../index.php?title=Dialog_creation_zh-cn&amp;action=edit&amp;redlink=1.html" title="Dialog creation/zh-cn (page does not exist)">Interface creation completely in Python</a> <small>(<a class="new" href="../index.php?title=Dialog_creation_with_various_widgets_zh-cn&amp;action=edit&amp;redlink=1.html" title="Dialog creation with various widgets/zh-cn (page does not exist)">1</a>, <a class="new" href="../index.php?title=Dialog_creation_reading_and_writing_files_zh-cn&amp;action=edit&amp;redlink=1.html" title="Dialog creation reading and writing files/zh-cn (page does not exist)">2</a>, <a class="new" href="../index.php?title=Dialog_creation_setting_colors_zh-cn&amp;action=edit&amp;redlink=1.html" title="Dialog creation setting colors/zh-cn (page does not exist)">3</a>, <a class="new" href="../index.php?title=Dialog_creation_image_and_animated_GIF_zh-cn&amp;action=edit&amp;redlink=1.html" title="Dialog creation image and animated GIF/zh-cn (page does not exist)">4</a>, <a class="new" href="../index.php?title=PySide_usage_snippets_zh-cn&amp;action=edit&amp;redlink=1.html" title="PySide usage snippets/zh-cn (page does not exist)">5</a>)</small>, <a class="new" href="../index.php?title=PySide_zh-cn&amp;action=edit&amp;redlink=1.html" title="PySide/zh-cn (page does not exist)">PySide</a>, PySide examples <a class="new" href="../index.php?title=PySide_Beginner_Examples_zh-cn&amp;action=edit&amp;redlink=1.html" title="PySide Beginner Examples/zh-cn (page does not exist)">beginner</a>, <a class="new" href="../index.php?title=PySide_Intermediate_Examples_zh-cn&amp;action=edit&amp;redlink=1.html" title="PySide Intermediate Examples/zh-cn (page does not exist)">intermediate</a>, <a class="new" href="../index.php?title=PySide_Advanced_Examples_zh-cn&amp;action=edit&amp;redlink=1.html" title="PySide Advanced Examples/zh-cn (page does not exist)">advanced</a></li>
<li><b>Macros:</b> <a href="../zh-cn\Macros.html" title="Macros/zh-cn">Macros</a>, <a class="new" href="../index.php?title=How_to_install_macros_zh-cn&amp;action=edit&amp;redlink=1.html" title="How to install macros/zh-cn (page does not exist)">How to install macros</a></li>
<li><b>Embedding:</b> <a href="../zh-cn\Embedding_FreeCAD.html" title="Embedding FreeCAD/zh-cn">Embedding FreeCAD</a>, <a class="new" href="../index.php?title=Embedding_FreeCADGui_zh-cn&amp;action=edit&amp;redlink=1.html" title="Embedding FreeCADGui/zh-cn (page does not exist)">Embedding FreeCADGui</a></li></ul>
<hr/>
<ul><li><b>Other:</b> <a class="new" href="../index.php?title=Expressions_zh-cn&amp;action=edit&amp;redlink=1.html" title="Expressions/zh-cn (page does not exist)">Expressions</a>, <a class="new" href="../index.php?title=Code_snippets_zh-cn&amp;action=edit&amp;redlink=1.html" title="Code snippets/zh-cn (page does not exist)">Code snippets</a>, <a class="new" href="../index.php?title=Line_drawing_function_zh-cn&amp;action=edit&amp;redlink=1.html" title="Line drawing function/zh-cn (page does not exist)">Line drawing function</a>, <a class="new" href="../index.php?title=FreeCAD_vector_math_library_zh-cn&amp;action=edit&amp;redlink=1.html" title="FreeCAD vector math library/zh-cn (page does not exist)">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr/>
<ul><li><b>Hubs:</b> <a href="../zh-cn\User_hub.html" title="User hub/zh-cn">User hub</a>, <a href="../zh-cn\Power_users_hub.html" title="Power users hub/zh-cn">Power users hub</a>, <a href="../zh-cn\Developer_hub.html" title="Developer hub/zh-cn">Developer hub</a></li></ul></div>
</div></div>
<div style="clear:both"></div>
<!-- 
NewPP limit report
Cached time: 20241214203045
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.143 seconds
Real time usage: 1.028 seconds
Preprocessor visited node count: 508/1000000
Post‐expand include size: 9878/2097152 bytes
Template argument size: 4058/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 17/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 13242/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  875.664      1 -total
 98.68%  864.083     17 Template:Code
  0.44%    3.839      1 Template:Powerdocnavi/zh-cn
  0.17%    1.514      2 Template:Docnav
  0.16%    1.375      1 Template:Navigation_menu_2
  0.15%    1.274      8 Template:Incode
  0.09%    0.814      1 Template:MenuCommand
  0.06%    0.525      1 Template:Clear
  0.05%    0.468      1 Template:TOCright
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:82942-0!canonical and timestamp 20241214203044 and revision id 1328486. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
