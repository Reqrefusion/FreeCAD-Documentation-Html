<link href="site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Macro Circle</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="en">English</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Macro_Circle.html" lang="fr" title="Macro Circle (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Macro_Circle.html" lang="it" title="Macro Cerchio (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Macro_Circle.html" lang="pl" title="Makrodefinicja: Okrąg (6% translated)">polski</a></li></ul></div>
<table class="fcinfobox wikitable ct" style="float: right; width: 230px; margin-left: 10px;" width="100%">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a class="mw-file-description" href="File/Macro_Circle.png"><img decoding="async" height="32" src="File/Macro_Circle.png" srcset="/images/thumb/9/9d/Macro_Circle.png/48px-Macro_Circle.png 1.5x, /images/9/9d/Macro_Circle.png 2x" width="32"/></a></span><span> </span>
Macro Circle
</p>
</td></tr>
<tr>
<th class="ctOdd">Description
</th></tr>
<tr>
<td class="ctEven left macro-description">Creates a circle or arc giving radius, diameter, circumference, area, startangle, endangle, arc, anglecenter, cord, arrow, center (point), placemObject on choice (without GUI). The new circle is created in the real coordinate of object, not in the coordinate of the Body.<br/><span style="background-color: #ffeeee">(Command line, paste this complete macro in the Python console)</span>.<br/><br/>Macro version: 0.4<br/>Last modified: 2019-06-19<br/>FreeCAD version: All<br/>Download: <a class="external text" href="https://www.freecadweb.org/wiki/images/9/9d/Macro_Circle.png" rel="nofollow">ToolBar Icon</a><br/>Author: mario52<br/>
</td></tr>
<tr>
<th class="ctOdd">Author
</th></tr>
<tr>
<td class="ctEven macro-author"><a href="User;Mario52.html" title="User:Mario52">mario52</a>
</td></tr>
<tr>
<th class="ctOdd">Download
</th></tr>
<tr>
<td class="ctEven macro-download"><a class="external text" href="https://www.freecadweb.org/wiki/images/9/9d/Macro_Circle.png" rel="nofollow">ToolBar Icon</a>
</td></tr>
<tr>
<th class="ctOdd">Links
</th></tr>
<tr>
<td class="ctEven macro-Links"><a href="Macros_recipes.html" title="Macros recipes">Macros recipes</a><br/><a href="How_to_install_macros.html" title="How to install macros">How to install macros</a><br/><a href="Customize_Toolbars.html" title="Customize Toolbars">How to customize toolbars</a>
</td></tr>
<tr>
<th class="ctOdd">Macro Version
</th></tr>
<tr>
<td class="ctEven macro-version">0.4
</td></tr>
<tr>
<th class="ctOdd">Date last modified
</th></tr>
<tr>
<td class="ctEven macro-date">2019-06-19
</td></tr>
<tr>
<th class="ctOdd">FreeCAD Version(s)
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">All
</td></tr>
<tr>
<th class="ctOdd">Default shortcut
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">See also
</th></tr>
<tr>
<td class="ctEven"><a href="Macro_CirclePlus.html" title="Macro CirclePlus">Macro CirclePlus</a>
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Usage"><span class="tocnumber">2</span> <span class="toctext">Usage</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Script"><span class="tocnumber">3</span> <span class="toctext">Script</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Memo_of_circle"><span class="tocnumber">4</span> <span class="toctext">Memo of circle</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Version"><span class="tocnumber">5</span> <span class="toctext">Version</span></a></li>
</ul>
</div>
</td></tr>
</tbody></table>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>This small macro create a circle or arc giving radius, diameter, circumference, area, startangle, end angle, arc, angle center, cord, arrow, center (point), placemObject on choice. The new circle is created in the real coordinate of object, not in the coordinate of the Body.<br/><span style="background-color: #ffeeee">(Command line, paste this complete macro in the Python console)</span>.
</p><p>The circle is still facing the screen (with getCameraOrientation) (or give the placement) 
</p>
<h2><span class="mw-headline" id="Usage">Usage</span></h2>
<p>Copy the code and paste it in the console Python the FreeCAD the command is used all the time to the disposal FreeCAD open
give the parameter on choice : 
</p>
<ul><li><b>x y z</b> : coordinates of circle if not coordinates the circle is created on point 0,0,0</li>
<li><b>radius</b> : radius of circle</li>
<li><b>diameter</b> : diameter of circle</li>
<li><b>circumference</b> : circumference of circle</li>
<li><b>area</b> : area of circle</li>
<li><b>startangle</b> : start angle for arc</li>
<li><b>endangle</b> : end angle for arc</li>
<li><b>arc</b> and <b>anglecenter</b> : arc in combination with anglecenter
<ul><li><b>arc</b> =  length of arc</li>
<li><b>anglecenter</b> = angle of center circle to extremities of arc</li></ul></li>
<li><b>cord</b> and <b>arrow</b> : cord in combination with arrow of circle
<ul><li><b>cord</b> : length of cord of circle</li>
<li><b>arrow</b> : length of arrow of circle</li></ul></li>
<li><b>center</b> : if center as different 0 one point is created on center of circle</li>
<li><b>placemObject</b>
<ul><li>example :</li>
<li>pl=FreeCAD.Placement()</li>
<li>pl.Rotation.Q=(0.0,-0.0,-0.0,1.0)</li>
<li>pl.Base=FreeCAD.Vector(-1.89847898483,-0.490152746439,0.0)</li>
<li>give <b>placemObject = pl</b></li></ul></li></ul>
<p>if there is no parameter "<b>circle()</b>" a list of functions is displayed in the report view
<br/><br/>
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p>ToolBar Icon <span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="File/Macro_Circle.png"><img decoding="async" height="64" src="File/Macro_Circle.png" width="64"/></a></span>
</p><p><b>Macro_circle.FCMacro</b>
</p>
<pre>#-*- coding: utf-8 -*-
#from math import sqrt, pi
# creer un cercle ou un arc entierement parametrabel en utilisant :
# create a circle or arc fully parametrabel using:
#
# paste the complete macro in the Python console
#
# x x x coordinates
#with radius
#with diameter
#with circumference
#with area
#with startangle
#with endangle
#with [arc and anglecenter]      in combination (angle in degrees)
#with [cord and arrow]           in combination
#with center (if center as different 0 one point is created on center of circle)
#give placemObject  
# ex :pl=FreeCAD.Placement()
#     pl.Rotation.Q=(0.0,-0.0,-0.0,1.0)
#     pl.Base=FreeCAD.Vector(-1.89847898483,-0.490152746439,0.0)
#     placemObject = pl
# s'il n'y a pas de parametre "circle()" une liste des fonctions s'affiche dans la Vue rapport
# if there is no parameter "circle()" a list of functions is displayed in the report view

__title__   = "circle"
__author__  = "Mario52"
__version__ = "0.4"
__date__    = "19/06/2019"

import Draft #, Part
import FreeCAD
App = FreeCAD

def circle(x=0.0,y=0.0,z=0.0,radius=0.0,diameter=0.0,circumference=0.0,area=0.0,startangle=0.0,endangle=0.0,arc=0.0,anglecenter=0.0,cord=0.0,arrow=0.0,center=0,placemObject=""):
    from math import sqrt, pi
    if placemObject == "":
        pl = FreeCAD.Placement()
        pl.Rotation = FreeCADGui.ActiveDocument.ActiveView.getCameraOrientation()   
        pl.Base = FreeCAD.Vector(x,y,z)
    else:
        pl = FreeCAD.Placement()
        pl = placemObject                                  # placement imposted
    if diameter != 0:                                      # with diameter
        radius = diameter / 2.0
    elif circumference != 0:                               # with circumference
        radius = (circumference / pi) / 2.0
    elif area != 0:                                        # with area
        radius =  sqrt((area / pi))
    elif (cord != 0) and (arrow != 0):                     # with cord and arrow
        radius = ((arrow**2) + (cord**2) / 4.0) / (arrow*2) 
    elif (arc != 0) and (anglecenter != 0):                # with arc and anglecenter central in degrees
        radius = ((360/anglecenter)*arc) / pi/2.0
        if endangle != 0:
            startangle  = endangle - anglecenter
        endangle   = anglecenter + startangle
        startangle  = endangle - anglecenter
    if radius != 0:
        try:
            Draft.makeCircle(radius,placement=pl,face=False,startangle=startangle,endangle=endangle,support=None)
            if center != 0:
                x=pl.Base.x
                y=pl.Base.y
                z=pl.Base.z
                Draft.makePoint(x,y,z)
            
        except Exception:
            App.Console.PrintError("Unexpected keyword argument" + "\n")
        App.ActiveDocument.recompute()
    else:
        App.Console.PrintMessage("Unexpected keyword argument" + "\n")
        App.Console.PrintMessage("circle(x,y,z,radius,diameter,circumference,area,startangle,endangle,[arc,anglecenter],[cord,arrow],center,placemObject)" + "\n")
        App.Console.PrintMessage("circle(radius=10.0,placemObject=App.Placement(App.Vector(11,20,30), App.Rotation(30,40,0), App.Vector(0,0,0)))" + "\n")
#example
#circle(arc=50,anglecenter=20,center=1)
#circle(x=10.0,y=10.0,z=10.0,radius=10.0)
#circle(radius=10.0,center=1,placemObject=App.Placement(App.Vector(11,20,30), App.Rotation(30,40,0), App.Vector(0,0,0)))</pre>
<h2><span class="mw-headline" id="Memo_of_circle">Memo of circle</span></h2>
<p><b>Examples codes</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>    <span class="c1"># example 1</span>
<span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">diameter</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>    <span class="c1"># example 2</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">circumference</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>    <span class="c1"># example 3</span>
</pre></div>
<figure class="mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="File/Macro_Circle_01.png" title="examples 1, 2, 3"><img alt="examples 1, 2, 3" decoding="async" height="293" src="File/Macro_Circle_01.png" srcset="/images/6/61/Macro_Circle_01.png 1.5x" width="640"/></a><figcaption>examples 1, 2, 3</figcaption></figure>
<div style="clear:both"></div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">area</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>    <span class="c1"># example 4</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">startangle</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span><span class="n">endangle</span><span class="o">=-</span><span class="mi">20</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 5</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">cord</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">arrow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 6 left</span>
<span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">arc</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span><span class="n">anglecenter</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">startangle</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 6 rigth</span>
</pre></div>
<figure class="mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="File/Macro_Circle_02.png" title="examples"><img alt="examples" decoding="async" height="293" src="File/Macro_Circle_02.png" srcset="/images/2/23/Macro_Circle_02.png 1.5x" width="640"/></a><figcaption>examples</figcaption></figure>
<div style="clear:both"></div>
<h2><span class="mw-headline" id="Version">Version</span></h2>
<p>ver 0.4 19/06/2019 : upgrade ver 0.19
</p><p>ver 0.3 10/06/2018 : replace /2 to /2.0 (float)
</p><p>ver 0.2 24/02/2015 : adding function "<b>placemObject</b>"
</p>
<!-- 
NewPP limit report
Cached time: 20241129211715
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.059 seconds
Real time usage: 0.257 seconds
Preprocessor visited node count: 173/1000000
Post‐expand include size: 3131/2097152 bytes
Template argument size: 4684/2097152 bytes
Highest expansion depth: 7/100
Expensive parser function count: 2/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 7510/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  199.538      1 -total
 97.22%  193.990      2 Template:Code
  1.61%    3.206      1 Template:Macro
  0.58%    1.156      2 Template:ColoredText
  0.47%    0.934      1 Template:MacroCode
  0.42%    0.844      2 Template:Clear
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:56020-0!canonical and timestamp 20241129211715 and revision id 1345212. Rendering was triggered because: api-parse
 -->
</div></div><script src="script.js"></script>
