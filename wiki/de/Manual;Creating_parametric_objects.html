<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Manual:Creating parametric objects/de</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--stub" dir="ltr" lang="de">Deutsch</span></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Manual;Creating_parametric_objects.html" lang="en" title="Manual:Creating parametric objects (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="../fr\Manual;Creating_parametric_objects.html" lang="fr" title="Manuel : Création d'objets paramétriques (41% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="../it\Manual;Creating_parametric_objects.html" lang="it" title="Manuale:Creare oggetti parametrici (41% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../pl\Manual;Creating_parametric_objects.html" lang="pl" title="Podręcznik:Tworzenie obiektów parametrycznych (32% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../ro\Manual;Creating_parametric_objects.html" lang="ro" title="Manual:Crearea de obiecte parametrice (35% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../ru\Manual;Creating_parametric_objects.html" lang="ru" title="Создание параметрических объектов (27% translated)">русский</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../de\Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/de">Geometrie erstellen und verarbeiten</a></div>
<div style="margin: 4px 0; float: right;"><a href="../de\Manual;Creating_interface_tools.html" title="Manual:Creating interface tools/de">Schnittstellenwerkzeuge erstellen</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../de\Manual;Introduction.html" title="Manual:Introduction/de">Handbuch Start</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Crystal_Clear_manual.png" width="24"/></span></span></div>
</div>
<div class="manualtoc" id="toc" style="float:right; margin:10px 0px 10px 10px;">
<ul><li><a href="../de\Manual;Introduction.html" title="Manual:Introduction/de">Einführung</a></li>
<li>FreeCAD entdecken
<ul><li><a href="../de\Manual;What_is_FreeCAD.html" title="Manual:What is FreeCAD/de">Was ist FreeCAD?</a></li>
<li><a href="../de\Manual;Installing.html" title="Manual:Installing/de">Installieren</a>
<ul><li><a href="../de\Manual;Installing.html#Installation_unter_Windows" title="Manual:Installing/de">Installation unter Windows</a></li>
<li><a href="../de\Manual;Installing.html#Installation_unter_Linux" title="Manual:Installing/de">Installation unter Linux</a></li>
<li><a href="../de\Manual;Installing.html#Installation_unter_Mac_OS" title="Manual:Installing/de">Installation unter Mac OS</a></li>
<li><a href="../de\Manual;Installing.html#Deinstallation" title="Manual:Installing/de">Deinstallation</a></li>
<li><a href="../de\Manual;Installing.html#Setzen_der_Grundeinstellungen" title="Manual:Installing/de">Setzen der Grundeinstellungen</a></li>
<li><a href="../de\Manual;Installing.html#Installieren_zusätzlicher_Inhalte" title="Manual:Installing/de">Installieren zusätzlicher Inhalte</a></li></ul></li>
<li><a href="../de\Manual;The_FreeCAD_Interface.html" title="Manual:The FreeCAD Interface/de">Die FreeCAD Oberfläche</a>
<ul><li><a href="../de\Manual;The_FreeCAD_Interface.html#Arbeitsbereiche" title="Manual:The FreeCAD Interface/de">Arbeitsbereiche</a></li>
<li><a href="../de\Manual;The_FreeCAD_Interface.html#Die_Oberfläche" title="Manual:The FreeCAD Interface/de">Die Oberfläche</a></li>
<li><a href="../de\Manual;The_FreeCAD_Interface.html#Anpassung_der_Oberfläche" title="Manual:The FreeCAD Interface/de">Anpassung der Oberfläche</a></li></ul></li>
<li><a href="../de\Manual;Navigating_in_the_3D_view.html" title="Manual:Navigating in the 3D view/de">Navigieren in der 3D Ansicht</a>
<ul><li><a href="../de\Manual;Navigating_in_the_3D_view.html#Ein_Wort_zum_3D_Raum" title="Manual:Navigating in the 3D view/de">Ein Wort zum 3D Raum</a></li>
<li><a href="../de\Manual;Navigating_in_the_3D_view.html#Die_FreeCAD_3D_Ansicht" title="Manual:Navigating in the 3D view/de">Die FreeCAD 3D Ansicht</a></li>
<li><a href="../de\Manual;Navigating_in_the_3D_view.html#Objekte_anwählen" title="Manual:Navigating in the 3D view/de">Objekte anwählen</a></li></ul></li>
<li><a href="../de\Manual;The_FreeCAD_document.html" title="Manual:The FreeCAD document/de">Das FreeCAD Dokument</a></li>
<li><a href="../de\Manual;Parametric_objects.html" title="Manual:Parametric objects/de">Parametrische Objekte</a></li>
<li><a href="../de\Manual;Import_and_export_to_other_filetypes.html" title="Manual:Import and export to other filetypes/de">Import und Export in andere Dateitypen</a></li></ul></li>
<li>Arbeiten mit FreeCAD
<ul><li><a href="../de\Manual;All_workbenches_at_a_glance.html" title="Manual:All workbenches at a glance/de">Alle Arbeitsbereiche auf einen Blick</a></li>
<li><a href="../de\Manual;Traditional_modeling,_the_CSG_way.html" title="Manual:Traditional modeling, the CSG way/de">Herkömmliche Modellierung, der CSG Weg</a></li>
<li><a href="../de\Manual;Traditional_2D_drafting.html" title="Manual:Traditional 2D drafting/de">Herkömmliches 2D Entwerfen</a></li>
<li><a href="../de\Manual;Modeling_for_product_design.html" title="Manual:Modeling for product design/de">Modellierung für Produktdesign</a></li>
<li><a href="../de\Manual;Preparing_models_for_3D_printing.html" title="Manual:Preparing models for 3D printing/de">Modelle für den 3D Druck vorbereiten</a>
<ul><li><a href="../de\Manual;Preparing_models_for_3D_printing.html#Exportieren_zu_Zerschneidern" title="Manual:Preparing models for 3D printing/de">Exportieren zu Zerschneidern</a></li>
<li><a href="../de\Manual;Preparing_models_for_3D_printing.html#Umwandeln_von_Objekten_in_Polygonnetze" title="Manual:Preparing models for 3D printing/de">Umwandeln von Objekten in Polygonnetze</a></li>
<li><a href="../de\Manual;Preparing_models_for_3D_printing.html#Verwendung_von_Slic3r" title="Manual:Preparing models for 3D printing/de">Verwendung von Slic3r</a></li>
<li><a href="../de\Manual;Preparing_models_for_3D_printing.html#Verwendung_der_Cura_Erweiterung" title="Manual:Preparing models for 3D printing/de">Verwendung der Cura Erweiterung</a></li>
<li><a href="../de\Manual;Preparing_models_for_3D_printing.html#Erzeugung_von_G-Code" title="Manual:Preparing models for 3D printing/de">Erzeugung von G-Code</a></li></ul></li>
<li><a href="../de\Manual;Generating_2D_drawings.html" title="Manual:Generating 2D drawings/de">Erstellen von 2D Zeichnungen</a></li>
<li><a href="../de\Manual;BIM_modeling.html" title="Manual:BIM modeling/de">BIM Modellierung</a></li>
<li><a href="../de\Manual;Using_spreadsheets.html" title="Manual:Using spreadsheets/de">Verwendung von Kalkulationstabellen</a>
<ul><li><a href="../de\Manual;Using_spreadsheets.html#Leseeigenschaften" title="Manual:Using spreadsheets/de">Leseeigenschaften</a></li>
<li><a href="../de\Manual;Using_spreadsheets.html#Schreibeigenschaften" title="Manual:Using spreadsheets/de">Schreibeigenschaften</a></li></ul></li>
<li><a href="../de\Manual;Creating_FEM_analyses.html" title="Manual:Creating FEM analyses/de">Erstellen von FEM Analysen</a></li>
<li><a href="../de\Manual;Creating_renderings.html" title="Manual:Creating renderings/de">Erstellen von Bildsynthesen</a></li></ul></li>
<li>Skripte in Python erstellen
<ul><li><a href="../de\Manual;A_gentle_introduction.html" title="Manual:A gentle introduction/de">Eine sanfte Einführung</a>
<ul><li><a href="../de\Manual;A_gentle_introduction.html#Schreiben_von_Python_Code" title="Manual:A gentle introduction/de">Schreiben von Python Code</a></li>
<li><a href="../de\Manual;A_gentle_introduction.html#Handhabung_von_FreeCAD_Objekten" title="Manual:A gentle introduction/de">Handhabung von FreeCAD Objekten</a></li>
<li><a href="../de\Manual;A_gentle_introduction.html#Vektoren_und_Platzierungen" title="Manual:A gentle introduction/de">Vektoren und Platzierungen</a></li></ul></li>
<li><a href="../de\Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/de">Erstellung und Handhabung von Geometrie</a></li>
<li><a class="mw-selflink selflink">Erstellung parametrischer Objekte</a></li>
<li><a href="../de\Manual;Creating_interface_tools.html" title="Manual:Creating interface tools/de">Erstellen von Oberflächenwerkzeugen</a></li></ul></li>
<li><a href="../de\Manual;The_Community.html" title="Manual:The Community/de">Die Gemeinschaft</a></li></ul></div>
<div class="mw-translate-fuzzy">
<p>Im <a href="../de\Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/de">vorherigen Kapitel</a> haben wir gesehen, wie Part-Geometrie erstellt wird und wie sie auf dem Bildschirm dargestellt wird, indem sie einem "dummen" (nichtparametrischen) Dokumentobjekt zugeordnet wird. Dies ist mühsam, wenn wir die Form dieses Objekts ändern wollen. Wir müssten eine neue Form erstellen und sie erneut unserem Objekt zuordnen.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Wir haben aber in all den vorherigen Kapiteln dieses Handbuchs auch gesehen, wie leistungsfähig parametrische Objekte sind. Wir müssen nur eine Eigenschaft ändern und die Form wird nebenbei neu berechnet.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Intern machen parametrische Objekte nichts anderes, als wir getan haben: Sie berechnen den Inhalt ihrer Eigenschaft Shape wieder und wieder, wann immer eine weitere Eigenschaft geändert wurde.
</p>
</div>
<ul><li>Declares the necessary properties for the object.</li>
<li>Defines the behavior when any of these properties are modified.</li></ul>
<p>The structure of such parametric object is as simple as this:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">myParametricObject</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"MyLength"</span><span class="p">)</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">"Recalculating the shape..."</span><span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">"The value of MyLength is:"</span><span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">MyLength</span><span class="p">)</span>
        <span class="o">...</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>FreeCAD enthält ein sehr praktisches System zum Aufbau solcher parametrischer Objekte komplett mit. Sie bestehen aus einer einfachen Python-Klasse, die alle Eigenschaften festlegt, die das Objekt benötigt und was passiert, wenn eine dieser Eigenschaften verändert wird. Die Struktur solcher parametrischer Objekte ist so einfach, wie dies:
</p>
</div>
<ul><li>Store the class itself in the <b>Proxy</b> attribute of the FreeCAD document object:</li></ul>
<p>By assigning <b>self</b> to the <b>Proxy</b> attribute of the FreeCAD document object, we link the logic of our Python class to the FreeCAD object. This means the document object will "carry" the Python class code inside itself, allowing it to behave according to the logic defined in the class. This connection enables FreeCAD to know how to interact with and recalculate the parametric object.
</p>
<ul><li>Create all the properties the object needs:</li></ul>
<p>Using the <b>addProperty</b> method, we define the custom properties required by the object. Properties act as parameters or variables for the object and can be accessed, modified, and displayed in FreeCAD's property editor. In the example, we add a floating-point property named <b>MyLength</b>. This property will later influence the shape or behavior of the object.
</p><p>There are many types of properties available in FreeCAD, ranging from floating-point numbers to strings and even specialized types for geometry and materials. To explore the full list of available property types, you can type the following code in the Python console:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::FeaturePython"</span><span class="p">,</span> <span class="s2">"dummy"</span><span class="p">)</span><span class="o">.</span><span class="n">supportedProperties</span><span class="p">()</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Alle Python-Klassen haben üblicherweise eine __init__ -Methode. Was sich innerhalb dieser Methode befindet wird ausgeführt, wenn diese Klasse instantiiert wird (was im Programmierer-Slang heißt, dass ein Python-Objekt von dieser Klasse erstellt wird. Diese Klasse kann man sich wie eine "Vorlage" vorstellen, aus der lebendige Kopien erstellt werden). In unserer __init__-Funktion erledigen wir zwei wichtige Dinge: 1. Unsere Klasse selbst in das "Proxy"-Attribute unseres FreeCAD-Dokumentobjekts zu speichern, d.h. dass das FreeCAD-Dokumentobjekt diesen Code in sich selbst trägt und 2. alle Eigenschaften erstellen, die unser Objekt braucht. Es gibt viele Arten von Eigenschaften, die vollständige Liste kann man sich ansehen, wenn man diesen Code eingibt:
</p>
</div>
<p>In summary:
</p>
<ul><li>The <b>execute</b> method is called whenever the object needs to be updated.</li>
<li>It is responsible for recalculating the shape and assigning it to the object's <b>Shape</b> attribute.</li>
<li>The <b>obj</b> argument gives access to the FreeCAD document object, enabling you to make changes programmatically.</li></ul>
<p>With this system, FreeCAD handles the rest—ensuring that the object is properly updated in the document and displayed correctly in the graphical interface.
</p><p>One crucial thing to remember is that when you create parametric objects in a FreeCAD document, the Python code used to define them is not saved within the file. This is an intentional security measure. If FreeCAD files were allowed to store Python code, it could open the door for malicious actors to distribute files containing harmful scripts that might damage someone’s computer. As a result, when you share a FreeCAD file containing parametric objects created with custom Python code, the recipient must also have access to the code used to define those objects. Without it, FreeCAD won’t know how to recalculate or interact with the objects properly.
</p><p>The simplest way to ensure this is to save the Python code in a macro file. When distributing your FreeCAD file, you can include the macro alongside it. Alternatively, you can share the macro on the <a href="../Macros_recipes.html" title="Macros recipes">FreeCAD macros repository</a>, allowing others to easily download and use it. This approach ensures that your custom parametric objects remain functional on other systems while maintaining security best practices.
</p><p>Below, we will do a small exercise, building a parametric object that is a simple parametric rectangular face. More complex examples are available on the <a href="../Scripted_objects.html" title="Scripted objects">parametric object example</a> and in the <a class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/TemplatePyMod/FeaturePython.py" rel="nofollow">FreeCAD source code</a> itself.
</p><p>We will give our object two properties: Length and Width, which we will use to construct a rectangle. Then, since our object will already have a pre-built Placement property (all geometric object have one by default, no need to add it ourselves), we will displace our rectangle to the location/rotation set in the Placement, so the user will be able to move the rectangle anywhere by editing the Placement property.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">ParametricRectangle</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"Length"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"Width"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="c1"># We need to import the FreeCAD module here too, because we might be running out of the Console</span>
        <span class="c1"># (in a macro, for example) where the FreeCAD module has not been imported automatically:</span>
        <span class="kn">import</span> <span class="nn">FreeCAD</span>
        <span class="kn">import</span> <span class="nn">Part</span>

        <span class="c1"># First we need to make sure the values of Length and Width are not 0</span>
        <span class="c1"># otherwise Part.LineSegment will complain that both points are equal:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Width</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="c1"># If yes, exit this method without doing anything:</span>
            <span class="k">return</span>

        <span class="c1"># We create 4 points for the 4 corners:</span>
        <span class="n">v1</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v2</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v3</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span><span class="n">obj</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v4</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># We create 4 edges:</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e3</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span> <span class="n">v4</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e4</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v4</span><span class="p">,</span> <span class="n">v1</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>

        <span class="c1"># We create a wire:</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Wire</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">,</span> <span class="n">e4</span><span class="p">])</span>

        <span class="c1"># We create a face:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Face</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

        <span class="c1"># All shapes have a Placement too. We give our shape the value of the placement</span>
        <span class="c1"># set by the user. This will move/rotate the face automatically.</span>
        <span class="n">f</span><span class="o">.</span><span class="n">Placement</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Placement</span>

        <span class="c1"># All done, we can attribute our shape to the object!</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">f</span>
</pre></div>
<p>Instead of pasting the above code in the Python console, we'd better save it somewhere, so we can reuse and modify it later. For example in a new macro (menu <b>Macro -&gt; Macros -&gt; Create</b>). Name it, for example, "ParamRectangle". However, FreeCAD macros are saved with a .FCMacro extension, which Python doesn't recognize when using  import . So, before using the above code, we will need to rename the ParamRectangle.FCMacro file to ParamRectangle.py. This can be done simply from your file explorer, by navigating to the Macros folder indicated in menu Tools -&gt; Macros.
</p><p>Once that is done, we can now do this in the Python Console:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">ParamRectangle</span>
</pre></div>
<p>By exploring the contents of ParamRectangle, we can verify that it contains our ParametricRectangle class.
</p><p>To create a new parametric object using our ParametricRectangle class, we will use the following code. Observe that we use <b>Part::FeaturePython</b> instead of <b>Part::Feature</b> that we have been using in the previous chapters (The Python version allows to define our own parametric behaviour):
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">myObj</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::FeaturePython"</span><span class="p">,</span> <span class="s2">"Rectangle"</span><span class="p">)</span>
<span class="n">ParamRectangle</span><span class="o">.</span><span class="n">ParametricRectangle</span><span class="p">(</span><span class="n">myObj</span><span class="p">)</span>
<span class="n">myObj</span><span class="o">.</span><span class="n">ViewObject</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># This is mandatory unless we code the ViewProvider too.</span>
<span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
</pre></div>
<p>Here is a quick breakdown of the previous commands:
</p>
<ul><li><b>myObj = FreeCAD.ActiveDocument.addObject("Part::FeaturePython", "Rectangle")</b>: Creates a new <b>Part::FeaturePython</b> object named <b>Rectangle</b> in the active FreeCAD document. This object is specifically designed for custom parametric behavior, allowing Python-defined logic to manage its properties and behavior.</li></ul>
<ul><li><b>ParamRectangle.ParametricRectangle(myObj)</b>: Initializes the object by associating it with the <b>ParametricRectangle</b> class from the <b>ParamRectangle</b> module or script. This links the custom Python-defined logic to the object, enabling it to act as a parametric object.</li></ul>
<ul><li><b>myObj.ViewObject.Proxy = 0</b>: Resets the <b>ViewObject.Proxy</b> attribute to 0, ensuring that the object uses FreeCAD’s default view handling. This step is required unless you define a custom ViewProvider to manage the visual representation of the object.</li></ul>
<ul><li><b>FreeCAD.ActiveDocument.recompute()</b>: Recomputes the document to update the geometry and reflect changes in the FreeCAD graphical interface, making the new object fully visible and functional</li></ul>
<p>Nothing will appear on screen just yet, because the <b>Length</b> and <b>Width</b> properties are 0, which will trigger our "do-nothing" condition inside execute. We just need to change the values of Length and Width, and our object will magically appear and be recalculated on-the-fly.
</p><p>Of course it would be tedious to have to type these 4 lines of Python code each time we want to create a new parametric rectangle. A very simple way to solve this is placing the 4 lines above inside our <b>ParamRectangle.py</b> file, at the end, after the end of the <b>ParametricRectange</b> class (We can do this from the Macro editor).
</p><p>Now, when we type  import ParamRectangle , a new parametric rectangle will automatically be created.  Even better, we can add a toolbar button that will do just that:
</p>
<ul><li>Open menu <b>Tools -&gt; Customize</b></li>
<li>Under the "Macros" tab, select our ParamRectangle.py macro, fill in the details as you wish, and press "Add":</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/FreeCAD_python_macroRec.png"><img decoding="async" height="436" src="../File/FreeCAD_python_macroRec.png" width="697"/></a></span>
</p>
<ul><li>Under the Toolbars tab, create a new custom toolbar in the workbench of your choice (or globally), select your macro and add it to the toolbar:</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/FreeCAD_python_toolbarCus.png"><img decoding="async" height="436" src="../File/FreeCAD_python_toolbarCus.png" width="697"/></a></span>
</p>
<ul><li>That's it, we now have a new toolbar button which, when clicked, will create a parametric rectangle.</li></ul>
<p>Remember, if you want to distribute files created with this new tool to other people, they must have the <b>ParamRectangle.py</b> macro installed on their computer too.
</p><p><b>Read more</b>
</p>
<ul><li><a href="../Macros_recipes.html" title="Macros recipes">The FreeCAD macros repository</a></li>
<li><a href="../Scripted_objects.html" title="Scripted objects">Parametric object example</a></li>
<li><a class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/TemplatePyMod/FeaturePython.py" rel="nofollow">More examples in the FreeCAD code</a></li></ul>
<p><br/>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../de\Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/de">Geometrie erstellen und verarbeiten</a></div>
<div style="margin: 4px 0; float: right;"><a href="../de\Manual;Creating_interface_tools.html" title="Manual:Creating interface tools/de">Schnittstellenwerkzeuge erstellen</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../de\Manual;Introduction.html" title="Manual:Introduction/de">Handbuch Start</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Crystal_Clear_manual.png" width="24"/></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" width="24"/></a></span> <a href="../de\Power_users_hub.html" title="Power users hub/de">Power user documentation</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>FreeCAD scripting:</b> <a href="../de\Python.html" title="Python/de">Python</a>, <a href="../de\Introduction_to_Python.html" title="Introduction to Python/de">Introduction to Python</a>, <a href="../de\Python_scripting_tutorial.html" title="Python scripting tutorial/de">Python scripting tutorial</a>, <a href="../de\FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/de">FreeCAD Scripting Basics</a></li></ul>
<hr/>
<ul><li><b>Modules:</b> <a href="../de\Builtin_modules.html" title="Builtin modules/de">Builtin modules</a>, <a href="../de\Units.html" title="Units/de">Units</a>, <a href="../de\Quantity.html" title="Quantity/de">Quantity</a></li>
<li><b>Workbenches:</b> <a href="../de\Workbench_creation.html" title="Workbench creation/de">Workbench creation</a>, <a href="../de\Gui_Command.html" title="Gui Command/de">Gui Commands</a>, <a href="../de\Command.html" title="Command/de">Commands</a>, <a href="../de\Installing_more_workbenches.html" title="Installing more workbenches/de">Installing more workbenches</a></li>
<li><b>Meshes and Parts:</b> <a href="../de\Mesh_Scripting.html" title="Mesh Scripting/de">Mesh Scripting</a>, <a href="../de\Topological_data_scripting.html" title="Topological data scripting/de">Topological data scripting</a>, <a href="../de\Mesh_to_Part.html" title="Mesh to Part/de">Mesh to Part</a>, <a href="../de\PythonOCC.html" title="PythonOCC/de">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Parametric objects:</b> <a href="../de\Scripted_objects.html" title="Scripted objects/de">Scripted objects</a>, <a href="../de\Viewprovider.html" title="Viewprovider/de">Viewproviders</a> <small>(<a href="../de\Custom_icon_in_tree_view.html" title="Custom icon in tree view/de">Custom icon in tree view</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../de\Scenegraph.html" title="Scenegraph/de">Coin (Inventor) scenegraph</a>, <a href="../de\Pivy.html" title="Pivy/de">Pivy</a></li>
<li><b>Graphical interface:</b> <a href="../de\Interface_creation.html" title="Interface creation/de">Interface creation</a>, <a href="../de\Dialog_creation.html" title="Dialog creation/de">Interface creation completely in Python</a> <small>(<a href="../de\Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets/de">1</a>, <a href="../de\Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files/de">2</a>, <a href="../de\Dialog_creation_setting_colors.html" title="Dialog creation setting colors/de">3</a>, <a href="../de\Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF/de">4</a>, <a href="../de\PySide_usage_snippets.html" title="PySide usage snippets/de">5</a>)</small>, <a href="../de\PySide.html" title="PySide/de">PySide</a>, PySide examples <a href="../de\PySide_Beginner_Examples.html" title="PySide Beginner Examples/de">beginner</a>, <a href="../de\PySide_Intermediate_Examples.html" title="PySide Intermediate Examples/de">intermediate</a>, <a href="../de\PySide_Advanced_Examples.html" title="PySide Advanced Examples/de">advanced</a></li>
<li><b>Macros:</b> <a href="../de\Macros.html" title="Macros/de">Macros</a>, <a href="../de\How_to_install_macros.html" title="How to install macros/de">How to install macros</a></li>
<li><b>Embedding:</b> <a href="../de\Embedding_FreeCAD.html" title="Embedding FreeCAD/de">Embedding FreeCAD</a>, <a href="../de\Embedding_FreeCADGui.html" title="Embedding FreeCADGui/de">Embedding FreeCADGui</a></li></ul>
<hr/>
<ul><li><b>Other:</b> <a href="../de\Expressions.html" title="Expressions/de">Expressions</a>, <a href="../de\Code_snippets.html" title="Code snippets/de">Code snippets</a>, <a href="../de\Line_drawing_function.html" title="Line drawing function/de">Line drawing function</a>, <a href="../de\FreeCAD_vector_math_library.html" title="FreeCAD vector math library/de">FreeCAD vector math library</a> <small>(deprecated)</small></li></ul>
<hr/>
<ul><li><b>Hubs:</b> <a href="../de\User_hub.html" title="User hub/de">User hub</a>, <a href="../de\Power_users_hub.html" title="Power users hub/de">Power users hub</a>, <a href="../de\Developer_hub.html" title="Developer hub/de">Developer hub</a></li></ul></div>
</div></div>
<!-- 
NewPP limit report
Cached time: 20241214204345
Cache expiry: 86400
Reduced expiry: false
Complications: [no‐toc‐conversion]
CPU time usage: 0.119 seconds
Real time usage: 0.872 seconds
Preprocessor visited node count: 197/1000000
Post‐expand include size: 16248/2097152 bytes
Template argument size: 5316/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 11781/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  692.314      1 -total
 97.92%  677.884      5 Template:Code
  0.86%    5.966      1 Template:Manual:TOC
  0.74%    5.153      1 Manual:Summary/de
  0.56%    3.861      2 Template:Docnav/de
  0.47%    3.284      1 Template:Powerdocnavi/de
  0.22%    1.543      1 Template:Navigation_menu_2
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:212834-0!canonical and timestamp 20241214204344 and revision id 1517201. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
