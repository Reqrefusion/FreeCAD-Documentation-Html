<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Macro FCBmpImport/pl</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Macro_FCBmpImport.html" lang="en" title="Macro FCBmpImport (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Macro_FCBmpImport.html" lang="fr" title="Macro FCBmpImport (100% translated)">français</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--stub" dir="ltr" lang="pl">polski</span></li></ul></div>
<table class="fcinfobox wikitable ct" style="float: right; width: 230px; margin-left: 10px;" width="100%">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a class="mw-file-description" href="../File/FCBmpImportLogo.svg"><img decoding="async" height="32" src="../File/FCBmpImportLogo.svg" width="32"/></a></span><span> </span>
Macro FCBmpImport
</p>
</td></tr>
<tr>
<th class="ctOdd">Description
</th></tr>
<tr>
<td class="ctEven left macro-description">Import BMP monochrome and grayscale images into FreeCAD as sketches, solids, wires, faces or lithophane.<br/><br/>Macro version: 0.2021.09.23<br/>Last modified: 2021-09-23<br/>FreeCAD version: 0.18 or later<br/>Download: <a class="external text" href="https://wiki.freecadweb.org/File:FCBmpImportScreenshot.png" rel="nofollow">ToolBar Icon</a><br/>Author: TheMarkster<br/>
</td></tr>
<tr>
<th class="ctOdd">Author
</th></tr>
<tr>
<td class="ctEven macro-author"><a class="new" href="index.php?title=User;TheMarkster&amp;action=edit&amp;redlink=1.html" title="User:TheMarkster (page does not exist)">TheMarkster</a>
</td></tr>
<tr>
<th class="ctOdd">Download
</th></tr>
<tr>
<td class="ctEven macro-download"><a class="external text" href="https://wiki.freecadweb.org/File:FCBmpImportScreenshot.png" rel="nofollow">ToolBar Icon</a>
</td></tr>
<tr>
<th class="ctOdd">Links
</th></tr>
<tr>
<td class="ctEven macro-Links"><a class="external text" href="https://github.com/mwganson/fcbmpimport" rel="nofollow">Full Documentation on Github</a><br/><a href="Macros_recipes.html" title="Macros recipes">Macros recipes</a><br/><a href="How_to_install_macros.html" title="How to install macros">How to install macros</a><br/><a href="Customize_Toolbars.html" title="Customize Toolbars">How to customize toolbars</a>
</td></tr>
<tr>
<th class="ctOdd">Macro Version
</th></tr>
<tr>
<td class="ctEven macro-version">0.2021.09.23
</td></tr>
<tr>
<th class="ctOdd">Date last modified
</th></tr>
<tr>
<td class="ctEven macro-date">2021-09-23
</td></tr>
<tr>
<th class="ctOdd">FreeCAD Version(s)
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">0.18 or later
</td></tr>
<tr>
<th class="ctOdd">Default shortcut
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">See also
</th></tr>
<tr>
<td class="ctEven">
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Legend"><span class="tocnumber">2</span> <span class="toctext">Legend</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Script"><span class="tocnumber">3</span> <span class="toctext">Script</span></a></li>
</ul>
</div>
</td></tr>
</tbody></table>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>This macro is used to import BMP images into FreeCAD as FreeCAD objects.  Options for monochrome 1 bit per pixel images include importing as sketches, solids, wires, faces, or points.  A grayscale BMP image can also be imported as a lithophane.
</p><p>Usage: Click the Open Image button and select your image in the open file dialog.  Only image types supported are BMP.  These must be monochrome 1 bit per pixel unless importing as a lithophane, in which case grayscale bmp is supported.  You can use a color BMP image for lithophane, but it will be internally interpreted as grayscale during import.  After opening the image it will appear in the preview pane.  The red and blue cross represents where the origin will be relative to the imported object.  You can add negative values to the X Offset and Y Offset boxes to move the origin prior to doing the import.  See the screenshot below where the cross has been moved.  Below the Open Image button are buttons to be used for doing the import.  Some of these buttons bring up dialogs for extra options.  For example, Solid offers the Lithophane option.  With Wires imports you can elect whether to have faces made of the wires.  With Points you can elect whether to create a new sketch with the points added as links to external geometry.
</p><p>It should be noted there are better ways to import images into FreeCAD.  The best way is to convert to SVG and import as geometry for most cases.  High resolution images should be avoided.  These will tend to produce too many objects for FreeCAD to be able to manage.  It's possible even to run out of memory and crash FreeCAD or even the entire computer, so be sure to save anything important you are working on.  The process can be quite slow depending on the resolution and complexity of the image.  There is an abort button you can use.  If you see error messages go ahead and abort the import.  Consider the case of a relatively low resolution image of 120 x 120.  This is still 14,400 pixels!  The algorithm goes raster line by raster line, so there would 120 lines.  Where the adjacent pixels on a line are all the same color they are combined into a single object and when importing as a single fused solid these are further combined as new lines are added.  The progress bar is functional as long as it is the macro that is working, but when the macro completes and gives FreeCAD the object it can sometimes take a long time for FreeCAD to digest and render and may appear to be nonresponsive.  Be patient.
</p><p>The best images are those with clean 90 degree angles, all horizontal and vertical with no diagonals and no curves.  Such images can be imported as sketches and extruded in Part workbench.  Images with curves and diagonals will tend to be highly pixelated.  This is the nature of the BMP format.  Even high resolution images will be pixelated if you zoom in far enough.  Some of the imports will be, frankly, quite ugly.  This is the main reason SVG imports are preferred.
</p><p>The macro also offers some other tools for wire editing.  These are mainly in dealing with imported Wires, which are Draft workbench wires.  The points in these objects can be edited with the macro.  See the documentation on github for more details.
</p><p>The Select Objects button is used to select subobjects that share the same boundbox limits on one of the axes.  For example, if you wish to select all the faces at the same Z coordinate on the XY plane select one of the faces, click the Select Objects button, select Z in the dialog, and wait while all the faces in the object that match this criteria are added to the FreeCAD selection mechanism.  This also works for edges and vertices.  This feature was added to make it easier in Path workbench to select all the faces for a 3d pocket, but can be useful for other purposes.
</p><p>Full documentation can be found on github: <a class="external text" href="https://github.com/mwganson/fcbmpimport" rel="nofollow">FCBmpImport</a>.
</p><p><span typeof="mw:File"><a class="mw-file-description" href="../File/FCBmpImportScreenshot.png"><img decoding="async" height="515" src="../File/FCBmpImportScreenshot.png" srcset="/images/0/0b/FCBmpImportScreenshot.png 1.5x" width="600"/></a></span>
</p>
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;">FCBmpImport screenshot‎</p>
<h2><span class="mw-headline" id="Legend">Legend</span></h2>
<div class="toccolours mw-collapsible mw-collapsed" style="cursor:not-allowed">
<p>Temporary code for external macro link. Do not use this code. This code is used exclusively by <a href="Std_AddonMgr.html" title="Std AddonMgr">Addon Manager</a>. <i>Link for optional manual installation: <a class="external text" href="https://gist.githubusercontent.com/mwganson/ea7aa4dcb79d7492caa24e8970967174/raw/1fe247b5b93e5084866a69754854d9caedca1f09/FCBmpImport.FCMacro" rel="nofollow">Macro</a></i>
</p>
<div class="mw-collapsible-content">
<pre>

# This code is copied instead of the original macro code
# to guide the user to the online download page.
# Use it if the code of the macro is larger than 64 KB and cannot be included in the wiki
# or if the RAW code URL is somewhere else in the wiki.

from PySide import QtGui, QtCore

diag = QtGui.QMessageBox(QtGui.QMessageBox.Information,
    "Information",
    "This macro must be downloaded from this link\n"
    "\n"
    "https://gist.githubusercontent.com/mwganson/ea7aa4dcb79d7492caa24e8970967174/raw/1fe247b5b93e5084866a69754854d9caedca1f09/FCBmpImport.FCMacro" + "\n"
    "\n"
    "Quit this window to access the download page")

diag.setWindowFlags(QtCore.Qt.WindowStaysOnTopHint)
diag.setWindowModality(QtCore.Qt.ApplicationModal)
diag.exec_()

import webbrowser 
webbrowser.open("https://gist.githubusercontent.com/mwganson/ea7aa4dcb79d7492caa24e8970967174/raw/1fe247b5b93e5084866a69754854d9caedca1f09/FCBmpImport.FCMacro")
</pre>
</div>
</div>
<div style="display:none;">&lt;class="rawcodeurl"&gt;&lt;a href="<a class="external free" href="https://gist.githubusercontent.com/mwganson/ea7aa4dcb79d7492caa24e8970967174/raw/1fe247b5b93e5084866a69754854d9caedca1f09/FCBmpImport.FCMacro" rel="nofollow">https://gist.githubusercontent.com/mwganson/ea7aa4dcb79d7492caa24e8970967174/raw/1fe247b5b93e5084866a69754854d9caedca1f09/FCBmpImport.FCMacro</a>"&gt;raw code&lt;/a&gt;</div>
<p><br/>
ToolBar Icon
<span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/FCBmpImportLogo.svg"><img decoding="async" height="64" src="../File/FCBmpImportLogo.svg" width="64"/></a></span>
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p><b>Macro FCBmpImport.FCMacro</b>
</p>
<div class="plainlinks" style="width:300px; text-align:center; margin:10px auto;">
<div style="border:1px outset #9eb4b5; background:#f0fdf8; margin:5px; padding:5px; white-space:nowrap; -webkit-border-radius: 5px; -moz-border-radius: 5px;">
<p><span typeof="mw:File"><a href="https://gist.github.com/mwganson/ea7aa4dcb79d7492caa24e8970967174" rel="nofollow"><img decoding="async" height="35" src="../File/Nuvola_apps_download_manager.png" srcset="/images/thumb/2/26/Nuvola_apps_download_manager.png/53px-Nuvola_apps_download_manager.png 1.5x, /images/thumb/2/26/Nuvola_apps_download_manager.png/70px-Nuvola_apps_download_manager.png 2x" width="35"/></a></span>
</p><p><span class="CodeDownload" style="font-weight:bold"><a class="external text" href="https://gist.github.com/mwganson/ea7aa4dcb79d7492caa24e8970967174" rel="nofollow">FCBmpImport.FCMacro</a></span>
</p>
</div>
</div>
<!-- 
NewPP limit report
Cached time: 20241129211704
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.042 seconds
Real time usage: 0.056 seconds
Preprocessor visited node count: 120/1000000
Post‐expand include size: 3615/2097152 bytes
Template argument size: 1405/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 1574/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    4.881      1 -total
 39.68%    1.937      1 Template:Macro
 28.44%    1.388      1 Template:Codeextralink
 14.36%    0.701      1 Template:Caption
 13.58%    0.663      1 Template:CodeDownload
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:289156-0!canonical and timestamp 20241129211704 and revision id 1149587. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
