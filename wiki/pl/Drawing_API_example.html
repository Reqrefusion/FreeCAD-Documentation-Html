<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Drawing API example/pl</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Drawing_API_example.html" lang="en" title="Drawing API example (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../fr\Drawing_API_example.html" lang="fr" title="Exemple d'interface de programmation pour dessin (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../it\Drawing_API_example.html" lang="it" title="Esempi di API Drawing (3% translated)">italiano</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--stub" dir="ltr" lang="pl">polski</span></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../ro\Drawing_API_example.html" lang="ro" title="Drawing API example/ro (11% translated)">română</a></li></ul></div>
<div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Simple_example"><span class="tocnumber">2</span> <span class="toctext">Simple example</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Parametric_example"><span class="tocnumber">3</span> <span class="toctext">Parametric example</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Accessing_the_bits_and_pieces"><span class="tocnumber">4</span> <span class="toctext">Accessing the bits and pieces</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#General_dimensioning_and_tolerancing"><span class="tocnumber">5</span> <span class="toctext">General dimensioning and tolerancing</span></a></li>
</ul>
</div>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>The graphical user interface workflow for the <a href="../Drawing_Workbench.html" title="Drawing Workbench">Drawing Workbench</a> is limited, so the scripting API is more interesting.
</p>
<h2><span class="mw-headline" id="Simple_example">Simple example</span></h2>
<p>First of all you need the Part and the Drawing module:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span> <span class="nn">Part</span><span class="o">,</span> <span class="nn">Drawing</span>
</pre></div>
<p>Create a small sample part
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Part</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">Part</span><span class="o">.</span><span class="n">makeCylinder</span><span class="p">(</span><span class="mi">80</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="mi">40</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">85</span><span class="p">,</span><span class="mi">100</span><span class="p">)))</span>
</pre></div>
<p>Direct projection. The G0 means hard edge, the G1 is tangent continuous.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">Shape</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Shape</span><span class="o">.</span><span class="n">Shape</span>
<span class="p">[</span><span class="n">visibleG0</span><span class="p">,</span><span class="n">visibleG1</span><span class="p">,</span><span class="n">hiddenG0</span><span class="p">,</span><span class="n">hiddenG1</span><span class="p">]</span> <span class="o">=</span> <span class="n">Drawing</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">Shape</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">"visible edges:"</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">visibleG0</span><span class="o">.</span><span class="n">Edges</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">"hidden edges:"</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">hiddenG0</span><span class="o">.</span><span class="n">Edges</span><span class="p">)</span>
</pre></div>
<p>Everything was projected on the Z-plane:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">print</span> <span class="s2">"Bnd Box shape: X="</span><span class="p">,</span><span class="n">Shape</span><span class="o">.</span><span class="n">BoundBox</span><span class="o">.</span><span class="n">XLength</span><span class="p">,</span><span class="s2">" Y="</span><span class="p">,</span><span class="n">Shape</span><span class="o">.</span><span class="n">BoundBox</span><span class="o">.</span><span class="n">YLength</span><span class="p">,</span><span class="s2">" Z="</span><span class="p">,</span><span class="n">Shape</span><span class="o">.</span><span class="n">BoundBox</span><span class="o">.</span><span class="n">ZLength</span>
<span class="nb">print</span> <span class="s2">"Bnd Box project: X="</span><span class="p">,</span><span class="n">visibleG0</span><span class="o">.</span><span class="n">BoundBox</span><span class="o">.</span><span class="n">XLength</span><span class="p">,</span><span class="s2">" Y="</span><span class="p">,</span><span class="n">visibleG0</span><span class="o">.</span><span class="n">BoundBox</span><span class="o">.</span><span class="n">YLength</span><span class="p">,</span><span class="s2">" Z="</span><span class="p">,</span><span class="n">visibleG0</span><span class="o">.</span><span class="n">BoundBox</span><span class="o">.</span><span class="n">ZLength</span>
</pre></div>
<p>Different projection vector
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">[</span><span class="n">visibleG0</span><span class="p">,</span><span class="n">visibleG1</span><span class="p">,</span><span class="n">hiddenG0</span><span class="p">,</span><span class="n">hiddenG1</span><span class="p">]</span> <span class="o">=</span> <span class="n">Drawing</span><span class="o">.</span><span class="n">project</span><span class="p">(</span><span class="n">Shape</span><span class="p">,</span><span class="n">App</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
<p>Project to SVG
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">resultSVG</span> <span class="o">=</span> <span class="n">Drawing</span><span class="o">.</span><span class="n">projectToSVG</span><span class="p">(</span><span class="n">Shape</span><span class="p">,</span><span class="n">App</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="nb">print</span> <span class="n">resultSVG</span>
</pre></div>
<h2><span class="mw-headline" id="Parametric_example">Parametric example</span></h2>
<p>Create the body
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">FreeCAD</span>
<span class="kn">import</span> <span class="nn">Part</span>
<span class="kn">import</span> <span class="nn">Drawing</span>

<span class="c1"># Create three boxes and a cylinder</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::Box"</span><span class="p">,</span><span class="s2">"Box"</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box</span><span class="o">.</span><span class="n">Length</span><span class="o">=</span><span class="mf">100.00</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box</span><span class="o">.</span><span class="n">Width</span><span class="o">=</span><span class="mf">100.00</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box</span><span class="o">.</span><span class="n">Height</span><span class="o">=</span><span class="mf">100.00</span>

<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::Box"</span><span class="p">,</span><span class="s2">"Box1"</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box1</span><span class="o">.</span><span class="n">Length</span><span class="o">=</span><span class="mf">90.00</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box1</span><span class="o">.</span><span class="n">Width</span><span class="o">=</span><span class="mf">40.00</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box1</span><span class="o">.</span><span class="n">Height</span><span class="o">=</span><span class="mf">100.00</span>

<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::Box"</span><span class="p">,</span><span class="s2">"Box2"</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box2</span><span class="o">.</span><span class="n">Length</span><span class="o">=</span><span class="mf">20.00</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box2</span><span class="o">.</span><span class="n">Width</span><span class="o">=</span><span class="mf">85.00</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box2</span><span class="o">.</span><span class="n">Height</span><span class="o">=</span><span class="mf">100.00</span>

<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::Cylinder"</span><span class="p">,</span><span class="s2">"Cylinder"</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Cylinder</span><span class="o">.</span><span class="n">Radius</span><span class="o">=</span><span class="mf">80.00</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Cylinder</span><span class="o">.</span><span class="n">Height</span><span class="o">=</span><span class="mf">100.00</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Cylinder</span><span class="o">.</span><span class="n">Angle</span><span class="o">=</span><span class="mf">360.00</span>
<span class="c1"># Fuse two boxes and the cylinder</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::Fuse"</span><span class="p">,</span><span class="s2">"Fusion"</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Fusion</span><span class="o">.</span><span class="n">Base</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Cylinder</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Fusion</span><span class="o">.</span><span class="n">Tool</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box1</span>

<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::Fuse"</span><span class="p">,</span><span class="s2">"Fusion1"</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Fusion1</span><span class="o">.</span><span class="n">Base</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box2</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Fusion1</span><span class="o">.</span><span class="n">Tool</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Fusion</span>
<span class="c1"># Cut the fused shapes from the first box</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::Cut"</span><span class="p">,</span><span class="s2">"Shape"</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Shape</span><span class="o">.</span><span class="n">Base</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box</span> 
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Shape</span><span class="o">.</span><span class="n">Tool</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Fusion1</span>
<span class="c1"># Hide all the intermediate shapes </span>
<span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box</span><span class="o">.</span><span class="n">Visibility</span><span class="o">=</span><span class="kc">False</span>
<span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box1</span><span class="o">.</span><span class="n">Visibility</span><span class="o">=</span><span class="kc">False</span>
<span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Box2</span><span class="o">.</span><span class="n">Visibility</span><span class="o">=</span><span class="kc">False</span>
<span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Cylinder</span><span class="o">.</span><span class="n">Visibility</span><span class="o">=</span><span class="kc">False</span>
<span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Fusion</span><span class="o">.</span><span class="n">Visibility</span><span class="o">=</span><span class="kc">False</span>
<span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Fusion1</span><span class="o">.</span><span class="n">Visibility</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
<p>Insert a Page object and assign a template
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s1">'Drawing::FeaturePage'</span><span class="p">,</span><span class="s1">'Page'</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Page</span><span class="o">.</span><span class="n">Template</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">getResourceDir</span><span class="p">()</span><span class="o">+</span><span class="s1">'Mod/Drawing/Templates/A3_Landscape.svg'</span>
</pre></div>
<p>Create a view on the "Shape" object, define the position and scale and assign it to a Page
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s1">'Drawing::FeatureViewPart'</span><span class="p">,</span><span class="s1">'View'</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">Source</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Shape</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">Direction</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">Y</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Page</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">View</span><span class="p">)</span>
</pre></div>
<p>Create a second view on the same object but this time the view will be rotated by 90 degrees.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s1">'Drawing::FeatureViewPart'</span><span class="p">,</span><span class="s1">'ViewRot'</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewRot</span><span class="o">.</span><span class="n">Source</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Shape</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewRot</span><span class="o">.</span><span class="n">Direction</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewRot</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="mf">290.0</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewRot</span><span class="o">.</span><span class="n">Y</span> <span class="o">=</span> <span class="mf">30.0</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewRot</span><span class="o">.</span><span class="n">Scale</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewRot</span><span class="o">.</span><span class="n">Rotation</span> <span class="o">=</span> <span class="mf">90.0</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Page</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewRot</span><span class="p">)</span>
</pre></div>
<p>Create a third view on the same object but with an isometric view direction. The hidden lines are activated too.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s1">'Drawing::FeatureViewPart'</span><span class="p">,</span><span class="s1">'ViewIso'</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewIso</span><span class="o">.</span><span class="n">Source</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Shape</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewIso</span><span class="o">.</span><span class="n">Direction</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewIso</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="mf">335.0</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewIso</span><span class="o">.</span><span class="n">Y</span> <span class="o">=</span> <span class="mf">140.0</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewIso</span><span class="o">.</span><span class="n">ShowHiddenLines</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Page</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewIso</span><span class="p">)</span>
</pre></div>
<p>Change something and update. The update process changes the view and the page.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">X</span> <span class="o">=</span> <span class="mf">30.0</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">Y</span> <span class="o">=</span> <span class="mf">30.0</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">Scale</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
</pre></div>
<h2><span class="mw-headline" id="Accessing_the_bits_and_pieces">Accessing the bits and pieces</span></h2>
<p>Get the SVG fragment of a single view
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">ViewSVG</span> <span class="o">=</span> <span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">View</span><span class="o">.</span><span class="n">ViewResult</span>
<span class="nb">print</span> <span class="n">ViewSVG</span>
</pre></div>
<p>Get the whole result page (it's a file in the document's temporary directory, only read permission)
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">print</span> <span class="s2">"Resulting SVG document: "</span><span class="p">,</span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Page</span><span class="o">.</span><span class="n">PageResult</span>
<span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Page</span><span class="o">.</span><span class="n">PageResult</span><span class="p">,</span><span class="s2">"r"</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">"Result page is "</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()),</span><span class="s2">" lines long"</span>
</pre></div>
<p>Important: free the file!
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">del</span> <span class="n">file</span>
</pre></div>
<p><br/>
Insert a view with your own content:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s1">'Drawing::FeatureView'</span><span class="p">,</span><span class="s1">'ViewSelf'</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewSelf</span><span class="o">.</span><span class="n">ViewResult</span> <span class="o">=</span> <span class="s2">"""&lt;g id="ViewSelf"</span>
<span class="s2">  stroke="rgb(0, 0, 0)"</span>
<span class="s2">  stroke-width="0.35"</span>
<span class="s2">  stroke-linecap="butt"</span>
<span class="s2">  stroke-linejoin="miter"</span>
<span class="s2">  transform="translate(30,30)"</span>
<span class="s2">  fill="#00cc00"</span>
<span class="s2">  &gt;</span>

<span class="s2">  &lt;ellipse cx="40" cy="40" rx="30" ry="15"/&gt;</span>
<span class="s2">  &lt;/g&gt;"""</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">Page</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ViewSelf</span><span class="p">)</span>
<span class="n">App</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>

<span class="k">del</span> <span class="n">ViewSVG</span>
</pre></div>
<p>That leads to the following result:
</p><p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/DrawingScriptResult.jpg"><img decoding="async" height="770" src="../File/DrawingScriptResult.jpg" width="1280"/></a></span>
</p>
<h2><span class="mw-headline" id="General_dimensioning_and_tolerancing">General dimensioning and tolerancing</span></h2>
<p><i>See also:</i> <a href="../Drawing_Dimensioning_Addon.html" title="Drawing Dimensioning Addon">Drawing Dimensioning Addon</a>
</p><p>Drawing dimensions an tolerances are still under development but you can get some basic functionality with a bit of work.
</p><p>First you need to get the gdtsvg python module from here (WARNING: This could be broken at any time!): 
</p><p><a class="external free" href="https://github.com/jcc242/FreeCAD" rel="nofollow">https://github.com/jcc242/FreeCAD</a>
</p><p>To get a feature control frame, try out the following:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">gdtsvg</span> <span class="k">as</span> <span class="nn">g</span> <span class="c1"># Import the module, I like to give it an easy handle</span>
<span class="n">ourFrame</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">ControlFrame</span><span class="p">(</span><span class="s2">"0"</span><span class="p">,</span><span class="s2">"0"</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">Perpendicularity</span><span class="p">(),</span> <span class="s2">".5"</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">Diameter</span><span class="p">(),</span> <span class="n">g</span><span class="o">.</span><span class="n">ModifyingSymbols</span><span class="p">(</span><span class="s2">"M"</span><span class="p">),</span> <span class="s2">"A"</span><span class="p">,</span>  
           <span class="n">g</span><span class="o">.</span><span class="n">ModifyingSymbols</span><span class="p">(</span><span class="s2">"F"</span><span class="p">),</span> <span class="s2">"B"</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">ModifyingSymbols</span><span class="p">(</span><span class="s2">"L"</span><span class="p">),</span> <span class="s2">"C"</span><span class="p">,</span> <span class="n">g</span><span class="o">.</span><span class="n">ModifyingSymbols</span><span class="p">(</span><span class="s2">"I"</span><span class="p">))</span>
</pre></div>
<p>Here is a good breakdown of the contents of a feature control frame: <a class="external free" href="http://www.cadblog.net/adding-geometric-tolerances.htm" rel="nofollow">http://www.cadblog.net/adding-geometric-tolerances.htm</a>
</p><p>The parameters to pass to control frame are: 
</p>
<ol><li>X-coordinate in SVG-coordinate system (type string)</li>
<li>Y-coordinate in SVG-coordinate system (type string)</li>
<li>The desired geometric characteristic symbol (tuple, svg string as first, width of symbol as second, height of symbol as third)</li>
<li>The tolerance (type string)</li>
<li>(optional) The diameter symbol (tuple, svg string as first, width of symbol as second, height of symbol as third)</li>
<li>(optional) The condition modifying material (tuple, svg string as first, width of symbol as second, height of symbol as third)</li>
<li>(optional) The first datum (type string)</li>
<li>(optional) The first datum's modifying condition (tuple, svg string as first, width of symbol as second, height of symbol as third)</li>
<li>(optional) The second datum (type string)</li>
<li>(optional) The second datum's modifying condition (tuple, svg string as first, width of symbol as second, height of symbol as third)</li>
<li>(optional) The third datum (type string)</li>
<li>(optional) The third datum's material condition (tuple, svg string as first, width of symbol as second, height of symbol as third)</li></ol>
<p>The ControlFrame function returns a type containing (svg string, overall width of control frame, overall height of control frame)<b></b>
</p><p>To get a dimension, try out the following:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">gdtsvg</span>
<span class="n">ourDimension</span> <span class="o">=</span> <span class="n">linearDimension</span><span class="p">(</span><span class="n">point1</span><span class="p">,</span> <span class="n">point2</span><span class="p">,</span> <span class="n">textpoint</span><span class="p">,</span> <span class="n">dimensiontext</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="n">getStyle</span><span class="p">(</span><span class="s2">"visible"</span><span class="p">),</span> 
               <span class="n">arrowstyle</span><span class="o">=</span><span class="n">getStyle</span><span class="p">(</span><span class="s2">"filled"</span><span class="p">),</span> <span class="n">textstyle</span><span class="o">=</span><span class="n">getStyle</span><span class="p">(</span><span class="s2">"text"</span><span class="p">)</span>
</pre></div>
<p>Inputs for linear dimension are:
</p>
<ol><li>point1, an (x,y) tuple with svg-coordinates, this is one of the points you would like to dimension between</li>
<li>point2, an (x,y) tuple with svg-coordinates, this is the second point you would like to dimension between</li>
<li>textpoint, an (x,y) tuple of svg-coordinates, this is where the text of your dimension will be</li>
<li>dimensiontext, a string containing the text you want the dimension to say</li>
<li>linestyle, a string containing svg (i.e. css) styles, using the getStyle function to retrieve a preset string, for styling the how the lines look</li>
<li>arrowstyle, a string containing svg (i.e. css) styles, using the getStyle function to retrieve a preset string, for styling how the arrows look</li>
<li>textstyle, a string containing svg (i.e. css) styles, using the getStyle function to retrieve a preset string, for styling how the text looks</li></ol>
<p>With those two, you can proceed as above for displaying them on the drawing page. This module is very buggy and can be broken at any given moment, bug reports are welcome on the github page for now, or contact jcc242 on the forums if you post a bug somewhere else.
</p>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><a href="../pl\Power_users_hub.html" title="Power users hub/pl">Centrum Power użytkowników</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" width="24"/></a></span>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Tworzenie skryptów FreeCAD:</b> <a href="../pl\Python.html" title="Python/pl">Python</a>, <a href="../pl\Introduction_to_Python.html" title="Introduction to Python/pl">Wprowadzenie do środowiska Python</a>, <a href="../pl\Python_scripting_tutorial.html" title="Python scripting tutorial/pl">Poradnik: Tworzenie skryptów Python</a>, <a href="../pl\FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/pl">Podstawy tworzenia skryptów FreeCAD</a></li></ul>
<hr/>
<ul><li><b>Moduły:</b> <a href="../pl\Builtin_modules.html" title="Builtin modules/pl">Moduły wbudowane</a>, <a href="../pl\Units.html" title="Units/pl">Jednostki miar</a>, <a href="../Quantity.html" title="Quantity">Ilość</a></li>
<li><b>Środowiska pracy:</b> <a href="../pl\Workbench_creation.html" title="Workbench creation/pl">Tworzenie Środowiska pracy</a>, <a href="../pl\Gui_Command.html" title="Gui Command/pl">Polecenia Gui</a>, <a href="../Command.html" title="Command">Polecenia</a>, <a href="../pl\Installing_more_workbenches.html" title="Installing more workbenches/pl">Instalacja większej liczby Środowisk pracy</a></li>
<li><b>Siatki i elementy:</b> <a href="../pl\Mesh_Scripting.html" title="Mesh Scripting/pl">Skrytpy w Środowisku Siatek</a>, <a href="../pl\Topological_data_scripting.html" title="Topological data scripting/pl">v</a>, <a href="../pl\Mesh_to_Part.html" title="Mesh to Part/pl">Konwerska Mesh na Part</a>, <a href="../pl\PythonOCC.html" title="PythonOCC/pl">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Obiekty parametryczne:</b> <a href="../pl\Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a>, <a href="../Viewprovider.html" title="Viewprovider">Obsługa obrazu</a> <small>(<a href="../Custom_icon_in_tree_view.html" title="Custom icon in tree view">Ikonka niestandardowa w widoku drzewa</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../pl\Scenegraph.html" title="Scenegraph/pl">Coin (Inventor) scenegraph</a>, <a href="../pl\Pivy.html" title="Pivy/pl">Pivy</a></li>
<li><b>Interfejs graficzny:</b> <a href="../Interface_creation.html" title="Interface creation">Stworzenie interfejsu</a>, <a href="../pl\Dialog_creation.html" title="Dialog creation/pl">Kompletne stworzenie interfejsu w środowisku Python</a> <small>(<a href="../Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets">1</a>, <a href="../Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files">2</a>, <a href="../Dialog_creation_setting_colors.html" title="Dialog creation setting colors">3</a>, <a href="../Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF">4</a>, <a href="../PySide_usage_snippets.html" title="PySide usage snippets">5</a>)</small>, <a href="../pl\PySide.html" title="PySide/pl">PySide</a>, PySide examples <a href="../PySide_Beginner_Examples.html" title="PySide Beginner Examples">początkujący</a>, <a href="../PySide_Intermediate_Examples.html" title="PySide Intermediate Examples">średniozaawansowany</a>, <a href="../PySide_Advanced_Examples.html" title="PySide Advanced Examples">zaawansowany</a></li>
<li><b>Makrodefinicje:</b> <a href="../pl\Macros.html" title="Macros/pl">Makrodefinicje</a>, <a href="../pl\How_to_install_macros.html" title="How to install macros/pl">Instalacja makrodefinicji</a></li>
<li><b>Osadzanie programu:</b> <a href="../pl\Embedding_FreeCAD.html" title="Embedding FreeCAD/pl">Osadzanie programu FreeCAD</a>, <a href="../pl\Embedding_FreeCADGui.html" title="Embedding FreeCADGui/pl">Osadzanie GUI FreeCAD</a></li></ul>
<hr/>
<ul><li><b>Pozostałe:</b> <a href="../pl\Expressions.html" title="Expressions/pl">Wyrażenia</a>, <a href="../pl\Code_snippets.html" title="Code snippets/pl">Wycinki kodu</a>, <a href="../pl\Line_drawing_function.html" title="Line drawing function/pl">Funkcja kreślenia linii</a>, <a href="../pl\FreeCAD_vector_math_library.html" title="FreeCAD vector math library/pl">Biblioteka matematyczna FreeCAD dla wektorów</a> <small>(deprecated)</small></li></ul>
<hr/>
<ul><li><b>Węzły użytkowników:</b> <a href="../pl\User_hub.html" title="User hub/pl">Centrum użytkownika</a>, <a href="../pl\Power_users_hub.html" title="Power users hub/pl">Centrum Power użytkowników</a>, <a href="../pl\Developer_hub.html" title="Developer hub/pl">Centrum programisty</a></li></ul></div>
</div></div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="../File/Workbench_Drawing.svg"><img decoding="async" height="24" src="../File/Workbench_Drawing.svg" width="24"/></a></span> <a href="../pl\Drawing_Workbench.html" title="Drawing Workbench/pl">Środowisko pracy Kreślenie</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Przybory:</b> <a href="../pl\Drawing_Open_SVG.html" title="Drawing Open SVG/pl">Otwórz plik SVG</a>, <a href="../pl\Drawing_Landscape_A3.html" title="Drawing Landscape A3/pl">Format poziomy A3</a>, <a href="../pl\Drawing_View.html" title="Drawing View/pl">Widok</a>, <a href="../pl\Drawing_Annotation.html" title="Drawing Annotation/pl">Adnotacja</a>, <a href="../pl\Drawing_Clip.html" title="Drawing Clip/pl">Wycinek</a>, <a href="../pl\Drawing_Openbrowser.html" title="Drawing Openbrowser/pl">Otwórz przeglądarkę WEB</a>, <a href="../pl\Drawing_Orthoviews.html" title="Drawing Orthoviews/pl">Widoki ortogonalne</a>, <a href="../pl\Drawing_Symbol.html" title="Drawing Symbol/pl">Symbol</a>, <a href="../pl\Draft_Drawing.html" title="Draft Drawing/pl">Projekt rysunku</a>, <a href="../pl\Drawing_SpreadsheetView.html" title="Drawing SpreadsheetView/pl">Widok arkusza kalkulacyjnego</a>, <a href="../pl\Drawing_Save.html" title="Drawing Save/pl">Zapisz SVG</a>, <a href="../pl\Drawing_ProjectShape.html" title="Drawing ProjectShape/pl">Rzut przestrzenny obiektu</a></li></ul>
<hr/>
<ul><li><b>Dodatkowe:</b> <a href="../pl\Drawing_Dimensioning_Addon.html" title="Drawing Dimensioning Addon/pl">Dodatek do wymiarowania</a>; <a href="../pl\Drawing_Documentation.html" title="Drawing Documentation/pl">Dokumentacja dla programisty</a>, <a class="mw-selflink selflink">Skrypty w Środowisku Kreślenie</a></li></ul></div>
</div></div>
<div style="clear:both"></div>
<!-- 
NewPP limit report
Cached time: 20241214203134
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.124 seconds
Real time usage: 1.917 seconds
Preprocessor visited node count: 305/1000000
Post‐expand include size: 10977/2097152 bytes
Template argument size: 8037/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 18/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 32225/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00% 1816.542      1 -total
 99.38% 1805.326     18 Template:Code
  0.24%    4.297      1 Template:Drawing_Tools_navi/pl
  0.13%    2.436      1 Template:Powerdocnavi/pl
  0.08%    1.458      2 Template:Navigation_menu_2
  0.05%    0.899      1 Template:Emphasis
  0.04%    0.804      1 Template:Clear
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:239438-0!canonical and timestamp 20241214203132 and revision id 891729. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
