<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Workbench creation/pl</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../de\Workbench_creation.html" lang="de" title="Erstellung von Arbeitsbereichen (92% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Workbench_creation.html" lang="en" title="Workbench creation (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../es\Workbench_creation.html" lang="es" title="Workbench creation/es (2% translated)">español</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../fr\Workbench_creation.html" lang="fr" title="Création d'atelier (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../it\Workbench_creation.html" lang="it" title="Creare un Ambiente di lavoro (100% translated)">italiano</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="pl">polski</span></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../pt-br\Workbench_creation.html" lang="pt-BR" title="Criação de bancadas de trabalho (27% translated)">português do Brasil</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../ro\Workbench_creation.html" lang="ro" title="Workbench creation/ro (2% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="../ru\Workbench_creation.html" lang="ru" title="Разработка верстака (62% translated)">русский</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../Workbench_creation_zh-hant.html" lang="zh-Hant" title="Workbench creation/zh-hant (0% translated)">中文（繁體）</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../zh-tw\Workbench_creation.html" lang="zh-Hant-TW" title="建立Workbench (10% translated)">中文（臺灣）</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../ko\Workbench_creation.html" lang="ko" title="작업대 만들기 (12% translated)">한국어</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../pl\Localisation.html" title="Localisation/pl">Lokalizacja</a></div>
<div style="margin: 4px 0; float: right;"><a href="../pl\Extra_python_modules.html" title="Extra python modules/pl">Dodatkowe moduły Python</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../pl\Online_Help_Toc.html" title="Online Help Toc/pl">Spis treści</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Wprowadzenie"><span class="tocnumber">1</span> <span class="toctext">Wprowadzenie</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Struktura_środowiska_pracy"><span class="tocnumber">2</span> <span class="toctext">Struktura środowiska pracy</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#C++_struktura_środowiska_pracy"><span class="tocnumber">3</span> <span class="toctext">C++ struktura środowiska pracy</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Plik_Init.py"><span class="tocnumber">3.1</span> <span class="toctext">Plik Init.py</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Środowiska_pracy_w_Python"><span class="tocnumber">3.2</span> <span class="toctext">Środowiska pracy w Python</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#Ustawienia"><span class="tocnumber">3.2.1</span> <span class="toctext">Ustawienia</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#Dystrybucja"><span class="tocnumber">3.2.2</span> <span class="toctext">Dystrybucja</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-8"><a href="#Środowiska_pracy_w_C++"><span class="tocnumber">3.3</span> <span class="toctext">Środowiska pracy w C++</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="#Ustawienia_2"><span class="tocnumber">3.3.1</span> <span class="toctext">Ustawienia</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#Dystrybucja_2"><span class="tocnumber">3.3.2</span> <span class="toctext">Dystrybucja</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="#Polecenia_FreeCAD"><span class="tocnumber">4</span> <span class="toctext">Polecenia FreeCAD</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="#Definicja_polecenia_w_Python"><span class="tocnumber">4.1</span> <span class="toctext">Definicja polecenia w Python</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Definicja_polecenia_w_C++"><span class="tocnumber">4.2</span> <span class="toctext">Definicja polecenia w C++</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href='#"Kompilacja"_pliku_zasobów'><span class="tocnumber">5</span> <span class="toctext">"Kompilacja" pliku zasobów</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Powiązane"><span class="tocnumber">6</span> <span class="toctext">Powiązane</span></a></li>
</ul>
</div>
</div>
<p><span id="Introduction"></span>
</p>
<h2><span class="mw-headline" id="Wprowadzenie">Wprowadzenie</span></h2>
<p>Ta strona pokaże Ci, jak dodać nowe środowisko pracy do interfejsu programu FreeCAD. <a href="../pl\Workbenches.html" title="Workbenches/pl">Środowiska pracy</a> są kontenerami dla poleceń FreeCAD. Mogą być zakodowane w Pythonie, w C++ lub w mieszance obu tych języków, co ma tę zaletę, że łączy szybkość C++ z elastycznością Pythona. We wszystkich przypadkach jednak Twoje środowisko pracy będzie uruchamiane przez zestaw dwóch plików Python. Mogą to być "wewnętrzne" środowiska, dołączone do dystrybucji programu FreeCAD, lub "zewnętrzne", dystrybuowane za pomocą <a href="../pl\Std_AddonMgr.html" title="Std AddonMgr/pl">Menadżera dodatków</a> lub instalowane ręcznie przez pobranie z jakiegoś repozytorium online. Wewnętrzne środowiska pracy mogą być napisane w C++, środowisku Python lub kombinacji tych dwóch środowisk, podczas gdy zewnętrzne środowiska pracy muszą być napisane wyłącznie w środowisku Python.
</p><p><span id="The_workbench_structure"></span>
</p>
<h2><span id="Struktura_.C5.9Brodowiska_pracy"></span><span class="mw-headline" id="Struktura_środowiska_pracy">Struktura środowiska pracy</span></h2>
<p>Potrzebny jest folder o dowolnej nazwie, umieszczony w katalogu Mod użytkownika, z plikiem <code>Init.py</code> i opcjonalnie plikiem <code>InitGui.py</code>. Plik <code>Init.py</code> jest wykonywany podczas uruchamiania FreeCAD, a plik <code>InitGui.py</code> jest wykonywany natychmiast po nim, ale tylko wtedy, gdy FreeCAD uruchamia się w trybie GUI. To wszystko, czego potrzebuje FreeCAD, aby znaleźć środowisko pracy podczas uruchamiania i dodać je do swojego interfejsu.
</p><p>Katalog Mod użytkownika jest podkatalogiem katalogu danych aplikacji użytkownika (można go znaleźć wpisując <code>App.getUserAppDataDir()</code> w <a href="../pl\Python_console.html" title="Python console/pl">konsoli Python</a>):
</p>
<ul><li>W systemie Linux jest to zazwyczaj <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/home/&lt;nazwa użytkownika&gt;/.local/share/FreeCAD/Mod/</span> (<span style="font-size:small;color:green;">wersja 0.20 i powyżej</span>) lub <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/home/&lt;username&gt;/.FreeCAD/Mod/</span> (<span style="font-size:small;color:blue;">wersja 0.19 i poniżej</span>).</li>
<li>W systemie Windows jest to <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">%APPDATA%\FreeCAD\Mod\</span>, który zwykle jest <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">C:\Users\&lt;username&gt;\Appdata\Roaming\FreeCAD\Mod\</span>.</li>
<li>Na macOS jest to zazwyczaj <span style="font-weight:bold; font-family:monospace, Consolas, Courier New, Courier;">/Users/&lt;username&gt;/Library/Application Support/FreeCAD/Mod/</span>.</li></ul>
<p>Katalog Mod powinien wyglądać następująco:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">/</span><span class="n">Mod</span><span class="o">/</span>
 <span class="o">+--</span> <span class="n">MyWorkbench</span><span class="o">/</span>
     <span class="o">+--</span> <span class="n">Init</span><span class="o">.</span><span class="n">py</span>
     <span class="o">+--</span> <span class="n">InitGui</span><span class="o">.</span><span class="n">py</span>
</pre></div>
<p>Wewnątrz tych plików można robić, co się chce. Zazwyczaj są one używane w ten sposób:
</p>
<ul><li>W pliku Init.py wystarczy dodać kilka rzeczy używanych nawet wtedy, gdy FreeCAD działa w trybie konsoli, na przykład importerów i eksporterów plików.</li></ul>
<ul><li>W pliku InitGui.py zazwyczaj definiuje się środowisko pracy, które zawiera nazwę, ikonę i serię poleceń FreeCAD <i>(patrz poniżej)</i>. Ten plik Pythona definiuje również funkcje, które są wykonywane podczas ładowania FreeCAD <i>(starasz się robić tam jak najmniej, aby nie spowalniać uruchamiania)</i>, kolejną, która jest wykonywana, gdy środowisko pracy jest aktywowane <i>(to tam będziesz wykonywał większość pracy)</i>, a trzecią, gdy środowisko pracy jest dezaktywowane <i>(dzięki czemu możesz usuwać rzeczy w razie potrzeby)</i>.</li></ul>
<p>Opisana tutaj struktura i zawartość plików środowiska pracy jest klasycznym sposobem tworzenia nowego środowiska pracy. Można użyć niewielkiej odmiany w strukturze plików podczas tworzenia nowego środowiska pracy w Pythonie, ten alternatywny sposób najlepiej opisać jako "środowisko pracy z przestrzenią nazw", otwierając możliwość użycia narzędzia pip do zainstalowania środowiska pracy. Obie struktury działają, więc jest to bardziej kwestia preferencji podczas tworzenia nowego środowiska roboczego. Przedstawiony tutaj styl i struktura środowiska roboczego są dostępne w globalnej przestrzeni nazw FreeCAD, podczas gdy w przypadku alternatywnego stylu i struktury środowisko robocze znajduje się w dedykowanej przestrzeni nazw. Więcej informacji na ten temat można znaleźć w sekcji <a href="#Powiązane">Powiązane</a>.
</p><p><span id="C++_workbench_structure"></span>
</p>
<h2><span id="C.2B.2B_struktura_.C5.9Brodowiska_pracy"></span><span class="mw-headline" id="C++_struktura_środowiska_pracy">C++ struktura środowiska pracy</span></h2>
<p>Jeśli zamierzasz zakodować swoje środowisko pracy w Pythonie, nie musisz zachować szczególnej ostrożności i możesz po prostu umieścić inne pliki Python razem z plikami Init.py i InitGui.py. Podczas pracy z C++ należy jednak zachować większą ostrożność i zacząć od przestrzegania jednej podstawowej zasady FreeCAD: Rozdzielenie środowiska pracy na część aplikacji <i>(która może działać w trybie konsoli, bez żadnego elementu GUI)</i> i część Gui, która zostanie załadowana tylko wtedy, gdy FreeCAD działa z pełnym środowiskiem GUI. Tak więc podczas tworzenia środowiska pracy C++, najprawdopodobniej utworzysz dwa moduły, App i Gui. Te dwa moduły muszą być oczywiście wywoływalne z Pythona. Każdy moduł FreeCAD (App lub Gui) składa się co najmniej z pliku inicjującego moduł. Jest to typowy plik AppMyModuleGui.cpp:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">extern</span> <span class="s2">"C"</span> <span class="p">{</span>
    <span class="n">void</span> <span class="n">MyModuleGuiExport</span> <span class="n">initMyModuleGui</span><span class="p">()</span>  
    <span class="p">{</span>
         <span class="k">if</span> <span class="p">(</span><span class="err">!</span><span class="n">Gui</span><span class="p">::</span><span class="n">Application</span><span class="p">::</span><span class="n">Instance</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">PyErr_SetString</span><span class="p">(</span><span class="n">PyExc_ImportError</span><span class="p">,</span> <span class="s2">"Cannot load Gui module in console application."</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="o">//</span> <span class="kn">import</span> <span class="nn">other</span> <span class="n">modules</span> <span class="n">this</span> <span class="n">one</span> <span class="n">depends</span> <span class="n">on</span>
            <span class="n">Base</span><span class="p">::</span><span class="n">Interpreter</span><span class="p">()</span><span class="o">.</span><span class="n">runString</span><span class="p">(</span><span class="s2">"import PartGui"</span><span class="p">);</span>
            <span class="o">//</span> <span class="n">run</span> <span class="n">some</span> <span class="n">python</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">console</span>
            <span class="n">Base</span><span class="p">::</span><span class="n">Interpreter</span><span class="p">()</span><span class="o">.</span><span class="n">runString</span><span class="p">(</span><span class="s2">"print('welcome to my module!')"</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">catch</span><span class="p">(</span><span class="n">const</span> <span class="n">Base</span><span class="p">::</span><span class="ne">Exception</span><span class="o">&amp;</span> <span class="n">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">PyErr_SetString</span><span class="p">(</span><span class="n">PyExc_ImportError</span><span class="p">,</span> <span class="n">e</span><span class="o">.</span><span class="n">what</span><span class="p">());</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="p">(</span><span class="n">void</span><span class="p">)</span> <span class="n">Py_InitModule</span><span class="p">(</span><span class="s2">"MyModuleGui"</span><span class="p">,</span> <span class="n">MyModuleGui_Import_methods</span><span class="p">);</span>   <span class="o">/*</span> <span class="n">mod</span> <span class="n">name</span><span class="p">,</span> <span class="n">table</span> <span class="n">ptr</span> <span class="o">*/</span>
        <span class="n">Base</span><span class="p">::</span><span class="n">Console</span><span class="p">()</span><span class="o">.</span><span class="n">Log</span><span class="p">(</span><span class="s2">"Loading GUI of MyModule... done</span><span class="se">\n</span><span class="s2">"</span><span class="p">);</span>
    
        <span class="o">//</span> <span class="n">initializes</span> <span class="n">the</span> <span class="n">FreeCAD</span> <span class="n">commands</span> <span class="p">(</span><span class="ow">in</span> <span class="n">another</span> <span class="n">cpp</span> <span class="n">file</span><span class="p">)</span>
        <span class="n">CreateMyModuleCommands</span><span class="p">();</span>
    
        <span class="o">//</span> <span class="n">initializes</span> <span class="n">workbench</span> <span class="ow">and</span> <span class="nb">object</span> <span class="n">definitions</span>
        <span class="n">MyModuleGui</span><span class="p">::</span><span class="n">Workbench</span><span class="p">::</span><span class="n">init</span><span class="p">();</span>
        <span class="n">MyModuleGui</span><span class="p">::</span><span class="n">ViewProviderSomeCustomObject</span><span class="p">::</span><span class="n">init</span><span class="p">();</span>
    
         <span class="o">//</span> <span class="n">add</span> <span class="n">resources</span> <span class="ow">and</span> <span class="n">reloads</span> <span class="n">the</span> <span class="n">translators</span>
        <span class="n">loadMyModuleResource</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<p><span id="The_Init.py_file"></span>
</p>
<h3><span class="mw-headline" id="Plik_Init.py">Plik Init.py</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="sd">"""FreeCAD init script of XXX module"""</span>

<span class="c1"># ***************************************************************************</span>
<span class="c1"># *   Copyright (c) 2015 John Doe john@doe.com                              *   </span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   This file is part of the FreeCAD CAx development system.              *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   This program is free software; you can redistribute it and/or modify  *</span>
<span class="c1"># *   it under the terms of the GNU Lesser General Public License (LGPL)    *</span>
<span class="c1"># *   as published by the Free Software Foundation; either version 2 of     *</span>
<span class="c1"># *   the License, or (at your option) any later version.                   *</span>
<span class="c1"># *   for detail see the LICENSE text file.                                 *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   FreeCAD is distributed in the hope that it will be useful,            *</span>
<span class="c1"># *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *</span>
<span class="c1"># *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *</span>
<span class="c1"># *   GNU Lesser General Public License for more details.                   *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># *   You should have received a copy of the GNU Library General Public     *</span>
<span class="c1"># *   License along with FreeCAD; if not, write to the Free Software        *</span>
<span class="c1"># *   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  *</span>
<span class="c1"># *   USA                                                                   *</span>
<span class="c1"># *                                                                         *</span>
<span class="c1"># ***************************************************************************/</span>

<span class="n">FreeCAD</span><span class="o">.</span><span class="n">addImportType</span><span class="p">(</span><span class="s2">"My own format (*.own)"</span><span class="p">,</span> <span class="s2">"importOwn"</span><span class="p">)</span>
<span class="n">FreeCAD</span><span class="o">.</span><span class="n">addExportType</span><span class="p">(</span><span class="s2">"My own format (*.own)"</span><span class="p">,</span> <span class="s2">"exportOwn"</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"I am executing some stuff here when FreeCAD starts!"</span><span class="p">)</span>
</pre></div>
<p>Możesz wybrać dowolną licencję dla swojego środowiska pracy, ale pamiętaj, że jeśli chcesz, aby Twoje środowisko pracy było w pewnym momencie zintegrowane z kodem źródłowym FreeCAD i rozpowszechniane z nim, musi to być LGPL2+, jak w powyższym przykładzie. Zobacz stronę wyjaśniającą zagadnienia <a href="../pl\License.html" title="License/pl">Licencji</a>.
</p><p>Funkcje <code>FreeCAD.addImportType()</code> i <code>addEXportType()</code> pozwalają na podanie nazwy i rozszerzenia typu pliku oraz modułu Python odpowiedzialnego za jego import. W powyższym przykładzie moduł <code>importOwn.py</code> będzie obsługiwał pliki <code>.own</code>. Więcej przykładów można znaleźć na stronie <a href="../pl\Code_snippets.html" title="Code snippets/pl">Wycinki kodów</a>.
</p><p><span id="Python_workbenches"></span>
</p>
<h3><span id=".C5.9Arodowiska_pracy_w_Python"></span><span class="mw-headline" id="Środowiska_pracy_w_Python">Środowiska pracy w Python</span></h3>
<p>To jest plik InitGui.py:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">MyWorkbench</span> <span class="p">(</span><span class="n">Workbench</span><span class="p">):</span>

    <span class="n">MenuText</span> <span class="o">=</span> <span class="s2">"My Workbench"</span>
    <span class="n">ToolTip</span> <span class="o">=</span> <span class="s2">"A description of my workbench"</span>
    <span class="n">Icon</span> <span class="o">=</span> <span class="s2">"""paste here the contents of a 16x16 xpm icon"""</span>

    <span class="k">def</span> <span class="nf">Initialize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""This function is executed when the workbench is first activated.</span>
<span class="sd">        It is executed once in a FreeCAD session followed by the Activated function.</span>
<span class="sd">        """</span>
        <span class="kn">import</span> <span class="nn">MyModuleA</span><span class="o">,</span> <span class="nn">MyModuleB</span> <span class="c1"># import here all the needed files that create your FreeCAD commands</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">"MyCommand1"</span><span class="p">,</span> <span class="s2">"MyCommand2"</span><span class="p">]</span> <span class="c1"># a list of command names created in the line above</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendToolbar</span><span class="p">(</span><span class="s2">"My Commands"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># creates a new toolbar with your commands</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendMenu</span><span class="p">(</span><span class="s2">"My New Menu"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># creates a new menu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendMenu</span><span class="p">([</span><span class="s2">"An existing Menu"</span><span class="p">,</span> <span class="s2">"My submenu"</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># appends a submenu to an existing menu</span>

    <span class="k">def</span> <span class="nf">Activated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""This function is executed whenever the workbench is activated"""</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">Deactivated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""This function is executed whenever the workbench is deactivated"""</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">ContextMenu</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">recipient</span><span class="p">):</span>
        <span class="sd">"""This function is executed whenever the user right-clicks on screen"""</span>
        <span class="c1"># "recipient" will be either "view" or "tree"</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">appendContextMenu</span><span class="p">(</span><span class="s2">"My commands"</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">list</span><span class="p">)</span> <span class="c1"># add commands to the context menu</span>

    <span class="k">def</span> <span class="nf">GetClassName</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> 
        <span class="c1"># This function is mandatory if this is a full Python workbench</span>
        <span class="c1"># This is not a template, the returned string should be exactly "Gui::PythonWorkbench"</span>
        <span class="k">return</span> <span class="s2">"Gui::PythonWorkbench"</span>
       
<span class="n">Gui</span><span class="o">.</span><span class="n">addWorkbench</span><span class="p">(</span><span class="n">MyWorkbench</span><span class="p">())</span>
</pre></div>
<p>Poza tym możesz zrobić co chcesz: możesz umieścić cały kod workbencha w InitGui.py, jeśli chcesz, ale zwykle wygodniej jest umieścić różne funkcje workbencha w osobnych plikach. Dzięki temu pliki te są mniejsze i łatwiejsze do przeglądania. Następnie importujesz te pliki do pliku InitGui.py. Możesz zorganizować te pliki w dowolny sposób, dobrym przykładem jest jeden dla każdego dodawanego polecenia FreeCAD.
</p><p><span id="Preferences"></span>
</p>
<h4><span class="mw-headline" id="Ustawienia">Ustawienia</span></h4>
<p>Można dodać stronę preferencji dla środowiska pracy Python. Strony preferencji szukają ikony preferencji o określonej nazwie w systemie zasobów Qt. Jeśli ikony nie ma w systemie zasobów lub nie ma poprawnej nazwy, ikona nie pojawi się na stronie preferencji.
</p><p>Dodawanie ikony środowiska pracy:
</p>
<ul><li>ikona preferencji musi mieć nazwę "preferences-" + "modulename" + ".svg" <i>(wszystkie małe litery)</i>,</li>
<li>utwórz plik qrc zawierający wszystkie nazwy ikon,</li>
<li>w głównym katalogu *.py, uruchom pyside-rcc -o myResources.py myqrc.qrc</li>
<li>w InitGui.py, dodaj import myResource(.py)</li>
<li>zaktualizuj swoje repozytorium <i>(git)</i> za pomocą myResources.py i myqrc.qrc</li></ul>
<p>Będziesz musiał powtórzyć te kroki, jeśli dodasz / zmienisz ikony. 
</p><p>@kbwbe stworzył fajny skrypt do kompilacji zasobów dla środowiska A2Plus. Zobacz poniżej. 
</p><p>Dodawanie stron preferencji:
</p>
<ul><li>Musisz skompilować wtyczkę Qt Designer, która umożliwia dodawanie ustawień preferencji za pomocą <a href="../pl\Compile_on_Linux.html#Qt_designer_plugin" title="Compile on Linux/pl">Qt Designer</a></li>
<li>Utwórz pusty widżet w Qt Designer <i>(bez przycisków ani niczego)</i></li>
<li>Zaprojektuj swoją stronę preferencji, każde ustawienie, które musi zostać zapisane <i>(preferencje)</i> musi być jednym z widżetów Gui::Pref*, które zostały dodane przez wtyczkę.</li>
<li>W każdym z nich upewnij się, że wypełniłeś PrefName <i>(nazwa wartości preferencji)</i> i PrefPath <i>(np. Mod/MyWorkbenchName)</i>, co spowoduje zapisanie wartości w BaseApp/Preferences/Mod/MyWorkbenchName.</li>
<li>Zapisz plik UI w swoim środowisku pracy, upewnij się, że jest on obsługiwany przez cmake.</li>
<li>W swoim środowisku pracy, np. wewnątrz pliku InitGui, wewnątrz metody Initialize <i>(ale każde inne miejsce też działa)</i>, dodaj: FreeCADGui.addPreferencePage("/path/to/myUiFile.ui", "MyGroup"), przy czym "MyGroup" jest jedną z grup preferencji po lewej stronie. FreeCAD automatycznie wyszuka plik "preferences-mygroup.svg" w swoich znanych lokalizacjach <i>(które można rozszerzyć za pomocą FreeCADGui.addIconPath())</i>.</li>
<li>Upewnij się, że metoda addPreferencePage() jest wywoływana tylko raz, w przeciwnym razie strona preferencji zostanie dodana kilka razy.</li></ul>
<p><span id="Distribution"></span>
</p>
<h4><span class="mw-headline" id="Dystrybucja">Dystrybucja</span></h4>
<p>Aby rozpowszechniać swoje środowisko pracy Python, możesz po prostu hostować pliki w jakiejś lokalizacji i poinstruować użytkowników, aby pobrali je i umieścili w swoim katalogu Mod samodzielnie, lub możesz hostować je w internetowym repozytorium git <i>(GitHub, GitLab, Framagit i Debian Salsa są obecnie obsługiwanymi lokalizacjami)</i> i skonfigurować je do zainstalowania przez <a href="../pl\Std_AddonMgr.html" title="Std AddonMgr/pl">Menedżer dodatków</a>. Instrukcje dotyczące włączenia do oficjalnej listy dodatków FreeCAD można znaleźć na stronie <a class="external text" href="https://github.com/FreeCAD/FreeCAD-addons/blob/master/README.md" rel="nofollow">FreeCAD Addons GitHub repozytorium</a>. Aby korzystać z Menedżera dodatków, należy dołączyć plik metadanych <a href="../pl\Package_Metadata.html" title="Package Metadata/pl">package.xml</a>, który instruuje Menedżera dodatków, jak znaleźć ikonę środowiska pracy i umożliwia wyświetlanie opisu, numeru wersji itp. Może on być również użyty do określenia innych środowisk pracy lub pakietów Python, od których zależy, przez które jest blokowany lub które ma zastąpić.
</p><p>Aby uzyskać krótki przewodnik na temat tworzenia podstawowego pliku package.xml i dodawania środowiska roboczego do <a href="../pl\Std_AddonMgr.html" title="Std AddonMgr/pl">Menedżera dodatków</a>, zobacz stronę <a href="../pl\Add_Workbench_to_Addon_Manager.html" title="Add Workbench to Addon Manager/pl">Dodaj środowisko pracy do Menadżera dodatków</a>.
</p><p>Opcjonalnie można dołączyć oddzielny plik metadanych opisujący zależności środowiska Python. Może to być albo plik o nazwie metadata.txt opisujący zewnętrzne zależności środowiska roboczego <i>(od innych dodatków, środowisk roboczych lub modułów Pythona)</i>, albo plik <a class="external text" href="https://pip.pypa.io/en/latest/reference/requirements-file-format/" rel="nofollow">requirements.txt</a> opisujący zależności Python. Należy pamiętać, że w przypadku korzystania z pliku requirements.txt tylko nazwy określonych pakietów są używane do rozwiązywania zależności: opcje polecenia programu, opcje dołączania i informacje o wersji nie są obsługiwane przez Menedżera dodatków. Użytkownicy mogą ręcznie uruchomić plik wymagań za pomocą programu, jeśli te funkcje są wymagane.
</p><p>Format pliku metadata.txt to zwykły tekst z trzema opcjonalnymi wierszami:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">workbenches</span><span class="o">=</span>
<span class="n">pylibs</span><span class="o">=</span>
<span class="n">optionalpylibs</span><span class="o">=</span>
</pre></div>
<p>Każdy wiersz powinien składać się z oddzielonej przecinkami listy elementów, od których zależy środowisko pracy. Środowiska te mogą być albo wewnętrznym środowiskiem pracy FreeCAD, np. "MES", albo zewnętrznym dodatkiem, na przykład "Krzywe". Wymagane i opcjonalne biblioteki Python powinny być określone za pomocą ich kanonicznych nazw Python, takich jak <code>pip install</code>. Na przykład:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">workbenches</span><span class="o">=</span><span class="n">FEM</span><span class="p">,</span><span class="n">Curves</span>
<span class="n">pylibs</span><span class="o">=</span><span class="n">ezdxf</span>
<span class="n">optionalpylibs</span><span class="o">=</span><span class="n">metadata</span><span class="p">,</span><span class="n">git</span>
</pre></div>
<p>Możesz również dołączyć skrypt, który jest uruchamiany po odinstalowaniu pakietu. Jest to plik o nazwie "uninstall.py" znajdujący się na najwyższym poziomie dodatku. Jest on wykonywany, gdy użytkownik odinstalowuje dodatek za pomocą Menedżera dodatków. Użyj go, aby wyczyścić wszystko, co dodatek mógł zrobić w systemie użytkownika, a co nie powinno przetrwać po usunięciu dodatku <i>(np. usunięcie plików pamięci podręcznej itp.)</i>.
</p><p>Aby upewnić się, że dodatek jest poprawnie odczytywany przez Menedżera dodatków, można włączyć "tryb deweloperski", w którym Menedżer dodatków sprawdza wszystkie dostępne dodatki i upewnia się, że ich metadane zawierają wymagane elementy. Aby włączyć ten tryb, wybierz: <b>Edycja → Preferencje ... → Menadżer dodatków → Opcje Menedżera dodatków → Tryb dewelopera dodatków</b>, zobacz stronę <a href="../pl\Preferences_Editor.html#Opcje_Menadżera_dodatków" title="Preferences Editor/pl">Edytor ustawień</a> aby uzyskać szczegółowe informacje.
</p><p><span id="C++_workbenches"></span>
</p>
<h3><span id=".C5.9Arodowiska_pracy_w_C.2B.2B"></span><span class="mw-headline" id="Środowiska_pracy_w_C++">Środowiska pracy w C++</span></h3>
<p>Jeśli zamierzasz zakodować swoje środowisko pracy w C++, prawdopodobnie będziesz chciał również zakodować samą definicję środowiska pracy w C++ <i>(choć nie jest to konieczne: możesz również zakodować tylko narzędzia w C++, a definicję środowiska pracy pozostawić w Pythonie)</i>. W takim przypadku plik InitGui.py staje się bardzo prosty: Może zawierać tylko jedną linię:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">MyModuleGui</span>
</pre></div>
<p>gdzie MyModule jest kompletnym środowiskiem pracy C++, w tym poleceniami i definicją środowiska pracy.
</p><p>Kodowanie środowisk pracy C++ działa w dość podobny sposób. Jest to typowy plik Workbench.cpp, który należy dołączyć do części Gui modułu:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">namespace</span> <span class="n">MyModuleGui</span> <span class="p">{</span>
    <span class="k">class</span> <span class="nc">MyModuleGuiExport</span> <span class="n">Workbench</span> <span class="p">:</span> <span class="n">public</span> <span class="n">Gui</span><span class="p">::</span><span class="n">StdWorkbench</span>
    <span class="p">{</span>
        <span class="n">TYPESYSTEM_HEADER</span><span class="p">();</span>

    <span class="n">public</span><span class="p">:</span>
        <span class="n">Workbench</span><span class="p">();</span>
        <span class="n">virtual</span> <span class="o">~</span><span class="n">Workbench</span><span class="p">();</span>

        <span class="n">virtual</span> <span class="n">void</span> <span class="n">activated</span><span class="p">();</span>
        <span class="n">virtual</span> <span class="n">void</span> <span class="n">deactivated</span><span class="p">();</span>

    <span class="n">protected</span><span class="p">:</span>
        <span class="n">Gui</span><span class="p">::</span><span class="n">ToolBarItem</span><span class="o">*</span> <span class="n">setupToolBars</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
        <span class="n">Gui</span><span class="p">::</span><span class="n">MenuItem</span><span class="o">*</span>    <span class="n">setupMenuBar</span><span class="p">()</span> <span class="n">const</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></div>
<p><span id="Preferences"></span>
</p>
<h4><span class="mw-headline" id="Ustawienia_2">Ustawienia</span></h4>
<p>Można również dodać stronę preferencji dla środowiska pracy języka C++. Kroki są podobne do tych w Pythonie.
</p><p><span id="Distribution"></span>
</p>
<h4><span class="mw-headline" id="Dystrybucja_2">Dystrybucja</span></h4>
<p>Istnieją dwie opcje dystrybucji środowiska pracy C++, można albo samodzielnie hostować wstępnie skompilowane wersje dla różnych systemów operacyjnych, albo poprosić o scalenie kodu z kodem źródłowym FreeCAD. Jak wspomniano powyżej, wymaga to licencji LGPL2+ i należy najpierw przedstawić swoje środowisko pracy społeczności do przeglądu na <a class="external text" href="https://forum.freecad.org" rel="nofollow">forum FreeCAD</a>.
</p><p><span id="FreeCAD_commands"></span>
</p>
<h2><span class="mw-headline" id="Polecenia_FreeCAD">Polecenia FreeCAD</span></h2>
<p>Polecenia FreeCAD są podstawowym elementem składowym interfejsu FreeCAD. Mogą pojawiać się jako przycisk na paskach narzędzi i jako pozycja w menu. Ale to jest to samo polecenie. Polecenie jest prostą klasą Python, która musi zawierać kilka predefiniowanych atrybutów i funkcji, które definiują nazwę polecenia, jego ikonę i co należy zrobić, gdy polecenie jest aktywowane.
</p><p><span id="Python_command_definition"></span>
</p>
<h3><span class="mw-headline" id="Definicja_polecenia_w_Python">Definicja polecenia w Python</span></h3>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">My_Command_Class</span><span class="p">():</span>
    <span class="sd">"""My new command"""</span>

    <span class="k">def</span> <span class="nf">GetResources</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">{</span><span class="s2">"Pixmap"</span>  <span class="p">:</span> <span class="s2">"My_Command_Icon"</span><span class="p">,</span> <span class="c1"># the name of a svg file available in the resources</span>
                <span class="s2">"Accel"</span>   <span class="p">:</span> <span class="s2">"Shift+S"</span><span class="p">,</span> <span class="c1"># a default shortcut (optional)</span>
                <span class="s2">"MenuText"</span><span class="p">:</span> <span class="s2">"My New Command"</span><span class="p">,</span>
                <span class="s2">"ToolTip"</span> <span class="p">:</span> <span class="s2">"What my new command does"</span><span class="p">}</span>

    <span class="k">def</span> <span class="nf">Activated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Do something here"""</span>
        <span class="k">return</span>

    <span class="k">def</span> <span class="nf">IsActive</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">"""Here you can define if the command must be active or not (greyed) if certain conditions</span>
<span class="sd">        are met or not. This function is optional."""</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="n">FreeCADGui</span><span class="o">.</span><span class="n">addCommand</span><span class="p">(</span><span class="s2">"My_Command"</span><span class="p">,</span> <span class="n">My_Command_Class</span><span class="p">())</span>
</pre></div>
<p><span id="C++_command_definition"></span>
</p>
<h3><span id="Definicja_polecenia_w_C.2B.2B"></span><span class="mw-headline" id="Definicja_polecenia_w_C++">Definicja polecenia w C++</span></h3>
<p>Podobnie, można kodować polecenia w C++, zazwyczaj w pliku Commands.cpp w module Gui. To jest typowy plik Commands.cpp:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">DEF_STD_CMD_A</span><span class="p">(</span><span class="n">CmdMyCommand</span><span class="p">);</span>

<span class="n">CmdMyCommand</span><span class="p">::</span><span class="n">CmdMyCommand</span><span class="p">()</span>
  <span class="p">:</span><span class="n">Command</span><span class="p">(</span><span class="s2">"My_Command"</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">sAppModule</span>    <span class="o">=</span> <span class="s2">"MyModule"</span><span class="p">;</span>
  <span class="n">sGroup</span>        <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"MyModule"</span><span class="p">);</span>
  <span class="n">sMenuText</span>     <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Runs my command..."</span><span class="p">);</span>
  <span class="n">sToolTipText</span>  <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Describes what my command does"</span><span class="p">);</span>
  <span class="n">sWhatsThis</span>    <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Describes what my command does"</span><span class="p">);</span>
  <span class="n">sStatusTip</span>    <span class="o">=</span> <span class="n">QT_TR_NOOP</span><span class="p">(</span><span class="s2">"Describes what my command does"</span><span class="p">);</span>
  <span class="n">sPixmap</span>       <span class="o">=</span> <span class="s2">"some_svg_icon_from_my_resource"</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">CmdMyCommand</span><span class="p">::</span><span class="n">activated</span><span class="p">(</span><span class="nb">int</span> <span class="n">iMsg</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">openCommand</span><span class="p">(</span><span class="s2">"My Command"</span><span class="p">);</span>
    <span class="n">doCommand</span><span class="p">(</span><span class="n">Doc</span><span class="p">,</span><span class="s2">"print('Hello, world!')"</span><span class="p">);</span>
    <span class="n">commitCommand</span><span class="p">();</span>
    <span class="n">updateActive</span><span class="p">();</span>
<span class="p">}</span>

<span class="nb">bool</span> <span class="n">CmdMyCommand</span><span class="p">::</span><span class="n">isActive</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span> <span class="n">getActiveGuiDocument</span><span class="p">()</span> <span class="p">)</span>
    <span class="k">return</span> <span class="n">true</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="n">false</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">void</span> <span class="n">CreateMyModuleCommands</span><span class="p">(</span><span class="n">void</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Gui</span><span class="p">::</span><span class="n">CommandManager</span> <span class="o">&amp;</span><span class="n">rcCmdMgr</span> <span class="o">=</span> <span class="n">Gui</span><span class="p">::</span><span class="n">Application</span><span class="p">::</span><span class="n">Instance</span><span class="o">-&gt;</span><span class="n">commandManager</span><span class="p">();</span>
    <span class="n">rcCmdMgr</span><span class="o">.</span><span class="n">addCommand</span><span class="p">(</span><span class="n">new</span> <span class="n">CmdMyCommand</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
<p><span id='"Compiling"_your_resource_file'></span>
</p>
<h2><span id=".22Kompilacja.22_pliku_zasob.C3.B3w"></span><span class="mw-headline" id='"Kompilacja"_pliku_zasobów'>"Kompilacja" pliku zasobów</span></h2>
<p>compileA2pResources.py ze środowiska roboczego A2Plus:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">#***************************************************************************</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   Copyright (c) 2019 kbwbe                                              *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   Portions of code based on hamish's assembly 2                         *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   This program is free software; you can redistribute it and/or modify  *</span>
<span class="c1">#*   it under the terms of the GNU Lesser General Public License (LGPL)    *</span>
<span class="c1">#*   as published by the Free Software Foundation; either version 2 of     *</span>
<span class="c1">#*   the License, or (at your option) any later version.                   *</span>
<span class="c1">#*   for detail see the LICENSE text file.                                 *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   This program is distributed in the hope that it will be useful,       *</span>
<span class="c1">#*   but WITHOUT ANY WARRANTY; without even the implied warranty of        *</span>
<span class="c1">#*   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *</span>
<span class="c1">#*   GNU Library General Public License for more details.                  *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#*   You should have received a copy of the GNU Library General Public     *</span>
<span class="c1">#*   License along with this program; if not, write to the Free Software   *</span>
<span class="c1">#*   Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  *</span>
<span class="c1">#*   USA                                                                   *</span>
<span class="c1">#*                                                                         *</span>
<span class="c1">#***************************************************************************</span>

<span class="c1"># This script compiles the A2plus icons for py2 and py3</span>
<span class="c1"># For Linux only</span>
<span class="c1"># Start this file in A2plus main directory</span>
<span class="c1"># Make sure pyside-rcc is installed</span>

<span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">glob</span>

<span class="n">qrc_filename</span> <span class="o">=</span> <span class="s1">'temp.qrc'</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">)</span>

<span class="n">qrc</span> <span class="o">=</span> <span class="s1">'''&lt;RCC&gt;</span>
<span class="se">\t</span><span class="s1">&lt;qresource prefix="/"&gt;'''</span>
<span class="k">for</span> <span class="n">fn</span> <span class="ow">in</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">'./icons/*.svg'</span><span class="p">):</span>
    <span class="n">qrc</span> <span class="o">=</span> <span class="n">qrc</span> <span class="o">+</span> <span class="s1">'</span><span class="se">\n\t\t</span><span class="s1">&lt;file&gt;</span><span class="si">%s</span><span class="s1">&lt;/file&gt;'</span> <span class="o">%</span> <span class="n">fn</span>
<span class="n">qrc</span> <span class="o">=</span> <span class="n">qrc</span> <span class="o">+</span> <span class="s1">'''</span><span class="se">\n\t</span><span class="s1">&lt;/qresource&gt;</span>
<span class="s1">&lt;/RCC&gt;'''</span>

<span class="nb">print</span><span class="p">(</span><span class="n">qrc</span><span class="p">)</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">,</span><span class="s1">'w'</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">qrc</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span>
    <span class="s1">'pyside-rcc -o a2p_Resources2.py </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">))</span>
<span class="n">os</span><span class="o">.</span><span class="n">system</span><span class="p">(</span>
    <span class="s1">'pyside-rcc -py3 -o a2p_Resources3.py </span><span class="si">{}</span><span class="s1">'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">))</span>

<span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">qrc_filename</span><span class="p">)</span>
</pre></div>
<p><span id="Related"></span>
</p>
<h2><span id="Powi.C4.85zane"></span><span class="mw-headline" id="Powiązane">Powiązane</span></h2>
<ul><li><a href="../pl\Translating_an_external_workbench.html" title="Translating an external workbench/pl">Tłumaczenie interfejsu zewnętrznych środowisk pracyh</a></li>
<li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?t=47460" rel="nofollow">Dyskusja na forum: Namespaced Workbenches</a></li>
<li><a class="external text" href="https://github.com/FreeCAD/freecad.workbench_starterkit" rel="nofollow">freecad.workbench_starterkit</a></li></ul>
<p><br/>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../pl\Localisation.html" title="Localisation/pl">Lokalizacja</a></div>
<div style="margin: 4px 0; float: right;"><a href="../pl\Extra_python_modules.html" title="Extra python modules/pl">Dodatkowe moduły Python</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../pl\Online_Help_Toc.html" title="Online Help Toc/pl">Spis treści</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><a href="../pl\Power_users_hub.html" title="Power users hub/pl">Centrum Power użytkowników</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" width="24"/></a></span>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Tworzenie skryptów FreeCAD:</b> <a href="../pl\Python.html" title="Python/pl">Python</a>, <a href="../pl\Introduction_to_Python.html" title="Introduction to Python/pl">Wprowadzenie do środowiska Python</a>, <a href="../pl\Python_scripting_tutorial.html" title="Python scripting tutorial/pl">Poradnik: Tworzenie skryptów Python</a>, <a href="../pl\FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/pl">Podstawy tworzenia skryptów FreeCAD</a></li></ul>
<hr/>
<ul><li><b>Moduły:</b> <a href="../pl\Builtin_modules.html" title="Builtin modules/pl">Moduły wbudowane</a>, <a href="../pl\Units.html" title="Units/pl">Jednostki miar</a>, <a href="../Quantity.html" title="Quantity">Ilość</a></li>
<li><b>Środowiska pracy:</b> <a class="mw-selflink selflink">Tworzenie Środowiska pracy</a>, <a href="../pl\Gui_Command.html" title="Gui Command/pl">Polecenia Gui</a>, <a href="../Command.html" title="Command">Polecenia</a>, <a href="../pl\Installing_more_workbenches.html" title="Installing more workbenches/pl">Instalacja większej liczby Środowisk pracy</a></li>
<li><b>Siatki i elementy:</b> <a href="../pl\Mesh_Scripting.html" title="Mesh Scripting/pl">Skrytpy w Środowisku Siatek</a>, <a href="../pl\Topological_data_scripting.html" title="Topological data scripting/pl">v</a>, <a href="../pl\Mesh_to_Part.html" title="Mesh to Part/pl">Konwerska Mesh na Part</a>, <a href="../pl\PythonOCC.html" title="PythonOCC/pl">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Obiekty parametryczne:</b> <a href="../pl\Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a>, <a href="../Viewprovider.html" title="Viewprovider">Obsługa obrazu</a> <small>(<a href="../Custom_icon_in_tree_view.html" title="Custom icon in tree view">Ikonka niestandardowa w widoku drzewa</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../pl\Scenegraph.html" title="Scenegraph/pl">Coin (Inventor) scenegraph</a>, <a href="../pl\Pivy.html" title="Pivy/pl">Pivy</a></li>
<li><b>Interfejs graficzny:</b> <a href="../Interface_creation.html" title="Interface creation">Stworzenie interfejsu</a>, <a href="../pl\Dialog_creation.html" title="Dialog creation/pl">Kompletne stworzenie interfejsu w środowisku Python</a> <small>(<a href="../Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets">1</a>, <a href="../Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files">2</a>, <a href="../Dialog_creation_setting_colors.html" title="Dialog creation setting colors">3</a>, <a href="../Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF">4</a>, <a href="../PySide_usage_snippets.html" title="PySide usage snippets">5</a>)</small>, <a href="../pl\PySide.html" title="PySide/pl">PySide</a>, PySide examples <a href="../PySide_Beginner_Examples.html" title="PySide Beginner Examples">początkujący</a>, <a href="../PySide_Intermediate_Examples.html" title="PySide Intermediate Examples">średniozaawansowany</a>, <a href="../PySide_Advanced_Examples.html" title="PySide Advanced Examples">zaawansowany</a></li>
<li><b>Makrodefinicje:</b> <a href="../pl\Macros.html" title="Macros/pl">Makrodefinicje</a>, <a href="../pl\How_to_install_macros.html" title="How to install macros/pl">Instalacja makrodefinicji</a></li>
<li><b>Osadzanie programu:</b> <a href="../pl\Embedding_FreeCAD.html" title="Embedding FreeCAD/pl">Osadzanie programu FreeCAD</a>, <a href="../pl\Embedding_FreeCADGui.html" title="Embedding FreeCADGui/pl">Osadzanie GUI FreeCAD</a></li></ul>
<hr/>
<ul><li><b>Pozostałe:</b> <a href="../pl\Expressions.html" title="Expressions/pl">Wyrażenia</a>, <a href="../pl\Code_snippets.html" title="Code snippets/pl">Wycinki kodu</a>, <a href="../pl\Line_drawing_function.html" title="Line drawing function/pl">Funkcja kreślenia linii</a>, <a href="../pl\FreeCAD_vector_math_library.html" title="FreeCAD vector math library/pl">Biblioteka matematyczna FreeCAD dla wektorów</a> <small>(deprecated)</small></li></ul>
<hr/>
<ul><li><b>Węzły użytkowników:</b> <a href="../pl\User_hub.html" title="User hub/pl">Centrum użytkownika</a>, <a href="../pl\Power_users_hub.html" title="Power users hub/pl">Centrum Power użytkowników</a>, <a href="../pl\Developer_hub.html" title="Developer hub/pl">Centrum programisty</a></li></ul></div>
</div></div>
<!-- 
NewPP limit report
Cached time: 20241214203914
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.125 seconds
Real time usage: 0.841 seconds
Preprocessor visited node count: 407/1000000
Post‐expand include size: 10393/2097152 bytes
Template argument size: 12529/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 11/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 30890/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  719.836      1 -total
 98.61%  709.854     11 Template:Code
  0.24%    1.722      1 Template:Powerdocnavi/pl
  0.20%    1.417      2 Template:Docnav/pl
  0.13%    0.930     10 Template:Incode
  0.11%    0.765      1 Template:Navigation_menu_2
  0.10%    0.744      1 Template:VersionPlus/pl
  0.10%    0.684      1 Template:MenuCommand
  0.09%    0.660      5 Template:FileName
  0.09%    0.623      1 Template:VersionMinus/pl
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:200239-0!canonical and timestamp 20241214203913 and revision id 1494741. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
