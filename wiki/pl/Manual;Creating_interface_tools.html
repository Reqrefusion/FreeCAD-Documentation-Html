<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Manual:Creating interface tools/pl</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="../de\Manual;Creating_interface_tools.html" lang="de" title="Handbuch:Erstellen von Oberflächenwerkzeugen (66% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Manual;Creating_interface_tools.html" lang="en" title="Manual:Creating interface tools (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="../fr\Manual;Creating_interface_tools.html" lang="fr" title="Manuel : Création d'outils d'interface (66% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="../it\Manual;Creating_interface_tools.html" lang="it" title="Manuale:Creare interfacce di strumenti (66% translated)">italiano</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="pl">polski</span></li>
<li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="../ro\Manual;Creating_interface_tools.html" lang="ro" title="Manual:Crearea de instrumente de interfață (54% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="../ru\Manual;Creating_interface_tools.html" lang="ru" title="Создание инструментов интерфейса (49% translated)">русский</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../pl\Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/pl">Tworzenie obiektów parametrycznych</a></div>
<div style="margin: 4px 0; float: right;"><a href="../pl\Manual;The_Community.html" title="Manual:The Community/pl">Społeczność</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../pl\Manual;Introduction.html" title="Manual:Introduction/pl">Podręcznik:Słowo wstępne</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Crystal_Clear_manual.png" width="24"/></span></span></div>
</div>
<div class="manualtoc" id="toc" style="float:right; margin:10px 0px 10px 10px;">
<ul><li><a href="../pl\Manual;Introduction.html" title="Manual:Introduction/pl">Słowo wstępne</a></li>
<li>Odkrywamy FreeCAD
<ul><li><a href="../pl\Manual;What_is_FreeCAD.html" title="Manual:What is FreeCAD/pl">Czym jest FreeCAD?</a></li>
<li><a href="../pl\Manual;Installing.html" title="Manual:Installing/pl">Instalacja</a>
<ul><li><a href="../pl\Manual;Installing.html#installing_on_Windows" title="Manual:Installing/pl">Instalacja w systemie Windows</a></li>
<li><a href="../pl\Manual;Installing.html#Installing_on_Linux" title="Manual:Installing/pl">Instalacja w systemie Linux</a></li>
<li><a href="../pl\Manual;Installing.html#Installing_on_Mac_OS" title="Manual:Installing/pl">Instalacja w systemie Mac OS</a></li>
<li><a href="../pl\Manual;Installing.html#Uninstalling" title="Manual:Installing/pl">Dezinstalacja</a></li>
<li><a href="../pl\Manual;Installing.html#Setting_basic_preferences" title="Manual:Installing/pl">Ustawienia główne</a></li>
<li><a href="../pl\Manual;Installing.html#Installing_additional_content" title="Manual:Installing/pl">Instalacja dodatkowej zawartości</a></li></ul></li>
<li><a href="../pl\Manual;The_FreeCAD_Interface.html" title="Manual:The FreeCAD Interface/pl">Interfejs programu FreeCAD</a>
<ul><li><a href="../pl\Manual;The_FreeCAD_Interface.html#Workbenches" title="Manual:The FreeCAD Interface/pl">Środowiska pracy</a></li>
<li><a href="../pl\Manual;The_FreeCAD_Interface.html#The_interface" title="Manual:The FreeCAD Interface/pl">Interfejs</a></li>
<li><a href="../pl\Manual;The_FreeCAD_Interface.html#Customizing_the_interface" title="Manual:The FreeCAD Interface/pl">Dostosowywanie interfejsu</a></li></ul></li>
<li><a href="../pl\Manual;Navigating_in_the_3D_view.html" title="Manual:Navigating in the 3D view/pl">Nawigacja myszką w oknie widoku 3D</a>
<ul><li><a href="../pl\Manual;Navigating_in_the_3D_view.html#A_word_about_the_3D_space" title="Manual:Navigating in the 3D view/pl">Kilka słów o przestrzeni 3D</a></li>
<li><a href="../pl\Manual;Navigating_in_the_3D_view.html#The_FreeCAD_3D_view" title="Manual:Navigating in the 3D view/pl">Widok przestrzenny w programie FreeCAD</a></li>
<li><a href="../pl\Manual;Navigating_in_the_3D_view.html#Selecting_objects" title="Manual:Navigating in the 3D view/pl">Wybieranie obiektów</a></li></ul></li>
<li><a href="../pl\Manual;The_FreeCAD_document.html" title="Manual:The FreeCAD document/pl">Struktura dokumentu FreeCAD</a></li>
<li><a href="../pl\Manual;Parametric_objects.html" title="Manual:Parametric objects/pl">Obiekty parametryczne</a></li>
<li><a href="../pl\Manual;Import_and_export_to_other_filetypes.html" title="Manual:Import and export to other filetypes/pl">Import i eksport do plików innych formatów</a></li></ul></li>
<li>Praca z FreeCAD
<ul><li><a href="../pl\Manual;All_workbenches_at_a_glance.html" title="Manual:All workbenches at a glance/pl">Środowiska pracy - przegląd</a></li>
<li><a href="../pl\Manual;Traditional_modeling,_the_CSG_way.html" title="Manual:Traditional modeling, the CSG way/pl">Modelowanie tradycyjne, według CSG</a></li>
<li><a href="../pl\Manual;Traditional_2D_drafting.html" title="Manual:Traditional 2D drafting/pl">Kreślenie tradycyjne - 2D</a></li>
<li><a href="../pl\Manual;Modeling_for_product_design.html" title="Manual:Modeling for product design/pl">Modelowanie dla projektowania produktu</a></li>
<li><a href="../pl\Manual;Preparing_models_for_3D_printing.html" title="Manual:Preparing models for 3D printing/pl">Przygotowywanie modeli na potrzeby druku 3D</a>
<ul><li><a href="../Manual;Preparing_models_for_3D_printing.html#Exporting_to_slicers/pl" title="Manual:Preparing models for 3D printing">Eksportowanie do krajalnic</a></li>
<li><a href="../Manual;Preparing_models_for_3D_printing.html#Converting_objects_to_meshes/pl" title="Manual:Preparing models for 3D printing">Konwersja obiektów na siatki</a></li>
<li><a href="../pl\Manual;Preparing_models_for_3D_printing.html#Using_Slic3r" title="Manual:Preparing models for 3D printing/pl">Używanie programu Slic3r</a></li>
<li><a href="../pl\Manual;Preparing_models_for_3D_printing.html#Using_the_Cura_addon" title="Manual:Preparing models for 3D printing/pl">Używanie dodatku Cura</a></li>
<li><a href="../pl\Manual;Preparing_models_for_3D_printing.html#Generating_G-code" title="Manual:Preparing models for 3D printing/pl">Tworzenie G-code</a></li></ul></li>
<li><a href="../pl\Manual;Generating_2D_drawings.html" title="Manual:Generating 2D drawings/pl">Generowanie rysunków 2D</a></li>
<li><a href="../pl\Manual;BIM_modeling.html" title="Manual:BIM modeling/pl">Modelowanie BIM</a></li>
<li><a href="../pl\Manual;Using_spreadsheets.html" title="Manual:Using spreadsheets/pl">Zastosowanie arkuszy kalkulacyjnych</a>
<ul><li><a href="../pl\Manual;Using_spreadsheets.html#Reading_properties" title="Manual:Using spreadsheets/pl">Odczytywanie właściwości</a></li>
<li><a href="../pl\Manual;Using_spreadsheets.html#Writing_properties" title="Manual:Using spreadsheets/pl">Zapisywanie właściwości</a></li></ul></li>
<li><a href="../pl\Manual;Creating_FEM_analyses.html" title="Manual:Creating FEM analyses/pl">Tworzenie analiz FEM</a></li>
<li><a href="../pl\Manual;Creating_renderings.html" title="Manual:Creating renderings/pl">Tworzenie renderingów</a></li></ul></li>
<li>Skrypty środowiska Python
<ul><li><a href="../pl\Manual;A_gentle_introduction.html" title="Manual:A gentle introduction/pl">Łagodny wstęp</a>
<ul><li><a href="../pl\Manual;A_gentle_introduction.html#Writing_Python_code" title="Manual:A gentle introduction/pl">Tworzenie kodu Python</a></li>
<li><a href="../pl\Manual;A_gentle_introduction.html#Manipulating_FreeCAD_objects" title="Manual:A gentle introduction/pl">Zarządzanie obiektami FreeCAD</a></li>
<li><a href="../pl\Manual;A_gentle_introduction.html#Vectors_and_Placements" title="Manual:A gentle introduction/pl">Wektory i rozmieszczenie</a></li></ul></li>
<li><a href="../pl\Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/pl">Tworzenie i obróbka geometrii</a></li>
<li><a href="../pl\Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/pl">Tworzenie obiektów parametrycznych</a></li>
<li><a class="mw-selflink selflink">Tworzenie narzędzi interfejsu</a></li></ul></li>
<li><a href="../pl\Manual;The_Community.html" title="Manual:The Community/pl">Społeczność</a></li></ul></div>
<p>W ostatnich dwóch rozdziałach zobaczyliśmy, jak <a href="../pl\Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/pl">tworzyć geometrię części</a> i <a href="../pl\Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/pl">tworzyć obiekty parametryczne</a>. Brakuje jeszcze jednego elementu, aby uzyskać pełną kontrolę nad FreeCAD: Tworzenie narzędzi, które będą współdziałać z użytkownikiem.
</p><p>W wielu sytuacjach nie jest bardzo przyjazne dla użytkownika konstruowanie obiektu z zerowymi wartościami, tak jak zrobiliśmy to z prostokątem w poprzednim rozdziale, a następnie prośba o wypełnienie wartości Wysokości i Szerokości w panelu Właściwości. To działa dla bardzo niewielkiej liczby obiektów, ale stanie się bardzo uciążliwe, jeśli trzeba będzie tworzyć wiele prostokątów. Lepszym sposobem byłoby już podanie Wysokości i Szerokości podczas tworzenia prostokąta.
</p><p>Python oferuje podstawowe narzędzie do wprowadzania tekstu:
</p>
<pre>text = raw_input("Height of the rectangle?")
print("The entered height is ",text)
</pre>
<p>Wymaga to jednak aktywnej konsoli Python, a kiedy uruchamiamy nasz kod z makrodefinicji, nie zawsze mamy pewność, że konsola Python będzie aktywna.
</p><p><a class="external text" href="https://pl.wikipedia.org/wiki/Graficzny_interfejs_u%C5%BCytkownika" rel="nofollow">Graficzny interfejs użytkownika</a> (GUI) - zawierający menu, widoku 3D i inne wizualne komponenty programu FreeCAD - jest zaprojektowany tak, aby uczynić program intuicyjnym i dostępnym. Stanowi pomost między użytkownikiem i wewnętrznymi funkcjami środowiska FreeCAD, pozwalając na efektywną interakcję z programem zarówno początkującym użytkownikom, jak i ekspertom.
</p><p>GUI programu FreeCAD jest zbudowane przy pomocy <a class="external text" href="https://pl.wikipedia.org/wiki/Qt" rel="nofollow">Qt</a>, potężnego i otwartego zestawu narzędzi GUI, które zapewnia szeroki zakres funkcji. Qt oferuje podstawowe bloki do projektowania interfejsu, takie jak oknia dialogowe, przyciski, etykiety, pola do wprowadzania tekstu i menu rozwijane, zbiorczo nazywane "widżetami". Te widżety tworzą podstawę doświadczenia użytkownika programu FreeCAD.
</p><p>Jedną z kluczowych zalet Qt jest jego międzyplatformowa kompatybilność, umożliwiając bezproblemowe uruchamianie programu FreeCAD na różnych systemach operacyjnych, takich jak Windows, macOS i Linux. Ponadto, elastyczność Qt ułatwia deweloperom rozszerzanie i dostosowywanie interfejsu programu FreeCAD poprzez tworzenie nowych pasków narzędzi i menu lub budowanie całkowicie nowych modułów, które integrują się z programem. Ta adaptacyjność sprawia, że FreeCAD pozostaje przyjazny użytkownikom i znacząco rozszerzalny.
</p><p>Dla użytkowników zainteresowanych tworzeniem skryptów lub opracowywaniem nowych narzędzi, API Pythona programu FreeCAD również daje dostęp do wielu funkcji Qt. Oznacza to, że możesz nie tylko automatyzować zadania, ale również tworzyć własne widżety lub okna dialogowe, które są integrowane bezpośrednio ze środowiskiem FreeCAD.
</p><p>Narzędzia Qt są bardzo łatwe do użycia z poziomu Pythona dzięki modułowi Pythona o nazwie <a class="external text" href="https://en.wikipedia.org/wiki/PySide" rel="nofollow">PySide</a>. PySide to oficjalny moduł Pythona do biblioteki Qt, zapewniający bezpośredni sposób tworzenia i interakcji z widżetami poprzez programowanie. Pozwala deweloperom projektować interfejsy, zarządzać wprowadzaniem danych przez użytkowników (np. odczytywanie tekstu z pól wejściowych) i definiować akcje w oparciu o interakcje użytkowników, takie jak odpowiadanie na wciśnięcie przycisku. Używając PySide, możesz budować własne okna dialogowe, menu i paski narzędzi bezpośrednio z poziomu programu FreeCAD, rozszerzając jego funkcjonalność w sposób, który integruje się bezpośrednio z jego istniejącym interfejsem.
</p><p>PySide ułatwia połączenie akcji użytkownika z określonymi funkcjami w kodzie. Przykładowo, możesz ustawić przycisk tak, że gdy jest on wciśnięty, uruchamia skrypt wykonujący polecenie lub modyfikujący obiekt w widoku 3D. Ta interaktywna funkcjonalność otwiera nieograniczone możliwości dostosowywania przepływów pracy i automatyzowania powtarzalnych czynności.
</p><p>Qt udostępnia również inne interesujące narzędzie o nazwie <a class="external text" href="http://doc.qt.io/qt-4.8/designer-manual.html" rel="nofollow">Qt Designer</a>, które jest obecnie wbudowane w większą aplikację o nazwie <a class="external text" href="https://en.wikipedia.org/wiki/Qt_Creator" rel="nofollow">Qt Creator</a>. Pozwala ono na graficzne projektowanie okien dialogowych i paneli interfejsu, zamiast konieczności ich ręcznego kodowania. W tym rozdziale użyjemy Qt Creator do zaprojektowania widżetu panelu, którego użyjemy w panelu <b>Zadanie</b> programu FreeCAD. Będziesz więc musiał pobrać i zainstalować Qt Creator z <a class="external text" href="https://www.qt.io/ide/" rel="nofollow">oficjalnej strony QT</a>, jeśli korzystasz z systemu Windows lub Mac <i>(w systemie Linux będzie on zwykle dostępny w aplikacji menedżera oprogramowania)</i>.
</p><p>W poniższym ćwiczeniu najpierw utworzymy panel za pomocą Qt Creator, który poprosi o podanie wartości długości, szerokości i wysokości, a następnie utworzymy wokół niego klasę Python, która odczyta wartości wprowadzone przez użytkownika z panelu i utworzy pudełko o podanych wymiarach. Ta klasa Python będzie następnie używana przez FreeCAD do wyświetlania i sterowania panelem zadań:
</p><p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_07.jpg"><img decoding="async" height="112" src="../File/Exercise_python_07.jpg" width="181"/></a></span>
</p><p>Zacznijmy od stworzenia widżetu. Uruchom Qt Creator, a następnie menu <b>File → New File or Project → Qt → Qt Designer Form → Dialog without buttons</b>. Kliknij <b>Dalej</b>, nadaj mu nazwę pliku do zapisania, kliknij <b>Dalej</b>, pozostaw wszystkie pola projektu do wartości domyślnej <i>("&lt;none&gt;")</i> i <b>Utwórz</b>. System zadań FreeCAD automatycznie doda przyciski OK / Anuluj, dlatego wybraliśmy tutaj okno dialogowe bez przycisków.
</p><p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_06.jpg"><img decoding="async" height="877" src="../File/Exercise_python_06.jpg" width="1237"/></a></span>
</p>
<ul><li>Znajdź <b>Etykietę</b> na liście w lewym panelu (pod sekcją Display Widgets) i przeciągnij ją na obszar roboczy naszego widżetu. Kliknij dwukrotnie ostatnio umieszczoną etykietę i zmień jej tekst na <b>Długość</b>.</li>
<li>Kliknij prawym przyciskiem myszy kanwę widżetu i wybierz <b>Rozmieść → Rozmieść w siatce</b>. Spowoduje to przekształcenie naszego widżetu w siatkę z obecnie tylko jedną komórką, zajmowaną przez naszą pierwszą etykietę. Możemy teraz dodać kolejne elementy po lewej, prawej, górnej lub dolnej stronie naszej pierwszej etykiety, a siatka rozszerzy się automatycznie.</li>
<li>Dodaj dwie kolejne etykiety poniżej pierwszej i zmień ich tekst na Width i Height:</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_08.jpg"><img decoding="async" height="367" src="../File/Exercise_python_08.jpg" width="897"/></a></span>
</p>
<ul><li>Umieść teraz 3 widżety „Double Spin Box” (pod sekcją Input Widgets) obok naszych etykiet „Długość”, „Szerokość” i „Wysokość”. Dla każdego z nich, w dolnym prawym panelu, który pokazuje wszystkie dostępne ustawienia dla wybranego widżetu, zlokalizuj „Suffix” i ustaw ich przyrostek na „mm”. FreeCAD posiada bardziej zaawansowany widżet, który może obsługiwać różne jednostki, ale nie jest on dostępny w Kreatorze Qt domyślnie <i>(choć może zostać <a href="../pl\Compile_on_Linux.html#Wtyczka_Qt_designer" title="Compile on Linux/pl">skompilowany</a>)</i>, więc na razie skorzystamy z standardowego „Double Spin Box” i dodamy przyrostek „mm”, aby upewnić się, że użytkownik wie, w jakich jednostkach pracują:</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_09.jpg"><img decoding="async" height="609" src="../File/Exercise_python_09.jpg" width="1053"/></a></span>
</p>
<ul><li>Teraz nasz widżet jest gotowy, musimy tylko upewnić się co do jednej ostatniej rzeczy. Ponieważ FreeCAD będzie musiał uzyskać dostęp do tego widżetu i odczytać wartości długości, szerokości i wysokości, musimy nadać tym widżetom odpowiednie nazwy, abyśmy mogli je łatwo odzyskać z poziomu FreeCAD. Kliknij każde z Double Spin Boxes, a następnie w prawym górnym oknie kliknij dwukrotnie ich Object Name i zmień je na coś łatwego do zapamiętania, na przykład: BoxLength, BoxWidth i BoxHeight:</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_10.jpg"><img decoding="async" height="513" src="../File/Exercise_python_10.jpg" width="979"/></a></span>
</p>
<ul><li>Zapisz plik, możesz teraz zamknąć Qt Creator, reszta zostanie wykonana w Python.</li>
<li>Otwórz FreeCAD i utwórz nowe makro z menu <b>Makrodefinicje → Makrodefinicje ... → Utwórz</b>.</li>
<li>Wklej następujący kod. Upewnij się, że zmieniłeś ścieżkę pliku, aby pasowała do miejsca, w którym zapisałeś plik .ui utworzony w QtCreator:</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span><span class="nn">FreeCADGui</span><span class="o">,</span><span class="nn">Part</span>
 
<span class="c1"># CHANGE THE LINE BELOW</span>
<span class="n">path_to_ui</span> <span class="o">=</span> <span class="s2">"C:\Users\yorik\Documents\dialog.ui"</span>
 
<span class="k">class</span> <span class="nc">BoxTaskPanel</span><span class="p">:</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="c1"># this will create a Qt widget from our ui file</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">PySideUic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="n">path_to_ui</span><span class="p">)</span>
 
   <span class="k">def</span> <span class="nf">accept</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="n">length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxLength</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxWidth</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxHeight</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">width</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">height</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
           <span class="nb">print</span><span class="p">(</span><span class="s2">"Error! None of the values can be 0!"</span><span class="p">)</span>
           <span class="c1"># we bail out without doing anything</span>
           <span class="k">return</span>
       <span class="n">box</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">)</span>
       <span class="n">Part</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
       <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">closeDialog</span><span class="p">()</span>
        
<span class="n">panel</span> <span class="o">=</span> <span class="n">BoxTaskPanel</span><span class="p">()</span>
<span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">showDialog</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
<p>W powyższym kodzie użyliśmy wygodnej funkcji <b>PySideUic.loadUi</b> z modułu <b>FreeCADGui</b>. Funkcja ta ładuje plik .ui, tworzy z niego widżet Qt i mapuje nazwy, dzięki czemu możemy łatwo uzyskać dostęp do podwidżetu według ich nazw <i>(np. self.form.BoxLength)</i>.
</p><p>Funkcja "akceptuj" jest również udogodnieniem oferowanym przez Qt. Gdy w oknie dialogowym znajduje się przycisk "OK" <i>(co ma miejsce domyślnie podczas korzystania z panelu zadań FreeCAD)</i>, każda funkcja o nazwie "akceptuj" zostanie automatycznie wykonana po naciśnięciu przycisku "OK". Podobnie, można również dodać funkcję "odrzuć", która zostanie wykonana po naciśnięciu przycisku "Anuluj". W naszym przypadku pominęliśmy tę funkcję, więc naciśnięcie przycisku "Anuluj" spowoduje domyślne zachowanie <i>(nic nie robi i zamyka okno dialogowe)</i>.
</p><p>Jeśli zaimplementujemy którąkolwiek z funkcji akceptacji lub odrzucenia, ich domyślne zachowanie <i>(nic nie rób i zamknij)</i> nie będzie już występować. Musimy więc sami zamknąć panel zadań. Odbywa się to za pomocą:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">closeDialog</span><span class="p">()</span>
</pre></div>
<p>Gdy mamy już nasz BoxTaskPanel, który ma 1 - widżet o nazwie "self.form" i 2 - w razie potrzeby funkcje akceptacji i odrzucenia, możemy otworzyć panel zadań za jego pomocą, co odbywa się za pomocą tych dwóch ostatnich wierszy:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">panel</span> <span class="o">=</span> <span class="n">BoxTaskPanel</span><span class="p">()</span>
 <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">showDialog</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
<p>Należy pamiętać, że widżet utworzony przez <b>PySideUic.loadUi</b> nie jest specyficzny dla FreeCAD, jest to standardowy widżet Qt, który może być używany z innymi narzędziami Qt. Moglibyśmy na przykład wyświetlić za jego pomocą osobne okno dialogowe. Wypróbuj to w konsoli Python FreeCAD <i>(oczywiście używając poprawnej ścieżki do pliku .ui)</i>:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span>
 <span class="n">w</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">PySideUic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="s2">"C:\Users\yorik\Documents\dialog.ui"</span><span class="p">)</span>
 <span class="n">w</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p>Oczywiście nie dodaliśmy żadnego przycisku "OK" lub "Anuluj" do naszego okna dialogowego, ponieważ zostało ono stworzone do użycia z panelu zadań FreeCAD, który już zapewnia takie przyciski. Nie ma więc możliwości zamknięcia okna dialogowego <i>(poza naciśnięciem przycisku zamykania okna)</i>. Ale funkcja show() tworzy niemodalne okno dialogowe, co oznacza, że nie blokuje reszty interfejsu. Tak więc, gdy nasze okno dialogowe jest nadal otwarte, możemy odczytać wartości pól:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">w</span><span class="o">.</span><span class="n">BoxHeight</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</pre></div>
<p>Jest to bardzo przydatne do testowania.
</p><p>Wreszcie, nie zapominaj, że istnieje znacznie więcej dokumentacji na temat korzystania z widżetów Qt na FreeCAD Wiki, na stronie <a href="../pl\Power_users_hub.html" title="Power users hub/pl">Centrum Power użytkowników</a>, która zawiera poradnik <a href="../pl\Dialog_creation.html" title="Dialog creation/pl">Tworzenie dialogu</a>, specjalny 3-częściowy poradnik <a href="../pl\PySide.html" title="PySide/pl">PySide</a>, który obszernie omawia ten temat.
</p>
<h2><span id="Powi.C4.85zane_odno.C5.9Bniki"></span><span class="mw-headline" id="Powiązane_odnośniki">Powiązane odnośniki</span></h2>
<ul><li><a class="external text" href="https://en.wikipedia.org/wiki/Qt_Creator" rel="nofollow">Dokumentacja Qt Creator</a></li>
<li><a class="external text" href="https://www.qt.io/ide/" rel="nofollow">Instalacja Qt Creator</a></li>
<li><a href="../Power_users_hub.html" title="Power users hub">Dokumentacja skryptów FreeCAD Python</a></li>
<li><a href="../Dialog_creation.html" title="Dialog creation">Tutorial tworzenia dialogów FreeCAD</a></li>
<li><a href="../PySide.html" title="PySide">Tutoriale FreeCAD PySide</a></li>
<li>[<a class="external text" href="http://srinikom.github.io/pyside-docs/index.html" rel="nofollow">Dokumentacja PySide</a>]</li></ul>
<p><br/>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../pl\Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/pl">Tworzenie obiektów parametrycznych</a></div>
<div style="margin: 4px 0; float: right;"><a href="../pl\Manual;The_Community.html" title="Manual:The Community/pl">Społeczność</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../pl\Manual;Introduction.html" title="Manual:Introduction/pl">Podręcznik:Słowo wstępne</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Crystal_Clear_manual.png" width="24"/></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><a href="../pl\Power_users_hub.html" title="Power users hub/pl">Centrum Power użytkowników</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" width="24"/></a></span>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Tworzenie skryptów FreeCAD:</b> <a href="../pl\Python.html" title="Python/pl">Python</a>, <a href="../pl\Introduction_to_Python.html" title="Introduction to Python/pl">Wprowadzenie do środowiska Python</a>, <a href="../pl\Python_scripting_tutorial.html" title="Python scripting tutorial/pl">Poradnik: Tworzenie skryptów Python</a>, <a href="../pl\FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/pl">Podstawy tworzenia skryptów FreeCAD</a></li></ul>
<hr/>
<ul><li><b>Moduły:</b> <a href="../pl\Builtin_modules.html" title="Builtin modules/pl">Moduły wbudowane</a>, <a href="../pl\Units.html" title="Units/pl">Jednostki miar</a>, <a href="../Quantity.html" title="Quantity">Ilość</a></li>
<li><b>Środowiska pracy:</b> <a href="../pl\Workbench_creation.html" title="Workbench creation/pl">Tworzenie Środowiska pracy</a>, <a href="../pl\Gui_Command.html" title="Gui Command/pl">Polecenia Gui</a>, <a href="../Command.html" title="Command">Polecenia</a>, <a href="../pl\Installing_more_workbenches.html" title="Installing more workbenches/pl">Instalacja większej liczby Środowisk pracy</a></li>
<li><b>Siatki i elementy:</b> <a href="../pl\Mesh_Scripting.html" title="Mesh Scripting/pl">Skrytpy w Środowisku Siatek</a>, <a href="../pl\Topological_data_scripting.html" title="Topological data scripting/pl">v</a>, <a href="../pl\Mesh_to_Part.html" title="Mesh to Part/pl">Konwerska Mesh na Part</a>, <a href="../pl\PythonOCC.html" title="PythonOCC/pl">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Obiekty parametryczne:</b> <a href="../pl\Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a>, <a href="../Viewprovider.html" title="Viewprovider">Obsługa obrazu</a> <small>(<a href="../Custom_icon_in_tree_view.html" title="Custom icon in tree view">Ikonka niestandardowa w widoku drzewa</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../pl\Scenegraph.html" title="Scenegraph/pl">Coin (Inventor) scenegraph</a>, <a href="../pl\Pivy.html" title="Pivy/pl">Pivy</a></li>
<li><b>Interfejs graficzny:</b> <a href="../Interface_creation.html" title="Interface creation">Stworzenie interfejsu</a>, <a href="../pl\Dialog_creation.html" title="Dialog creation/pl">Kompletne stworzenie interfejsu w środowisku Python</a> <small>(<a href="../Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets">1</a>, <a href="../Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files">2</a>, <a href="../Dialog_creation_setting_colors.html" title="Dialog creation setting colors">3</a>, <a href="../Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF">4</a>, <a href="../PySide_usage_snippets.html" title="PySide usage snippets">5</a>)</small>, <a href="../pl\PySide.html" title="PySide/pl">PySide</a>, PySide examples <a href="../PySide_Beginner_Examples.html" title="PySide Beginner Examples">początkujący</a>, <a href="../PySide_Intermediate_Examples.html" title="PySide Intermediate Examples">średniozaawansowany</a>, <a href="../PySide_Advanced_Examples.html" title="PySide Advanced Examples">zaawansowany</a></li>
<li><b>Makrodefinicje:</b> <a href="../pl\Macros.html" title="Macros/pl">Makrodefinicje</a>, <a href="../pl\How_to_install_macros.html" title="How to install macros/pl">Instalacja makrodefinicji</a></li>
<li><b>Osadzanie programu:</b> <a href="../pl\Embedding_FreeCAD.html" title="Embedding FreeCAD/pl">Osadzanie programu FreeCAD</a>, <a href="../pl\Embedding_FreeCADGui.html" title="Embedding FreeCADGui/pl">Osadzanie GUI FreeCAD</a></li></ul>
<hr/>
<ul><li><b>Pozostałe:</b> <a href="../pl\Expressions.html" title="Expressions/pl">Wyrażenia</a>, <a href="../pl\Code_snippets.html" title="Code snippets/pl">Wycinki kodu</a>, <a href="../pl\Line_drawing_function.html" title="Line drawing function/pl">Funkcja kreślenia linii</a>, <a href="../pl\FreeCAD_vector_math_library.html" title="FreeCAD vector math library/pl">Biblioteka matematyczna FreeCAD dla wektorów</a> <small>(deprecated)</small></li></ul>
<hr/>
<ul><li><b>Węzły użytkowników:</b> <a href="../pl\User_hub.html" title="User hub/pl">Centrum użytkownika</a>, <a href="../pl\Power_users_hub.html" title="Power users hub/pl">Centrum Power użytkowników</a>, <a href="../pl\Developer_hub.html" title="Developer hub/pl">Centrum programisty</a></li></ul></div>
</div></div>
<!-- 
NewPP limit report
Cached time: 20241214204440
Cache expiry: 86400
Reduced expiry: false
Complications: [no‐toc‐conversion]
CPU time usage: 0.125 seconds
Real time usage: 0.660 seconds
Preprocessor visited node count: 176/1000000
Post‐expand include size: 16245/2097152 bytes
Template argument size: 4175/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 7209/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  521.643      1 -total
 98.00%  511.223      5 Template:Code
  0.89%    4.648      1 Template:Manual:TOC
  0.53%    2.747      1 Template:Powerdocnavi/pl
  0.33%    1.744      2 Template:Docnav/pl
  0.33%    1.722      1 Manual:Summary/pl
  0.21%    1.097      1 Template:Navigation_menu_2
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:201167-0!canonical and timestamp 20241214204439 and revision id 1517936. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
