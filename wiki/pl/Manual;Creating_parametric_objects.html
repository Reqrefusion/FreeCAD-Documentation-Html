<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Manual:Creating parametric objects/pl</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../de\Manual;Creating_parametric_objects.html" lang="de" title="Handbuch:Erstellung parametrischer Objekte (8% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Manual;Creating_parametric_objects.html" lang="en" title="Manual:Creating parametric objects (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="../fr\Manual;Creating_parametric_objects.html" lang="fr" title="Manuel : Création d'objets paramétriques (41% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="../it\Manual;Creating_parametric_objects.html" lang="it" title="Manuale:Creare oggetti parametrici (41% translated)">italiano</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--low" dir="ltr" lang="pl">polski</span></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../ro\Manual;Creating_parametric_objects.html" lang="ro" title="Manual:Crearea de obiecte parametrice (35% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../ru\Manual;Creating_parametric_objects.html" lang="ru" title="Создание параметрических объектов (27% translated)">русский</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../pl\Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/pl">Tworzenie i obróbka geometrii</a></div>
<div style="margin: 4px 0; float: right;"><a href="../pl\Manual;Creating_interface_tools.html" title="Manual:Creating interface tools/pl">Tworzenie narzędzi interfejsu</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../pl\Manual;Introduction.html" title="Manual:Introduction/pl">Podręcznik:Słowo wstępne</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Crystal_Clear_manual.png" width="24"/></span></span></div>
</div>
<div class="manualtoc" id="toc" style="float:right; margin:10px 0px 10px 10px;">
<ul><li><a href="../pl\Manual;Introduction.html" title="Manual:Introduction/pl">Słowo wstępne</a></li>
<li>Odkrywamy FreeCAD
<ul><li><a href="../pl\Manual;What_is_FreeCAD.html" title="Manual:What is FreeCAD/pl">Czym jest FreeCAD?</a></li>
<li><a href="../pl\Manual;Installing.html" title="Manual:Installing/pl">Instalacja</a>
<ul><li><a href="../pl\Manual;Installing.html#installing_on_Windows" title="Manual:Installing/pl">Instalacja w systemie Windows</a></li>
<li><a href="../pl\Manual;Installing.html#Installing_on_Linux" title="Manual:Installing/pl">Instalacja w systemie Linux</a></li>
<li><a href="../pl\Manual;Installing.html#Installing_on_Mac_OS" title="Manual:Installing/pl">Instalacja w systemie Mac OS</a></li>
<li><a href="../pl\Manual;Installing.html#Uninstalling" title="Manual:Installing/pl">Dezinstalacja</a></li>
<li><a href="../pl\Manual;Installing.html#Setting_basic_preferences" title="Manual:Installing/pl">Ustawienia główne</a></li>
<li><a href="../pl\Manual;Installing.html#Installing_additional_content" title="Manual:Installing/pl">Instalacja dodatkowej zawartości</a></li></ul></li>
<li><a href="../pl\Manual;The_FreeCAD_Interface.html" title="Manual:The FreeCAD Interface/pl">Interfejs programu FreeCAD</a>
<ul><li><a href="../pl\Manual;The_FreeCAD_Interface.html#Workbenches" title="Manual:The FreeCAD Interface/pl">Środowiska pracy</a></li>
<li><a href="../pl\Manual;The_FreeCAD_Interface.html#The_interface" title="Manual:The FreeCAD Interface/pl">Interfejs</a></li>
<li><a href="../pl\Manual;The_FreeCAD_Interface.html#Customizing_the_interface" title="Manual:The FreeCAD Interface/pl">Dostosowywanie interfejsu</a></li></ul></li>
<li><a href="../pl\Manual;Navigating_in_the_3D_view.html" title="Manual:Navigating in the 3D view/pl">Nawigacja myszką w oknie widoku 3D</a>
<ul><li><a href="../pl\Manual;Navigating_in_the_3D_view.html#A_word_about_the_3D_space" title="Manual:Navigating in the 3D view/pl">Kilka słów o przestrzeni 3D</a></li>
<li><a href="../pl\Manual;Navigating_in_the_3D_view.html#The_FreeCAD_3D_view" title="Manual:Navigating in the 3D view/pl">Widok przestrzenny w programie FreeCAD</a></li>
<li><a href="../pl\Manual;Navigating_in_the_3D_view.html#Selecting_objects" title="Manual:Navigating in the 3D view/pl">Wybieranie obiektów</a></li></ul></li>
<li><a href="../pl\Manual;The_FreeCAD_document.html" title="Manual:The FreeCAD document/pl">Struktura dokumentu FreeCAD</a></li>
<li><a href="../pl\Manual;Parametric_objects.html" title="Manual:Parametric objects/pl">Obiekty parametryczne</a></li>
<li><a href="../pl\Manual;Import_and_export_to_other_filetypes.html" title="Manual:Import and export to other filetypes/pl">Import i eksport do plików innych formatów</a></li></ul></li>
<li>Praca z FreeCAD
<ul><li><a href="../pl\Manual;All_workbenches_at_a_glance.html" title="Manual:All workbenches at a glance/pl">Środowiska pracy - przegląd</a></li>
<li><a href="../pl\Manual;Traditional_modeling,_the_CSG_way.html" title="Manual:Traditional modeling, the CSG way/pl">Modelowanie tradycyjne, według CSG</a></li>
<li><a href="../pl\Manual;Traditional_2D_drafting.html" title="Manual:Traditional 2D drafting/pl">Kreślenie tradycyjne - 2D</a></li>
<li><a href="../pl\Manual;Modeling_for_product_design.html" title="Manual:Modeling for product design/pl">Modelowanie dla projektowania produktu</a></li>
<li><a href="../pl\Manual;Preparing_models_for_3D_printing.html" title="Manual:Preparing models for 3D printing/pl">Przygotowywanie modeli na potrzeby druku 3D</a>
<ul><li><a href="../Manual;Preparing_models_for_3D_printing.html#Exporting_to_slicers/pl" title="Manual:Preparing models for 3D printing">Eksportowanie do krajalnic</a></li>
<li><a href="../Manual;Preparing_models_for_3D_printing.html#Converting_objects_to_meshes/pl" title="Manual:Preparing models for 3D printing">Konwersja obiektów na siatki</a></li>
<li><a href="../pl\Manual;Preparing_models_for_3D_printing.html#Using_Slic3r" title="Manual:Preparing models for 3D printing/pl">Używanie programu Slic3r</a></li>
<li><a href="../pl\Manual;Preparing_models_for_3D_printing.html#Using_the_Cura_addon" title="Manual:Preparing models for 3D printing/pl">Używanie dodatku Cura</a></li>
<li><a href="../pl\Manual;Preparing_models_for_3D_printing.html#Generating_G-code" title="Manual:Preparing models for 3D printing/pl">Tworzenie G-code</a></li></ul></li>
<li><a href="../pl\Manual;Generating_2D_drawings.html" title="Manual:Generating 2D drawings/pl">Generowanie rysunków 2D</a></li>
<li><a href="../pl\Manual;BIM_modeling.html" title="Manual:BIM modeling/pl">Modelowanie BIM</a></li>
<li><a href="../pl\Manual;Using_spreadsheets.html" title="Manual:Using spreadsheets/pl">Zastosowanie arkuszy kalkulacyjnych</a>
<ul><li><a href="../pl\Manual;Using_spreadsheets.html#Reading_properties" title="Manual:Using spreadsheets/pl">Odczytywanie właściwości</a></li>
<li><a href="../pl\Manual;Using_spreadsheets.html#Writing_properties" title="Manual:Using spreadsheets/pl">Zapisywanie właściwości</a></li></ul></li>
<li><a href="../pl\Manual;Creating_FEM_analyses.html" title="Manual:Creating FEM analyses/pl">Tworzenie analiz FEM</a></li>
<li><a href="../pl\Manual;Creating_renderings.html" title="Manual:Creating renderings/pl">Tworzenie renderingów</a></li></ul></li>
<li>Skrypty środowiska Python
<ul><li><a href="../pl\Manual;A_gentle_introduction.html" title="Manual:A gentle introduction/pl">Łagodny wstęp</a>
<ul><li><a href="../pl\Manual;A_gentle_introduction.html#Writing_Python_code" title="Manual:A gentle introduction/pl">Tworzenie kodu Python</a></li>
<li><a href="../pl\Manual;A_gentle_introduction.html#Manipulating_FreeCAD_objects" title="Manual:A gentle introduction/pl">Zarządzanie obiektami FreeCAD</a></li>
<li><a href="../pl\Manual;A_gentle_introduction.html#Vectors_and_Placements" title="Manual:A gentle introduction/pl">Wektory i rozmieszczenie</a></li></ul></li>
<li><a href="../pl\Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/pl">Tworzenie i obróbka geometrii</a></li>
<li><a class="mw-selflink selflink">Tworzenie obiektów parametrycznych</a></li>
<li><a href="../pl\Manual;Creating_interface_tools.html" title="Manual:Creating interface tools/pl">Tworzenie narzędzi interfejsu</a></li></ul></li>
<li><a href="../pl\Manual;The_Community.html" title="Manual:The Community/pl">Społeczność</a></li></ul></div>
<div class="mw-translate-fuzzy">
<p>W rozdziale <a href="../pl\Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/pl">Tworzenie i obróbka geometrii</a> widzieliśmy, jak tworzyć geometrię części i jak wyświetlać ją na ekranie, dołączając ją do "pospolitego" <i>(nieparametrycznego)</i> obiektu dokumentu. Jest to uciążliwe, gdy chcemy zmienić kształt tego obiektu. Musielibyśmy utworzyć nowy kształt, a następnie ponownie przypisać go do naszego obiektu.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Jednak we wszystkich poprzednich rozdziałach tego podręcznika widzieliśmy również, jak potężne są obiekty parametryczne. Wystarczy zmienić tylko jedną właściwość, a kształt zostanie przeliczony w locie.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Wewnętrznie obiekty parametryczne nie robią nic innego niż przed chwilą: Ponownie obliczają zawartość swojej właściwości Kształt, w kółko, za każdym razem, gdy zmieni się inna właściwość.
</p>
</div>
<ul><li>Declares the necessary properties for the object.</li>
<li>Defines the behavior when any of these properties are modified.</li></ul>
<p>The structure of such parametric object is as simple as this:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">myParametricObject</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"MyLength"</span><span class="p">)</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">"Recalculating the shape..."</span><span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">"The value of MyLength is:"</span><span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">MyLength</span><span class="p">)</span>
        <span class="o">...</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>FreeCAD zapewnia bardzo wygodny system do budowania takich w pełni parametrycznych obiektów w Pythonie. Składają się one z prostej klasy Python, która definiuje wszystkie właściwości potrzebne obiektowi i co się stanie, gdy jedna z tych właściwości ulegnie zmianie. Struktura takiego obiektu parametrycznego jest bardzo prosta:
</p>
</div>
<ul><li>Store the class itself in the <b>Proxy</b> attribute of the FreeCAD document object:</li></ul>
<p>By assigning <b>self</b> to the <b>Proxy</b> attribute of the FreeCAD document object, we link the logic of our Python class to the FreeCAD object. This means the document object will "carry" the Python class code inside itself, allowing it to behave according to the logic defined in the class. This connection enables FreeCAD to know how to interact with and recalculate the parametric object.
</p>
<ul><li>Create all the properties the object needs:</li></ul>
<p>Using the <b>addProperty</b> method, we define the custom properties required by the object. Properties act as parameters or variables for the object and can be accessed, modified, and displayed in FreeCAD's property editor. In the example, we add a floating-point property named <b>MyLength</b>. This property will later influence the shape or behavior of the object.
</p><p>There are many types of properties available in FreeCAD, ranging from floating-point numbers to strings and even specialized types for geometry and materials. To explore the full list of available property types, you can type the following code in the Python console:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::FeaturePython"</span><span class="p">,</span> <span class="s2">"dummy"</span><span class="p">)</span><span class="o">.</span><span class="n">supportedProperties</span><span class="p">()</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Wszystkie klasy Pythona zazwyczaj posiadają metodę __init__. To, co znajduje się wewnątrz tej metody, jest wykonywane, gdy klasa jest instancjonowana (co oznacza, w slangu programistycznym, że obiekt Pythona jest tworzony z tej klasy. Potraktuj klasę jako "szablon" do tworzenia jej żywych kopii). W naszej funkcji __init__ robimy dwie ważne rzeczy: <br/>1- przechowujemy naszą klasę w atrybucie "Proxy" naszego obiektu dokumentu FreeCAD, co oznacza, że obiekt dokumentu FreeCAD będzie przenosił ten kod wewnątrz siebie, oraz <br/>2- tworzymy wszystkie właściwości, których potrzebuje nasz obiekt. Dostępnych jest wiele rodzajów właściwości, pełną listę można uzyskać, wpisując ten kod:
</p>
</div>
<p>In summary:
</p>
<ul><li>The <b>execute</b> method is called whenever the object needs to be updated.</li>
<li>It is responsible for recalculating the shape and assigning it to the object's <b>Shape</b> attribute.</li>
<li>The <b>obj</b> argument gives access to the FreeCAD document object, enabling you to make changes programmatically.</li></ul>
<p>With this system, FreeCAD handles the rest—ensuring that the object is properly updated in the document and displayed correctly in the graphical interface.
</p>
<div class="mw-translate-fuzzy">
<p>Drugą ważną częścią jest metoda execute. Każdy kod w tej metodzie zostanie wykonany, gdy obiekt zostanie oznaczony do ponownego obliczenia, co nastąpi, gdy właściwość zostanie zmieniona. To już wszystko. Wewnątrz execute musisz zrobić wszystko, co trzeba, czyli obliczyć nowy kształt i przypisać go do samego obiektu za pomocą czegoś takiego jak obj.Shape = myNewShape. Dlatego właśnie metoda execute przyjmuje argument "obj", który będzie samym obiektem dokumentu FreeCAD, dzięki czemu możemy nim manipulować wewnątrz naszego kodu Python.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Ostatnia rzecz jest ważna do zapamiętania: Podczas tworzenia takich obiektów parametrycznych w dokumencie FreeCAD, po zapisaniu pliku, powyższy kod Python nie jest przechowywany wewnątrz pliku. Wynika to ze względów bezpieczeństwa, gdyby plik FreeCAD zawierał kod, ktoś mógłby rozpowszechniać pliki FreeCAD zawierające złośliwy kod, który mógłby uszkodzić komputery innych osób. Tak więc, jeśli dystrybuujesz plik, który zawiera obiekty wykonane przy użyciu powyższego kodu, taki kod musi być również obecny na komputerze, który otworzy plik. Najłatwiejszym sposobem na osiągnięcie tego jest zazwyczaj zapisanie powyższego kodu w makrze i rozpowszechnianie makra wraz z plikiem FreeCAD lub udostępnienie makra na <a href="../pl\Macros_recipes.html" title="Macros recipes/pl">Repozytorium makr FreeCAD</a>, skąd każdy może je pobrać.
</p>
</div>
<p>Poniżej wykonamy małe ćwiczenie, budując obiekt parametryczny, który jest prostą parametryczną prostokątną powierzchnią. Bardziej złożone przykłady są dostępne na stronie <a href="../pl\Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a> oraz w samym kodzie źródłowym <a class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/TemplatePyMod/FeaturePython.py" rel="nofollow">FreeCAD</a>.
</p><p>Nadamy naszemu obiektowi dwie właściwości: Długość i Szerokość, które wykorzystamy do skonstruowania prostokąta. Następnie, ponieważ nasz obiekt będzie już miał wstępnie zbudowaną właściwość Umiejscowienie (wszystkie obiekty geometryczne mają ją domyślnie, nie trzeba jej dodawać samodzielnie), przesuniemy nasz prostokąt do lokalizacji / obrotu ustawionego w Placement, dzięki czemu użytkownik będzie mógł przenieść prostokąt w dowolne miejsce, edytując właściwość Umiejscowienie.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">ParametricRectangle</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"Length"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"Width"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="c1"># We need to import the FreeCAD module here too, because we might be running out of the Console</span>
        <span class="c1"># (in a macro, for example) where the FreeCAD module has not been imported automatically:</span>
        <span class="kn">import</span> <span class="nn">FreeCAD</span>
        <span class="kn">import</span> <span class="nn">Part</span>

        <span class="c1"># First we need to make sure the values of Length and Width are not 0</span>
        <span class="c1"># otherwise Part.LineSegment will complain that both points are equal:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Width</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="c1"># If yes, exit this method without doing anything:</span>
            <span class="k">return</span>

        <span class="c1"># We create 4 points for the 4 corners:</span>
        <span class="n">v1</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v2</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v3</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span><span class="n">obj</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v4</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># We create 4 edges:</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e3</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span> <span class="n">v4</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e4</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v4</span><span class="p">,</span> <span class="n">v1</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>

        <span class="c1"># We create a wire:</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Wire</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">,</span> <span class="n">e4</span><span class="p">])</span>

        <span class="c1"># We create a face:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Face</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

        <span class="c1"># All shapes have a Placement too. We give our shape the value of the placement</span>
        <span class="c1"># set by the user. This will move/rotate the face automatically.</span>
        <span class="n">f</span><span class="o">.</span><span class="n">Placement</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Placement</span>

        <span class="c1"># All done, we can attribute our shape to the object!</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">f</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Zamiast wklejać powyższy kod w konsoli Python, lepiej zapiszmy go gdzieś, abyśmy mogli go później ponownie wykorzystać i zmodyfikować. Na przykład w postaci nowej makrodefinicji <i>(menu Przybory → Makrodefinicje → Utwórz)</i>. Nazwij je na przykład "ParamRectangle". Jednak makra FreeCAD są zapisywane z rozszerzeniem .FCMacro, którego Python nie rozpoznaje podczas importowania . Tak więc, przed użyciem powyższego kodu, będziemy musieli zmienić nazwę pliku ParamRectangle.FCMacro na ParamRectangle.py. Można to zrobić z poziomu eksploratora plików, przechodząc do folderu Macros wskazanego w menu Przybory → Makrodefinicje.
</p>
</div>
<p>Gdy to zrobimy, możemy teraz zrobić to w konsoli Python:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">ParamRectangle</span>
</pre></div>
<p>Badając zawartość ParamRectangle, możemy sprawdzić, czy zawiera ona naszą klasę ParametricRectangle.
</p>
<div class="mw-translate-fuzzy">
<p>Aby utworzyć nowy obiekt parametryczny przy użyciu naszej klasy ParametricRectangle, użyjemy następującego kodu. Zauważ, że używamy Part::FeaturePython zamiast Part::Feature, którego używaliśmy w poprzednich rozdziałach <i>(wersja Python pozwala na zdefiniowanie własnego zachowania parametrycznego)</i>:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">myObj</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::FeaturePython"</span><span class="p">,</span> <span class="s2">"Rectangle"</span><span class="p">)</span>
<span class="n">ParamRectangle</span><span class="o">.</span><span class="n">ParametricRectangle</span><span class="p">(</span><span class="n">myObj</span><span class="p">)</span>
<span class="n">myObj</span><span class="o">.</span><span class="n">ViewObject</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># This is mandatory unless we code the ViewProvider too.</span>
<span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
</pre></div>
<p>Here is a quick breakdown of the previous commands:
</p>
<ul><li><b>myObj = FreeCAD.ActiveDocument.addObject("Part::FeaturePython", "Rectangle")</b>: Creates a new <b>Part::FeaturePython</b> object named <b>Rectangle</b> in the active FreeCAD document. This object is specifically designed for custom parametric behavior, allowing Python-defined logic to manage its properties and behavior.</li></ul>
<ul><li><b>ParamRectangle.ParametricRectangle(myObj)</b>: Initializes the object by associating it with the <b>ParametricRectangle</b> class from the <b>ParamRectangle</b> module or script. This links the custom Python-defined logic to the object, enabling it to act as a parametric object.</li></ul>
<ul><li><b>myObj.ViewObject.Proxy = 0</b>: Resets the <b>ViewObject.Proxy</b> attribute to 0, ensuring that the object uses FreeCAD’s default view handling. This step is required unless you define a custom ViewProvider to manage the visual representation of the object.</li></ul>
<ul><li><b>FreeCAD.ActiveDocument.recompute()</b>: Recomputes the document to update the geometry and reflect changes in the FreeCAD graphical interface, making the new object fully visible and functional</li></ul>
<div class="mw-translate-fuzzy">
<p>Nic nie pojawi się jeszcze na ekranie, ponieważ właściwości Długość i Szerokość mają wartość 0, co spowoduje uruchomienie naszego warunku "do-nothing" wewnątrz execute. Musimy tylko zmienić wartości Długość i Szerokość, a nasz obiekt w magiczny sposób pojawi się i zostanie ponownie przeliczony w locie.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Oczywiście uciążliwe byłoby wpisywanie tych 4 linijek kodu Python za każdym razem, gdy chcemy utworzyć nowy parametryczny prostokąt. Bardzo prostym sposobem na rozwiązanie tego problemu jest umieszczenie powyższych 4 linijek wewnątrz naszego pliku ParamRectangle.py, na końcu, po zakończeniu klasy ParametricRectange <i>(możemy to zrobić z poziomu edytora makrodefinicji)</i>.
</p>
</div>
<p>Teraz, gdy wpiszemy import ParamRectangle , automatycznie zostanie utworzony nowy prostokąt parametryczny.  Co więcej, możemy dodać przycisk na pasku narzędzi, który właśnie to zrobi:
</p>
<div class="mw-translate-fuzzy">
<ul><li>Otwórz menu <b>Przybory → Dostosuj</b></li>
<li>W zakładce "Makra" wybierz nasze makro ParamRectangle.py, wypełnij szczegóły według własnego uznania i naciśnij "Dodaj":</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_04.jpg"><img decoding="async" height="501" src="../File/Exercise_python_04.jpg" width="752"/></a></span>
</p>
</div>
<ul><li>W zakładce Paski narzędzi utwórz nowy niestandardowy pasek narzędzi w wybranym środowisku pracy <i>(lub globalnie)</i>, wybierz makrodefinicję i dodaj je do paska narzędzi:</li></ul>
<div class="mw-translate-fuzzy">
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_05.jpg"><img decoding="async" height="501" src="../File/Exercise_python_05.jpg" width="752"/></a></span>
</p>
</div>
<ul><li>To wszystko, mamy teraz nowy przycisk paska narzędzi, który po kliknięciu utworzy parametryczny prostokąt.</li></ul>
<div class="mw-translate-fuzzy">
<p>Pamiętaj, że jeśli chcesz rozpowszechniać pliki utworzone za pomocą tego nowego narzędzia innym osobom, muszą one również mieć zainstalowaną makrodefinicję ParamRectangle.py na swoim komputerze.
</p>
</div>
<p><b>Więcej informacji:</b>
</p>
<ul><li><a href="../pl\Macros_recipes.html" title="Macros recipes/pl">Przepisy na makropolecenia</a></li>
<li><a href="../pl\Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a></li>
<li><a class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/TemplatePyMod/FeaturePython.py" rel="nofollow">Więcej przykładów kodu FreeCAD</a></li></ul>
<p><br/>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../pl\Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/pl">Tworzenie i obróbka geometrii</a></div>
<div style="margin: 4px 0; float: right;"><a href="../pl\Manual;Creating_interface_tools.html" title="Manual:Creating interface tools/pl">Tworzenie narzędzi interfejsu</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../pl\Manual;Introduction.html" title="Manual:Introduction/pl">Podręcznik:Słowo wstępne</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Crystal_Clear_manual.png" width="24"/></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><a href="../pl\Power_users_hub.html" title="Power users hub/pl">Centrum Power użytkowników</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" width="24"/></a></span>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Tworzenie skryptów FreeCAD:</b> <a href="../pl\Python.html" title="Python/pl">Python</a>, <a href="../pl\Introduction_to_Python.html" title="Introduction to Python/pl">Wprowadzenie do środowiska Python</a>, <a href="../pl\Python_scripting_tutorial.html" title="Python scripting tutorial/pl">Poradnik: Tworzenie skryptów Python</a>, <a href="../pl\FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/pl">Podstawy tworzenia skryptów FreeCAD</a></li></ul>
<hr/>
<ul><li><b>Moduły:</b> <a href="../pl\Builtin_modules.html" title="Builtin modules/pl">Moduły wbudowane</a>, <a href="../pl\Units.html" title="Units/pl">Jednostki miar</a>, <a href="../Quantity.html" title="Quantity">Ilość</a></li>
<li><b>Środowiska pracy:</b> <a href="../pl\Workbench_creation.html" title="Workbench creation/pl">Tworzenie Środowiska pracy</a>, <a href="../pl\Gui_Command.html" title="Gui Command/pl">Polecenia Gui</a>, <a href="../Command.html" title="Command">Polecenia</a>, <a href="../pl\Installing_more_workbenches.html" title="Installing more workbenches/pl">Instalacja większej liczby Środowisk pracy</a></li>
<li><b>Siatki i elementy:</b> <a href="../pl\Mesh_Scripting.html" title="Mesh Scripting/pl">Skrytpy w Środowisku Siatek</a>, <a href="../pl\Topological_data_scripting.html" title="Topological data scripting/pl">v</a>, <a href="../pl\Mesh_to_Part.html" title="Mesh to Part/pl">Konwerska Mesh na Part</a>, <a href="../pl\PythonOCC.html" title="PythonOCC/pl">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Obiekty parametryczne:</b> <a href="../pl\Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a>, <a href="../Viewprovider.html" title="Viewprovider">Obsługa obrazu</a> <small>(<a href="../Custom_icon_in_tree_view.html" title="Custom icon in tree view">Ikonka niestandardowa w widoku drzewa</a>)</small></li>
<li><b>Scenegraph:</b> <a href="../pl\Scenegraph.html" title="Scenegraph/pl">Coin (Inventor) scenegraph</a>, <a href="../pl\Pivy.html" title="Pivy/pl">Pivy</a></li>
<li><b>Interfejs graficzny:</b> <a href="../Interface_creation.html" title="Interface creation">Stworzenie interfejsu</a>, <a href="../pl\Dialog_creation.html" title="Dialog creation/pl">Kompletne stworzenie interfejsu w środowisku Python</a> <small>(<a href="../Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets">1</a>, <a href="../Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files">2</a>, <a href="../Dialog_creation_setting_colors.html" title="Dialog creation setting colors">3</a>, <a href="../Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF">4</a>, <a href="../PySide_usage_snippets.html" title="PySide usage snippets">5</a>)</small>, <a href="../pl\PySide.html" title="PySide/pl">PySide</a>, PySide examples <a href="../PySide_Beginner_Examples.html" title="PySide Beginner Examples">początkujący</a>, <a href="../PySide_Intermediate_Examples.html" title="PySide Intermediate Examples">średniozaawansowany</a>, <a href="../PySide_Advanced_Examples.html" title="PySide Advanced Examples">zaawansowany</a></li>
<li><b>Makrodefinicje:</b> <a href="../pl\Macros.html" title="Macros/pl">Makrodefinicje</a>, <a href="../pl\How_to_install_macros.html" title="How to install macros/pl">Instalacja makrodefinicji</a></li>
<li><b>Osadzanie programu:</b> <a href="../pl\Embedding_FreeCAD.html" title="Embedding FreeCAD/pl">Osadzanie programu FreeCAD</a>, <a href="../pl\Embedding_FreeCADGui.html" title="Embedding FreeCADGui/pl">Osadzanie GUI FreeCAD</a></li></ul>
<hr/>
<ul><li><b>Pozostałe:</b> <a href="../pl\Expressions.html" title="Expressions/pl">Wyrażenia</a>, <a href="../pl\Code_snippets.html" title="Code snippets/pl">Wycinki kodu</a>, <a href="../pl\Line_drawing_function.html" title="Line drawing function/pl">Funkcja kreślenia linii</a>, <a href="../pl\FreeCAD_vector_math_library.html" title="FreeCAD vector math library/pl">Biblioteka matematyczna FreeCAD dla wektorów</a> <small>(deprecated)</small></li></ul>
<hr/>
<ul><li><b>Węzły użytkowników:</b> <a href="../pl\User_hub.html" title="User hub/pl">Centrum użytkownika</a>, <a href="../pl\Power_users_hub.html" title="Power users hub/pl">Centrum Power użytkowników</a>, <a href="../pl\Developer_hub.html" title="Developer hub/pl">Centrum programisty</a></li></ul></div>
</div></div>
<!-- 
NewPP limit report
Cached time: 20241214203850
Cache expiry: 86400
Reduced expiry: false
Complications: [no‐toc‐conversion]
CPU time usage: 0.111 seconds
Real time usage: 0.956 seconds
Preprocessor visited node count: 162/1000000
Post‐expand include size: 16419/2097152 bytes
Template argument size: 5564/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 11775/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  810.185      1 -total
 98.43%  797.492      5 Template:Code
  0.61%    4.975      2 Template:Docnav/pl
  0.52%    4.237      1 Template:Manual:TOC
  0.30%    2.400      1 Manual:Summary/pl
  0.27%    2.193      1 Template:Powerdocnavi/pl
  0.11%    0.889      1 Template:Navigation_menu_2
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:201165-0!canonical and timestamp 20241214203849 and revision id 1517202. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
