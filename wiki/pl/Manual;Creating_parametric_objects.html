<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">Manual:Creating parametric objects/pl</span></h1><?xml encoding="UTF-8"><div class="mw-parser-output"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="wiki/de//Manual;Creating_parametric_objects.html" class="mw-pt-progress mw-pt-progress--stub" title="Handbuch:Erstellung parametrischer Objekte (8% translated)" lang="de" dir="ltr">Deutsch</a></li>
<li><a href="wiki//Manual;Creating_parametric_objects.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="Manual:Creating parametric objects (100% translated)" lang="en" dir="ltr">English</a></li>
<li><a href="wiki/fr//Manual;Creating_parametric_objects.html" class="mw-pt-progress mw-pt-progress--med" title="Manuel : Cr&eacute;ation d'objets param&eacute;triques (41% translated)" lang="fr" dir="ltr">fran&ccedil;ais</a></li>
<li><a href="wiki/it//Manual;Creating_parametric_objects.html" class="mw-pt-progress mw-pt-progress--med" title="Manuale:Creare oggetti parametrici (41% translated)" lang="it" dir="ltr">italiano</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--low" lang="pl" dir="ltr">polski</span></li>
<li><a href="wiki/ro//Manual;Creating_parametric_objects.html" class="mw-pt-progress mw-pt-progress--low" title="Manual:Crearea de obiecte parametrice (35% translated)" lang="ro" dir="ltr">rom&acirc;n&#259;</a></li>
<li><a href="wiki/ru//Manual;Creating_parametric_objects.html" class="mw-pt-progress mw-pt-progress--low" title="&#1057;&#1086;&#1079;&#1076;&#1072;&#1085;&#1080;&#1077; &#1087;&#1072;&#1088;&#1072;&#1084;&#1077;&#1090;&#1088;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080;&#1093; &#1086;&#1073;&#1098;&#1077;&#1082;&#1090;&#1086;&#1074; (27% translated)" lang="ru" dir="ltr">&#1088;&#1091;&#1089;&#1089;&#1082;&#1080;&#1081;</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
    <div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16"></span></span> <a href="wiki/pl//Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/pl">Tworzenie i obr&oacute;bka geometrii</a></div>
    <div style="margin: 4px 0; float: right;"><a href="wiki/pl//Manual;Creating_interface_tools.html" title="Manual:Creating interface tools/pl">Tworzenie narz&#281;dzi interfejsu</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16"></span></span></div>
    <div style="text-align:center"><a href="wiki/pl//Manual;Introduction.html" title="Manual:Introduction/pl">Podr&#281;cznik:S&#322;owo wst&#281;pne</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Crystal_Clear_manual.png" decoding="async" width="24" height="24"></span></span></div>
</div>
<div id="toc" class="manualtoc" style="float:right; margin:10px 0px 10px 10px;">
<ul><li><a href="wiki/pl//Manual;Introduction.html" title="Manual:Introduction/pl">S&#322;owo wst&#281;pne</a></li>
<li>Odkrywamy FreeCAD
<ul><li><a href="wiki/pl//Manual;What_is_FreeCAD.html" title="Manual:What is FreeCAD/pl">Czym jest FreeCAD?</a></li>
<li><a href="wiki/pl//Manual;Installing.html" title="Manual:Installing/pl">Instalacja</a>
<ul><li><a href="wiki/pl//Manual;Installing.html#installing_on_Windows" title="Manual:Installing/pl">Instalacja w systemie Windows</a></li>
<li><a href="wiki/pl//Manual;Installing.html#Installing_on_Linux" title="Manual:Installing/pl">Instalacja w systemie Linux</a></li>
<li><a href="wiki/pl//Manual;Installing.html#Installing_on_Mac_OS" title="Manual:Installing/pl">Instalacja w systemie Mac OS</a></li>
<li><a href="wiki/pl//Manual;Installing.html#Uninstalling" title="Manual:Installing/pl">Dezinstalacja</a></li>
<li><a href="wiki/pl//Manual;Installing.html#Setting_basic_preferences" title="Manual:Installing/pl">Ustawienia g&#322;&oacute;wne</a></li>
<li><a href="wiki/pl//Manual;Installing.html#Installing_additional_content" title="Manual:Installing/pl">Instalacja dodatkowej zawarto&#347;ci</a></li></ul></li>
<li><a href="wiki/pl//Manual;The_FreeCAD_Interface.html" title="Manual:The FreeCAD Interface/pl">Interfejs programu FreeCAD</a>
<ul><li><a href="wiki/pl//Manual;The_FreeCAD_Interface.html#Workbenches" title="Manual:The FreeCAD Interface/pl">&#346;rodowiska pracy</a></li>
<li><a href="wiki/pl//Manual;The_FreeCAD_Interface.html#The_interface" title="Manual:The FreeCAD Interface/pl">Interfejs</a></li>
<li><a href="wiki/pl//Manual;The_FreeCAD_Interface.html#Customizing_the_interface" title="Manual:The FreeCAD Interface/pl">Dostosowywanie interfejsu</a></li></ul></li>
<li><a href="wiki/pl//Manual;Navigating_in_the_3D_view.html" title="Manual:Navigating in the 3D view/pl">Nawigacja myszk&#261; w oknie widoku 3D</a>
<ul><li><a href="wiki/pl//Manual;Navigating_in_the_3D_view.html#A_word_about_the_3D_space" title="Manual:Navigating in the 3D view/pl">Kilka s&#322;&oacute;w o przestrzeni 3D</a></li>
<li><a href="wiki/pl//Manual;Navigating_in_the_3D_view.html#The_FreeCAD_3D_view" title="Manual:Navigating in the 3D view/pl">Widok przestrzenny w programie FreeCAD</a></li>
<li><a href="wiki/pl//Manual;Navigating_in_the_3D_view.html#Selecting_objects" title="Manual:Navigating in the 3D view/pl">Wybieranie obiekt&oacute;w</a></li></ul></li>
<li><a href="wiki/pl//Manual;The_FreeCAD_document.html" title="Manual:The FreeCAD document/pl">Struktura dokumentu FreeCAD</a></li>
<li><a href="wiki/pl//Manual;Parametric_objects.html" title="Manual:Parametric objects/pl">Obiekty parametryczne</a></li>
<li><a href="wiki/pl//Manual;Import_and_export_to_other_filetypes.html" title="Manual:Import and export to other filetypes/pl">Import i eksport do plik&oacute;w innych format&oacute;w</a></li></ul></li>
<li>Praca z FreeCAD
<ul><li><a href="wiki/pl//Manual;All_workbenches_at_a_glance.html" title="Manual:All workbenches at a glance/pl">&#346;rodowiska pracy - przegl&#261;d</a></li>
<li><a href="wiki/pl//Manual;Traditional_modeling,_the_CSG_way.html" title="Manual:Traditional modeling, the CSG way/pl">Modelowanie tradycyjne, wed&#322;ug CSG</a></li>
<li><a href="wiki/pl//Manual;Traditional_2D_drafting.html" title="Manual:Traditional 2D drafting/pl">Kre&#347;lenie tradycyjne - 2D</a></li>
<li><a href="wiki/pl//Manual;Modeling_for_product_design.html" title="Manual:Modeling for product design/pl">Modelowanie dla projektowania produktu</a></li>
<li><a href="wiki/pl//Manual;Preparing_models_for_3D_printing.html" title="Manual:Preparing models for 3D printing/pl">Przygotowywanie modeli na potrzeby druku 3D</a>
<ul><li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Exporting_to_slicers/pl" title="Manual:Preparing models for 3D printing">Eksportowanie do krajalnic</a></li>
<li><a href="wiki//Manual;Preparing_models_for_3D_printing.html#Converting_objects_to_meshes/pl" title="Manual:Preparing models for 3D printing">Konwersja obiekt&oacute;w na siatki</a></li>
<li><a href="wiki/pl//Manual;Preparing_models_for_3D_printing.html#Using_Slic3r" title="Manual:Preparing models for 3D printing/pl">U&#380;ywanie programu Slic3r</a></li>
<li><a href="wiki/pl//Manual;Preparing_models_for_3D_printing.html#Using_the_Cura_addon" title="Manual:Preparing models for 3D printing/pl">U&#380;ywanie dodatku Cura</a></li>
<li><a href="wiki/pl//Manual;Preparing_models_for_3D_printing.html#Generating_G-code" title="Manual:Preparing models for 3D printing/pl">Tworzenie G-code</a></li></ul></li>
<li><a href="wiki/pl//Manual;Generating_2D_drawings.html" title="Manual:Generating 2D drawings/pl">Generowanie rysunk&oacute;w 2D</a></li>
<li><a href="wiki/pl//Manual;BIM_modeling.html" title="Manual:BIM modeling/pl">Modelowanie BIM</a></li>
<li><a href="wiki/pl//Manual;Using_spreadsheets.html" title="Manual:Using spreadsheets/pl">Zastosowanie arkuszy kalkulacyjnych</a>
<ul><li><a href="wiki/pl//Manual;Using_spreadsheets.html#Reading_properties" title="Manual:Using spreadsheets/pl">Odczytywanie w&#322;a&#347;ciwo&#347;ci</a></li>
<li><a href="wiki/pl//Manual;Using_spreadsheets.html#Writing_properties" title="Manual:Using spreadsheets/pl">Zapisywanie w&#322;a&#347;ciwo&#347;ci</a></li></ul></li>
<li><a href="wiki/pl//Manual;Creating_FEM_analyses.html" title="Manual:Creating FEM analyses/pl">Tworzenie analiz FEM</a></li>
<li><a href="wiki/pl//Manual;Creating_renderings.html" title="Manual:Creating renderings/pl">Tworzenie rendering&oacute;w</a></li></ul></li>
<li>Skrypty &#347;rodowiska Python
<ul><li><a href="wiki/pl//Manual;A_gentle_introduction.html" title="Manual:A gentle introduction/pl">&#321;agodny wst&#281;p</a>
<ul><li><a href="wiki/pl//Manual;A_gentle_introduction.html#Writing_Python_code" title="Manual:A gentle introduction/pl">Tworzenie kodu Python</a></li>
<li><a href="wiki/pl//Manual;A_gentle_introduction.html#Manipulating_FreeCAD_objects" title="Manual:A gentle introduction/pl">Zarz&#261;dzanie obiektami FreeCAD</a></li>
<li><a href="wiki/pl//Manual;A_gentle_introduction.html#Vectors_and_Placements" title="Manual:A gentle introduction/pl">Wektory i rozmieszczenie</a></li></ul></li>
<li><a href="wiki/pl//Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/pl">Tworzenie i obr&oacute;bka geometrii</a></li>
<li><a class="mw-selflink selflink">Tworzenie obiekt&oacute;w parametrycznych</a></li>
<li><a href="wiki/pl//Manual;Creating_interface_tools.html" title="Manual:Creating interface tools/pl">Tworzenie narz&#281;dzi interfejsu</a></li></ul></li>
<li><a href="wiki/pl//Manual;The_Community.html" title="Manual:The Community/pl">Spo&#322;eczno&#347;&#263;</a></li></ul></div>
<div class="mw-translate-fuzzy">
<p>W rozdziale <a href="wiki/pl//Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/pl">Tworzenie i obr&oacute;bka geometrii</a> widzieli&#347;my, jak tworzy&#263; geometri&#281; cz&#281;&#347;ci i jak wy&#347;wietla&#263; j&#261; na ekranie, do&#322;&#261;czaj&#261;c j&#261; do "pospolitego" <i>(nieparametrycznego)</i> obiektu dokumentu. Jest to uci&#261;&#380;liwe, gdy chcemy zmieni&#263; kszta&#322;t tego obiektu. Musieliby&#347;my utworzy&#263; nowy kszta&#322;t, a nast&#281;pnie ponownie przypisa&#263; go do naszego obiektu.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Jednak we wszystkich poprzednich rozdzia&#322;ach tego podr&#281;cznika widzieli&#347;my r&oacute;wnie&#380;, jak pot&#281;&#380;ne s&#261; obiekty parametryczne. Wystarczy zmieni&#263; tylko jedn&#261; w&#322;a&#347;ciwo&#347;&#263;, a kszta&#322;t zostanie przeliczony w locie.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Wewn&#281;trznie obiekty parametryczne nie robi&#261; nic innego ni&#380; przed chwil&#261;: Ponownie obliczaj&#261; zawarto&#347;&#263; swojej w&#322;a&#347;ciwo&#347;ci Kszta&#322;t, w k&oacute;&#322;ko, za ka&#380;dym razem, gdy zmieni si&#281; inna w&#322;a&#347;ciwo&#347;&#263;.
</p>
</div>
<ul><li>Declares the necessary properties for the object.</li>
<li>Defines the behavior when any of these properties are modified.</li></ul>
<p>The structure of such parametric object is as simple as this:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">myParametricObject</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"MyLength"</span><span class="p">)</span>
        <span class="o">...</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">"Recalculating the shape..."</span><span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s2">"The value of MyLength is:"</span><span class="p">)</span>
        <span class="nb">print</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">MyLength</span><span class="p">)</span>
        <span class="o">...</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>FreeCAD zapewnia bardzo wygodny system do budowania takich w pe&#322;ni parametrycznych obiekt&oacute;w w Pythonie. Sk&#322;adaj&#261; si&#281; one z prostej klasy Python, kt&oacute;ra definiuje wszystkie w&#322;a&#347;ciwo&#347;ci potrzebne obiektowi i co si&#281; stanie, gdy jedna z tych w&#322;a&#347;ciwo&#347;ci ulegnie zmianie. Struktura takiego obiektu parametrycznego jest bardzo prosta:
</p>
</div>
<ul><li>Store the class itself in the <b>Proxy</b> attribute of the FreeCAD document object:</li></ul>
<p>By assigning <b>self</b> to the <b>Proxy</b> attribute of the FreeCAD document object, we link the logic of our Python class to the FreeCAD object. This means the document object will "carry" the Python class code inside itself, allowing it to behave according to the logic defined in the class. This connection enables FreeCAD to know how to interact with and recalculate the parametric object.
</p>
<ul><li>Create all the properties the object needs:</li></ul>
<p>Using the <b>addProperty</b> method, we define the custom properties required by the object. Properties act as parameters or variables for the object and can be accessed, modified, and displayed in FreeCAD's property editor. In the example, we add a floating-point property named <b>MyLength</b>. This property will later influence the shape or behavior of the object.
</p><p>There are many types of properties available in FreeCAD, ranging from floating-point numbers to strings and even specialized types for geometry and materials. To explore the full list of available property types, you can type the following code in the Python console:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::FeaturePython"</span><span class="p">,</span> <span class="s2">"dummy"</span><span class="p">)</span><span class="o">.</span><span class="n">supportedProperties</span><span class="p">()</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Wszystkie klasy Pythona zazwyczaj posiadaj&#261; metod&#281; __init__. To, co znajduje si&#281; wewn&#261;trz tej metody, jest wykonywane, gdy klasa jest instancjonowana (co oznacza, w slangu programistycznym, &#380;e obiekt Pythona jest tworzony z tej klasy. Potraktuj klas&#281; jako "szablon" do tworzenia jej &#380;ywych kopii). W naszej funkcji __init__ robimy dwie wa&#380;ne rzeczy: <br>1- przechowujemy nasz&#261; klas&#281; w atrybucie "Proxy" naszego obiektu dokumentu FreeCAD, co oznacza, &#380;e obiekt dokumentu FreeCAD b&#281;dzie przenosi&#322; ten kod wewn&#261;trz siebie, oraz <br>2- tworzymy wszystkie w&#322;a&#347;ciwo&#347;ci, kt&oacute;rych potrzebuje nasz obiekt. Dost&#281;pnych jest wiele rodzaj&oacute;w w&#322;a&#347;ciwo&#347;ci, pe&#322;n&#261; list&#281; mo&#380;na uzyska&#263;, wpisuj&#261;c ten kod:
</p>
</div>
<p>In summary:
</p>
<ul><li>The <b>execute</b> method is called whenever the object needs to be updated.</li>
<li>It is responsible for recalculating the shape and assigning it to the object's <b>Shape</b> attribute.</li>
<li>The <b>obj</b> argument gives access to the FreeCAD document object, enabling you to make changes programmatically.</li></ul>
<p>With this system, FreeCAD handles the rest&mdash;ensuring that the object is properly updated in the document and displayed correctly in the graphical interface.
</p>
<div class="mw-translate-fuzzy">
<p>Drug&#261; wa&#380;n&#261; cz&#281;&#347;ci&#261; jest metoda execute. Ka&#380;dy kod w tej metodzie zostanie wykonany, gdy obiekt zostanie oznaczony do ponownego obliczenia, co nast&#261;pi, gdy w&#322;a&#347;ciwo&#347;&#263; zostanie zmieniona. To ju&#380; wszystko. Wewn&#261;trz execute musisz zrobi&#263; wszystko, co trzeba, czyli obliczy&#263; nowy kszta&#322;t i przypisa&#263; go do samego obiektu za pomoc&#261; czego&#347; takiego jak obj.Shape = myNewShape. Dlatego w&#322;a&#347;nie metoda execute przyjmuje argument "obj", kt&oacute;ry b&#281;dzie samym obiektem dokumentu FreeCAD, dzi&#281;ki czemu mo&#380;emy nim manipulowa&#263; wewn&#261;trz naszego kodu Python.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Ostatnia rzecz jest wa&#380;na do zapami&#281;tania: Podczas tworzenia takich obiekt&oacute;w parametrycznych w dokumencie FreeCAD, po zapisaniu pliku, powy&#380;szy kod Python nie jest przechowywany wewn&#261;trz pliku. Wynika to ze wzgl&#281;d&oacute;w bezpiecze&#324;stwa, gdyby plik FreeCAD zawiera&#322; kod, kto&#347; m&oacute;g&#322;by rozpowszechnia&#263; pliki FreeCAD zawieraj&#261;ce z&#322;o&#347;liwy kod, kt&oacute;ry m&oacute;g&#322;by uszkodzi&#263; komputery innych os&oacute;b. Tak wi&#281;c, je&#347;li dystrybuujesz plik, kt&oacute;ry zawiera obiekty wykonane przy u&#380;yciu powy&#380;szego kodu, taki kod musi by&#263; r&oacute;wnie&#380; obecny na komputerze, kt&oacute;ry otworzy plik. Naj&#322;atwiejszym sposobem na osi&#261;gni&#281;cie tego jest zazwyczaj zapisanie powy&#380;szego kodu w makrze i rozpowszechnianie makra wraz z plikiem FreeCAD lub udost&#281;pnienie makra na <a href="wiki/pl//Macros_recipes.html" title="Macros recipes/pl">Repozytorium makr FreeCAD</a>, sk&#261;d ka&#380;dy mo&#380;e je pobra&#263;.
</p>
</div>
<p>Poni&#380;ej wykonamy ma&#322;e &#263;wiczenie, buduj&#261;c obiekt parametryczny, kt&oacute;ry jest prost&#261; parametryczn&#261; prostok&#261;tn&#261; powierzchni&#261;. Bardziej z&#322;o&#380;one przyk&#322;ady s&#261; dost&#281;pne na stronie <a href="wiki/pl//Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a> oraz w samym kodzie &#378;r&oacute;d&#322;owym <a rel="nofollow" class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/TemplatePyMod/FeaturePython.py">FreeCAD</a>.
</p><p>Nadamy naszemu obiektowi dwie w&#322;a&#347;ciwo&#347;ci: D&#322;ugo&#347;&#263; i Szeroko&#347;&#263;, kt&oacute;re wykorzystamy do skonstruowania prostok&#261;ta. Nast&#281;pnie, poniewa&#380; nasz obiekt b&#281;dzie ju&#380; mia&#322; wst&#281;pnie zbudowan&#261; w&#322;a&#347;ciwo&#347;&#263; Umiejscowienie (wszystkie obiekty geometryczne maj&#261; j&#261; domy&#347;lnie, nie trzeba jej dodawa&#263; samodzielnie), przesuniemy nasz prostok&#261;t do lokalizacji / obrotu ustawionego w Placement, dzi&#281;ki czemu u&#380;ytkownik b&#281;dzie m&oacute;g&#322; przenie&#347;&#263; prostok&#261;t w dowolne miejsce, edytuj&#261;c w&#322;a&#347;ciwo&#347;&#263; Umiejscowienie.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">class</span> <span class="nc">ParametricRectangle</span><span class="p">:</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">obj</span><span class="p">):</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="bp">self</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"Length"</span><span class="p">)</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">addProperty</span><span class="p">(</span><span class="s2">"App::PropertyFloat"</span><span class="p">,</span> <span class="s2">"Width"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">execute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="c1"># We need to import the FreeCAD module here too, because we might be running out of the Console</span>
        <span class="c1"># (in a macro, for example) where the FreeCAD module has not been imported automatically:</span>
        <span class="kn">import</span> <span class="nn">FreeCAD</span>
        <span class="kn">import</span> <span class="nn">Part</span>

        <span class="c1"># First we need to make sure the values of Length and Width are not 0</span>
        <span class="c1"># otherwise Part.LineSegment will complain that both points are equal:</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Width</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
            <span class="c1"># If yes, exit this method without doing anything:</span>
            <span class="k">return</span>

        <span class="c1"># We create 4 points for the 4 corners:</span>
        <span class="n">v1</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v2</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v3</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">Length</span><span class="p">,</span><span class="n">obj</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">v4</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">obj</span><span class="o">.</span><span class="n">Width</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="c1"># We create 4 edges:</span>
        <span class="n">e1</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e2</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span> <span class="n">v3</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e3</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v3</span><span class="p">,</span> <span class="n">v4</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>
        <span class="n">e4</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">LineSegment</span><span class="p">(</span><span class="n">v4</span><span class="p">,</span> <span class="n">v1</span><span class="p">)</span><span class="o">.</span><span class="n">toShape</span><span class="p">()</span>

        <span class="c1"># We create a wire:</span>
        <span class="n">w</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Wire</span><span class="p">([</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">,</span> <span class="n">e3</span><span class="p">,</span> <span class="n">e4</span><span class="p">])</span>

        <span class="c1"># We create a face:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">Face</span><span class="p">(</span><span class="n">w</span><span class="p">)</span>

        <span class="c1"># All shapes have a Placement too. We give our shape the value of the placement</span>
        <span class="c1"># set by the user. This will move/rotate the face automatically.</span>
        <span class="n">f</span><span class="o">.</span><span class="n">Placement</span> <span class="o">=</span> <span class="n">obj</span><span class="o">.</span><span class="n">Placement</span>

        <span class="c1"># All done, we can attribute our shape to the object!</span>
        <span class="n">obj</span><span class="o">.</span><span class="n">Shape</span> <span class="o">=</span> <span class="n">f</span>
</pre></div>
<div class="mw-translate-fuzzy">
<p>Zamiast wkleja&#263; powy&#380;szy kod w konsoli Python, lepiej zapiszmy go gdzie&#347;, aby&#347;my mogli go p&oacute;&#378;niej ponownie wykorzysta&#263; i zmodyfikowa&#263;. Na przyk&#322;ad w postaci nowej makrodefinicji <i>(menu Przybory &rarr; Makrodefinicje &rarr; Utw&oacute;rz)</i>. Nazwij je na przyk&#322;ad "ParamRectangle". Jednak makra FreeCAD s&#261; zapisywane z rozszerzeniem .FCMacro, kt&oacute;rego Python nie rozpoznaje podczas importowania . Tak wi&#281;c, przed u&#380;yciem powy&#380;szego kodu, b&#281;dziemy musieli zmieni&#263; nazw&#281; pliku ParamRectangle.FCMacro na ParamRectangle.py. Mo&#380;na to zrobi&#263; z poziomu eksploratora plik&oacute;w, przechodz&#261;c do folderu Macros wskazanego w menu Przybory &rarr; Makrodefinicje.
</p>
</div>
<p>Gdy to zrobimy, mo&#380;emy teraz zrobi&#263; to w konsoli Python:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">ParamRectangle</span>
</pre></div>
<p>Badaj&#261;c zawarto&#347;&#263; ParamRectangle, mo&#380;emy sprawdzi&#263;, czy zawiera ona nasz&#261; klas&#281; ParametricRectangle.
</p>
<div class="mw-translate-fuzzy">
<p>Aby utworzy&#263; nowy obiekt parametryczny przy u&#380;yciu naszej klasy ParametricRectangle, u&#380;yjemy nast&#281;puj&#261;cego kodu. Zauwa&#380;, &#380;e u&#380;ywamy Part::FeaturePython zamiast Part::Feature, kt&oacute;rego u&#380;ywali&#347;my w poprzednich rozdzia&#322;ach <i>(wersja Python pozwala na zdefiniowanie w&#322;asnego zachowania parametrycznego)</i>:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">myObj</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">addObject</span><span class="p">(</span><span class="s2">"Part::FeaturePython"</span><span class="p">,</span> <span class="s2">"Rectangle"</span><span class="p">)</span>
<span class="n">ParamRectangle</span><span class="o">.</span><span class="n">ParametricRectangle</span><span class="p">(</span><span class="n">myObj</span><span class="p">)</span>
<span class="n">myObj</span><span class="o">.</span><span class="n">ViewObject</span><span class="o">.</span><span class="n">Proxy</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># This is mandatory unless we code the ViewProvider too.</span>
<span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
</pre></div>
<p>Here is a quick breakdown of the previous commands:
</p>
<ul><li><b>myObj = FreeCAD.ActiveDocument.addObject("Part::FeaturePython", "Rectangle")</b>: Creates a new <b>Part::FeaturePython</b> object named <b>Rectangle</b> in the active FreeCAD document. This object is specifically designed for custom parametric behavior, allowing Python-defined logic to manage its properties and behavior.</li></ul>
<ul><li><b>ParamRectangle.ParametricRectangle(myObj)</b>: Initializes the object by associating it with the <b>ParametricRectangle</b> class from the <b>ParamRectangle</b> module or script. This links the custom Python-defined logic to the object, enabling it to act as a parametric object.</li></ul>
<ul><li><b>myObj.ViewObject.Proxy = 0</b>: Resets the <b>ViewObject.Proxy</b> attribute to 0, ensuring that the object uses FreeCAD&rsquo;s default view handling. This step is required unless you define a custom ViewProvider to manage the visual representation of the object.</li></ul>
<ul><li><b>FreeCAD.ActiveDocument.recompute()</b>: Recomputes the document to update the geometry and reflect changes in the FreeCAD graphical interface, making the new object fully visible and functional</li></ul>
<div class="mw-translate-fuzzy">
<p>Nic nie pojawi si&#281; jeszcze na ekranie, poniewa&#380; w&#322;a&#347;ciwo&#347;ci D&#322;ugo&#347;&#263; i Szeroko&#347;&#263; maj&#261; warto&#347;&#263; 0, co spowoduje uruchomienie naszego warunku "do-nothing" wewn&#261;trz execute. Musimy tylko zmieni&#263; warto&#347;ci D&#322;ugo&#347;&#263; i Szeroko&#347;&#263;, a nasz obiekt w magiczny spos&oacute;b pojawi si&#281; i zostanie ponownie przeliczony w locie.
</p>
</div>
<div class="mw-translate-fuzzy">
<p>Oczywi&#347;cie uci&#261;&#380;liwe by&#322;oby wpisywanie tych 4 linijek kodu Python za ka&#380;dym razem, gdy chcemy utworzy&#263; nowy parametryczny prostok&#261;t. Bardzo prostym sposobem na rozwi&#261;zanie tego problemu jest umieszczenie powy&#380;szych 4 linijek wewn&#261;trz naszego pliku ParamRectangle.py, na ko&#324;cu, po zako&#324;czeniu klasy ParametricRectange <i>(mo&#380;emy to zrobi&#263; z poziomu edytora makrodefinicji)</i>.
</p>
</div>
<p>Teraz, gdy wpiszemy import ParamRectangle , automatycznie zostanie utworzony nowy prostok&#261;t parametryczny.  Co wi&#281;cej, mo&#380;emy doda&#263; przycisk na pasku narz&#281;dzi, kt&oacute;ry w&#322;a&#347;nie to zrobi:
</p>
<div class="mw-translate-fuzzy">
<ul><li>Otw&oacute;rz menu <b>Przybory &rarr; Dostosuj</b></li>
<li>W zak&#322;adce "Makra" wybierz nasze makro ParamRectangle.py, wype&#322;nij szczeg&oacute;&#322;y wed&#322;ug w&#322;asnego uznania i naci&#347;nij "Dodaj":</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_04.jpg" class="mw-file-description"><img src="../File/Exercise_python_04.jpg" decoding="async" width="752" height="501"></a></span>
</p>
</div>
<ul><li>W zak&#322;adce Paski narz&#281;dzi utw&oacute;rz nowy niestandardowy pasek narz&#281;dzi w wybranym &#347;rodowisku pracy <i>(lub globalnie)</i>, wybierz makrodefinicj&#281; i dodaj je do paska narz&#281;dzi:</li></ul>
<div class="mw-translate-fuzzy">
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Exercise_python_05.jpg" class="mw-file-description"><img src="../File/Exercise_python_05.jpg" decoding="async" width="752" height="501"></a></span>
</p>
</div>
<ul><li>To wszystko, mamy teraz nowy przycisk paska narz&#281;dzi, kt&oacute;ry po klikni&#281;ciu utworzy parametryczny prostok&#261;t.</li></ul>
<div class="mw-translate-fuzzy">
<p>Pami&#281;taj, &#380;e je&#347;li chcesz rozpowszechnia&#263; pliki utworzone za pomoc&#261; tego nowego narz&#281;dzia innym osobom, musz&#261; one r&oacute;wnie&#380; mie&#263; zainstalowan&#261; makrodefinicj&#281; ParamRectangle.py na swoim komputerze.
</p>
</div>
<p><b>Wi&#281;cej informacji:</b>
</p>
<ul><li><a href="wiki/pl//Macros_recipes.html" title="Macros recipes/pl">Przepisy na makropolecenia</a></li>
<li><a href="wiki/pl//Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a></li>
<li><a rel="nofollow" class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/master/src/Mod/TemplatePyMod/FeaturePython.py">Wi&#281;cej przyk&#322;ad&oacute;w kodu FreeCAD</a></li></ul>
<p><br>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
    <div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-left.svg" decoding="async" width="16" height="16"></span></span> <a href="wiki/pl//Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/pl">Tworzenie i obr&oacute;bka geometrii</a></div>
    <div style="margin: 4px 0; float: right;"><a href="wiki/pl//Manual;Creating_interface_tools.html" title="Manual:Creating interface tools/pl">Tworzenie narz&#281;dzi interfejsu</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Arrow-right.svg" decoding="async" width="16" height="16"></span></span></div>
    <div style="text-align:center"><a href="wiki/pl//Manual;Introduction.html" title="Manual:Introduction/pl">Podr&#281;cznik:S&#322;owo wst&#281;pne</a>
 <span class="mw-default-size" typeof="mw:File"><span><img src="../File/Crystal_Clear_manual.png" decoding="async" width="24" height="24"></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
    <div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><a href="wiki/pl//Power_users_hub.html" title="Power users hub/pl">Centrum Power u&#380;ytkownik&oacute;w</a> <span typeof="mw:File"><a href="../File/Power_user_hub.png" class="mw-file-description"><img src="../File/Power_user_hub.png" decoding="async" width="24" height="24"></a></span>
        <div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Tworzenie skrypt&oacute;w FreeCAD:</b> <a href="wiki/pl//Python.html" title="Python/pl">Python</a>, <a href="wiki/pl//Introduction_to_Python.html" title="Introduction to Python/pl">Wprowadzenie do &#347;rodowiska Python</a>, <a href="wiki/pl//Python_scripting_tutorial.html" title="Python scripting tutorial/pl">Poradnik: Tworzenie skrypt&oacute;w Python</a>, <a href="wiki/pl//FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/pl">Podstawy tworzenia skrypt&oacute;w FreeCAD</a></li></ul>
<hr>
<ul><li><b>Modu&#322;y:</b> <a href="wiki/pl//Builtin_modules.html" title="Builtin modules/pl">Modu&#322;y wbudowane</a>, <a href="wiki/pl//Units.html" title="Units/pl">Jednostki miar</a>, <a href="wiki//Quantity.html" title="Quantity">Ilo&#347;&#263;</a></li>
<li><b>&#346;rodowiska pracy:</b> <a href="wiki/pl//Workbench_creation.html" title="Workbench creation/pl">Tworzenie &#346;rodowiska pracy</a>, <a href="wiki/pl//Gui_Command.html" title="Gui Command/pl">Polecenia Gui</a>, <a href="wiki//Command.html" title="Command">Polecenia</a>, <a href="wiki/pl//Installing_more_workbenches.html" title="Installing more workbenches/pl">Instalacja wi&#281;kszej liczby &#346;rodowisk pracy</a></li>
<li><b>Siatki i elementy:</b> <a href="wiki/pl//Mesh_Scripting.html" title="Mesh Scripting/pl">Skrytpy w &#346;rodowisku Siatek</a>, <a href="wiki/pl//Topological_data_scripting.html" title="Topological data scripting/pl">v</a>, <a href="wiki/pl//Mesh_to_Part.html" title="Mesh to Part/pl">Konwerska Mesh na Part</a>, <a href="wiki/pl//PythonOCC.html" title="PythonOCC/pl">PythonOCC</a></li></ul>
<hr>
<ul><li><b>Obiekty parametryczne:</b> <a href="wiki/pl//Scripted_objects.html" title="Scripted objects/pl">Obiekty tworzone skryptami</a>, <a href="wiki//Viewprovider.html" title="Viewprovider">Obs&#322;uga obrazu</a> <small>(<a href="wiki//Custom_icon_in_tree_view.html" title="Custom icon in tree view">Ikonka niestandardowa w widoku drzewa</a>)</small></li>
<li><b>Scenegraph:</b> <a href="wiki/pl//Scenegraph.html" title="Scenegraph/pl">Coin (Inventor) scenegraph</a>, <a href="wiki/pl//Pivy.html" title="Pivy/pl">Pivy</a></li>
<li><b>Interfejs graficzny:</b> <a href="wiki//Interface_creation.html" title="Interface creation">Stworzenie interfejsu</a>, <a href="wiki/pl//Dialog_creation.html" title="Dialog creation/pl">Kompletne stworzenie interfejsu w &#347;rodowisku Python</a> <small>(<a href="wiki//Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets">1</a>, <a href="wiki//Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files">2</a>, <a href="wiki//Dialog_creation_setting_colors.html" title="Dialog creation setting colors">3</a>, <a href="wiki//Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF">4</a>, <a href="wiki//PySide_usage_snippets.html" title="PySide usage snippets">5</a>)</small>, <a href="wiki/pl//PySide.html" title="PySide/pl">PySide</a>, PySide examples <a href="wiki//PySide_Beginner_Examples.html" title="PySide Beginner Examples">pocz&#261;tkuj&#261;cy</a>, <a href="wiki//PySide_Intermediate_Examples.html" title="PySide Intermediate Examples">&#347;redniozaawansowany</a>, <a href="wiki//PySide_Advanced_Examples.html" title="PySide Advanced Examples">zaawansowany</a></li>
<li><b>Makrodefinicje:</b> <a href="wiki/pl//Macros.html" title="Macros/pl">Makrodefinicje</a>, <a href="wiki/pl//How_to_install_macros.html" title="How to install macros/pl">Instalacja makrodefinicji</a></li>
<li><b>Osadzanie programu:</b> <a href="wiki/pl//Embedding_FreeCAD.html" title="Embedding FreeCAD/pl">Osadzanie programu FreeCAD</a>, <a href="wiki/pl//Embedding_FreeCADGui.html" title="Embedding FreeCADGui/pl">Osadzanie GUI FreeCAD</a></li></ul>
<hr>
<ul><li><b>Pozosta&#322;e:</b> <a href="wiki/pl//Expressions.html" title="Expressions/pl">Wyra&#380;enia</a>, <a href="wiki/pl//Code_snippets.html" title="Code snippets/pl">Wycinki kodu</a>, <a href="wiki/pl//Line_drawing_function.html" title="Line drawing function/pl">Funkcja kre&#347;lenia linii</a>, <a href="wiki/pl//FreeCAD_vector_math_library.html" title="FreeCAD vector math library/pl">Biblioteka matematyczna FreeCAD dla wektor&oacute;w</a> <small>(deprecated)</small></li></ul>
<hr>
<ul><li><b>W&#281;z&#322;y u&#380;ytkownik&oacute;w:</b> <a href="wiki/pl//User_hub.html" title="User hub/pl">Centrum u&#380;ytkownika</a>, <a href="wiki/pl//Power_users_hub.html" title="Power users hub/pl">Centrum Power u&#380;ytkownik&oacute;w</a>, <a href="wiki/pl//Developer_hub.html" title="Developer hub/pl">Centrum programisty</a></li></ul></div>
    </div></div>
<!-- 
NewPP limit report
Cached time: 20241213100749
Cache expiry: 86400
Reduced expiry: false
Complications: [no&#8208;toc&#8208;conversion]
CPU time usage: 0.078 seconds
Real time usage: 0.088 seconds
Preprocessor visited node count: 162/1000000
Post&#8208;expand include size: 16419/2097152 bytes
Template argument size: 5564/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 11775/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%   12.271      1 -total
 30.73%    3.771      1 Template:Manual:TOC
 25.78%    3.163      5 Template:Code
 22.81%    2.799      1 Template:Powerdocnavi/pl
 22.69%    2.784      1 Manual:Summary/pl
 12.08%    1.482      2 Template:Docnav/pl
  7.17%    0.880      1 Template:Navigation_menu_2
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:201165-0!canonical and timestamp 20241213100749 and revision id 1517202. Rendering was triggered because: api-parse
 -->
</div>
</div><script src="../site.js"></script>