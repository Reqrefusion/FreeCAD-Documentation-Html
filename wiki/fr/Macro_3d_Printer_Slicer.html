<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Macro 3d Printer Slicer/fr</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../de\Macro_3d_Printer_Slicer.html" lang="de" title="Macro 3d Printer Slicer (100% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Macro_3d_Printer_Slicer.html" lang="en" title="Macro 3d Printer Slicer (100% translated)">English</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="fr">français</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../it\Macro_3d_Printer_Slicer.html" lang="it" title="Macro Slicer per stampanti 3D (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../pl\Macro_3d_Printer_Slicer.html" lang="pl" title="Makrodefinicja: Slicer druku 3D (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../cs\Macro_3d_Printer_Slicer.html" lang="cs" title="Macro 3d Printer Slicer (86% translated)">čeština</a></li></ul></div>
<table class="fcinfobox wikitable ct" style="float: right; width: 230px; margin-left: 10px;" width="100%">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_3d_Printer_Slicer.png"><img decoding="async" height="32" src="../File/Macro_3d_Printer_Slicer.png" width="32"/></a></span><span> </span>
Macro_3d_Printer_Slicer
</p>
</td></tr>
<tr>
<th class="ctOdd">Description
</th></tr>
<tr>
<td class="ctEven left macro-description">Exporter le projet dans un logiciel de tranchage pour utilisation dans une imprimantes 3D. Exporte le fichier stl dans le même répertoire que fichier original, puis l'ouvre dans le logiciel de tranchage.<br/><br/>Version macro : 1.0<br/>Date dernière modification : 2013-10-10<br/>Version FreeCAD : All<br/>Téléchargement : <a class="external text" href="https://www.freecadweb.org/wiki/images/9/96/Macro_3d_Printer_Slicer.png" rel="nofollow">ToolBar Icon</a><br/>Auteur: cae2100<br/>
</td></tr>
<tr>
<th class="ctOdd">Auteur
</th></tr>
<tr>
<td class="ctEven macro-author"><a class="new" href="../index.php?title=User;Cae2100&amp;action=edit&amp;redlink=1.html" title="User:Cae2100 (page does not exist)">cae2100</a>
</td></tr>
<tr>
<th class="ctOdd">Téléchargement
</th></tr>
<tr>
<td class="ctEven macro-download"><a class="external text" href="https://www.freecadweb.org/wiki/images/9/96/Macro_3d_Printer_Slicer.png" rel="nofollow">ToolBar Icon</a>
</td></tr>
<tr>
<th class="ctOdd">Liens
</th></tr>
<tr>
<td class="ctEven macro-Links"><a href="../fr\Macros_recipes.html" title="Macros recipes/fr">Page des macros</a><br/><a href="../fr\How_to_install_macros.html" title="How to install macros/fr">Comment installer une macro</a><br/><a href="../fr\Customize_Toolbars.html" title="Customize Toolbars/fr">Comment créer une barre d'outils</a>
</td></tr>
<tr>
<th class="ctOdd">Version Macro
</th></tr>
<tr>
<td class="ctEven macro-version">1.0
</td></tr>
<tr>
<th class="ctOdd">Dernière modification
</th></tr>
<tr>
<td class="ctEven macro-date">2013-10-10
</td></tr>
<tr>
<th class="ctOdd">Version(s) FreeCAD
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">All
</td></tr>
<tr>
<th class="ctOdd">Raccourci clavier
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">Voir aussi
</th></tr>
<tr>
<td class="ctEven"><a href="../fr\Macro_3d_Printer_Slicer_Individual_Parts.html" title="Macro 3d Printer Slicer Individual Parts/fr">Macro 3d Printer Slicer Individual Parts</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_3d_Printer_Slicer_Individual_Parts.svg"><img decoding="async" height="24" src="../File/Macro_3d_Printer_Slicer_Individual_Parts.svg" width="24"/></a></span>
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Script"><span class="tocnumber">2</span> <span class="toctext">Script</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Credits"><span class="tocnumber">3</span> <span class="toctext">Credits</span></a></li>
</ul>
</div>
</td></tr>
</tbody></table>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>Copiez le code suivant, lorsqu'il est exécuté, il exporte le projet en fichier .STL pour l'ouvrir dans le logiciel de découpage en tranches que vous utilisez. Cet exemple est écrit pour le logiciel <b><a class="external text" href="http://kisslicer.com/" rel="nofollow">KISSlicer</a></b>, mais peut être modifié pour être utilisé avec <b><a class="external text" href="http://slic3r.org/" rel="nofollow">Slic3r</a></b>, <b><a class="external text" href="http://wiki.ultimaker.com/Cura" rel="nofollow">Cura</a></b> ou tout autre logiciel pour imprimante 3d. Il peut également être légèrement modifié pour être ouvert dans un logiciel de FAO pour machines CNC. 
</p><p>Il est préférable de créer un lien dans la barre d'outils qui pointe vers la macro, quand vous êtes prêt à trancher l'objet, cliquez simplement sur le bouton et votre objet sera affiché sur l'interface de votre logiciel de tranchage, tel qu'il apparaît dans l'écran de FreeCAD et prêt à être tranché. Il créera également un fichier .STL avec le même nom et dans le même répertoire que le fichier original.
</p><p><span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_3d_Printer_Slicer_00.png"><img decoding="async" height="303" src="../File/Macro_3d_Printer_Slicer_00.png" width="480"/></a></span>
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p>Le script peut être modifiés pour être utilisé avec n'importe quel logiciel de tranchage de votre choix, assurez-vous juste de modifier le script avant de l'exécuter, ou une erreur d'exécution de script sera signalée.
</p><p>ToolBar Icon <span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Macro_3d_Printer_Slicer.png"><img decoding="async" height="64" src="../File/Macro_3d_Printer_Slicer.png" width="64"/></a></span>
</p><p><b>Macro_3d_Printer_Slicer.py</b>
</p>
<pre>import FreeCAD
import Mesh
import sys
import math
import os
import subprocess
# some fuctions
def getPlacement(quat,vect,obj):
  if quat[3] &gt; -1  and quat[3] &lt; 1:
    delta = math.acos(quat[3])*2.0
    scale = math.sin(delta/2)
    rx = quat[0]/scale
    ry = quat[1]/scale
    rz = quat[2]/scale
  else:
    delta = 0
    rx = 0
    ry = 0
    rz = 1
  info0 = "translation "+str(vect.x)+" "+str(vect.y)+" "+str(vect.z)
  info1 = "rotation "+str(rx)+" "+str(ry)+" "+str(rz)+" "+str(delta)
  return info0+" "+info1
# some definitions
placement = App.Placement(App.Vector(0,0,0),App.Rotation(0,0,0,1))
# user need to set this directory where slicing software is located
OutDir = FreeCAD.ActiveDocument.FileName.replace(FreeCAD.ActiveDocument.Label + ".fcstd", "")
visible_objs = []
SLICER = "/kisslicer location/"                          # Put your Slicer program location here
os.chdir(SLICER)
# Get Objects in document
doc = App.ActiveDocument
objs = doc.Objects
# hide all
for obj in objs:
   if obj.ViewObject.isVisible():
      visible_objs.append(obj)
for obj in visible_objs:
  # get volume
  volume = obj.Shape.Volume
  # get Rotation and translation of volume
  quat = obj.Placement.Rotation.Q
  vect = obj.Placement.Base
  pinfo = getPlacement(quat,vect,obj)
  # reset placement, export it and set at original placement
  oldPlacement = obj.Placement
  obj.Placement = placement
  obj.Placement = oldPlacement   
stlFile = OutDir+str(doc.Label)+".stl"
Mesh.export(visible_objs,stlFile)
subprocess.Popen([SLICER + "KISSlicer", stlFile])</pre>
<h2><span class="mw-headline" id="Credits">Credits</span></h2>
<p>Merci à <a class="external text" href="http://forum.freecadweb.org/viewtopic.php?f=10&amp;t=4686" rel="nofollow">Wmayer</a> pour son aide dans la rédaction de ce script.
</p>
<div style="clear:both"></div>
<!-- 
NewPP limit report
Cached time: 20241214203427
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.053 seconds
Real time usage: 0.061 seconds
Preprocessor visited node count: 92/1000000
Post‐expand include size: 2383/2097152 bytes
Template argument size: 2309/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 2760/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    3.193      1 -total
 45.41%    1.450      1 Template:Macro/fr
 30.28%    0.967      1 Template:MacroCode
 16.95%    0.541      1 Template:Clear
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:11032-0!canonical and timestamp 20241214203427 and revision id 790952. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
