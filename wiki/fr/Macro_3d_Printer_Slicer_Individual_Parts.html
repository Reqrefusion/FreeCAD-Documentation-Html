<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Macro 3d Printer Slicer Individual Parts/fr</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Macro_3d_Printer_Slicer_Individual_Parts.html" lang="en" title="Macro 3d Printer Slicer Individual Parts (100% translated)">English</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="fr">français</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../it\Macro_3d_Printer_Slicer_Individual_Parts.html" lang="it" title="Macro 3d Printer Slicer Individual Parts (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../pl\Macro_3d_Printer_Slicer_Individual_Parts.html" lang="pl" title="Makrodefinicja: Druk 3d krajalnica, poszczególne części (14% translated)">polski</a></li></ul></div>
<table class="fcinfobox wikitable ct" style="float: right; width: 230px; margin-left: 10px;" width="100%">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_3d_Printer_Slicer_Individual_Parts.svg"><img decoding="async" height="32" src="../File/Macro_3d_Printer_Slicer_Individual_Parts.svg" width="32"/></a></span><span> </span>
Macro 3d Printer Slicer Individual Parts
</p>
</td></tr>
<tr>
<th class="ctOdd">Description
</th></tr>
<tr>
<td class="ctEven left macro-description">Exportation vers un logiciel de découpage pour imprimantes 3D basé sur une macro similaire par cae2100. Exporte un seul fichier stl pour chaque partie visible dans le même répertoire que le fichier de dessin original, puis l'ouvre dans le logiciel de découpage. <br/> Ce code, lorsqu'il est exécuté, exporte le dessin actuellement ouvert vers plusieurs fichiers STL, nommés d'après les étiquettes des pièces et ouvrez-le dans le logiciel de découpage que vous utilisez. La macro recherche <i> '<a class="external text" href="http://wiki.ultimaker.com/Cura" rel="nofollow">Cura</a>' </i> dans le chemin mais vous pouvez ajouter tout autre découpage en modifiant la chaîne dans la macro.<br/><br/>Version macro : 1.1<br/>Date dernière modification : 2020-10-30<br/>Version FreeCAD : All<br/>Téléchargement : <a class="external text" href="https://wiki.freecadweb.org/images/3/3d/Macro_3d_Printer_Slicer_Individual_Parts.svg" rel="nofollow">ToolBar Icon</a><br/>Auteur: WayofWood<br/>
</td></tr>
<tr>
<th class="ctOdd">Auteur
</th></tr>
<tr>
<td class="ctEven macro-author"><a class="new" href="../index.php?title=User;WayofWood&amp;action=edit&amp;redlink=1.html" title="User:WayofWood (page does not exist)">WayofWood</a>
</td></tr>
<tr>
<th class="ctOdd">Téléchargement
</th></tr>
<tr>
<td class="ctEven macro-download"><a class="external text" href="https://wiki.freecadweb.org/images/3/3d/Macro_3d_Printer_Slicer_Individual_Parts.svg" rel="nofollow">ToolBar Icon</a>
</td></tr>
<tr>
<th class="ctOdd">Liens
</th></tr>
<tr>
<td class="ctEven macro-Links"><a href="../fr\Macros_recipes.html" title="Macros recipes/fr">Page des macros</a><br/><a href="../fr\How_to_install_macros.html" title="How to install macros/fr">Comment installer une macro</a><br/><a href="../fr\Customize_Toolbars.html" title="Customize Toolbars/fr">Comment créer une barre d'outils</a>
</td></tr>
<tr>
<th class="ctOdd">Version Macro
</th></tr>
<tr>
<td class="ctEven macro-version">1.1
</td></tr>
<tr>
<th class="ctOdd">Dernière modification
</th></tr>
<tr>
<td class="ctEven macro-date">2020-10-30
</td></tr>
<tr>
<th class="ctOdd">Version(s) FreeCAD
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">All
</td></tr>
<tr>
<th class="ctOdd">Raccourci clavier
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">Voir aussi
</th></tr>
<tr>
<td class="ctEven"><a href="../fr\Macro_3d_Printer_Slicer.html" title="Macro 3d Printer Slicer/fr">Macro 3d Printer Slicer</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_3d_Printer_Slicer.png"><img decoding="async" height="24" src="../File/Macro_3d_Printer_Slicer.png" width="24"/></a></span>
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Script"><span class="tocnumber">2</span> <span class="toctext">Script</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Credits"><span class="tocnumber">3</span> <span class="toctext">Credits</span></a></li>
</ul>
</div>
</td></tr>
</tbody></table>
<p><br/>
</p>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>Ce code, lorsqu'il est exécuté, exportera les corps visibles au niveau supérieur (les corps plus profonds dans l'arborescence seront ignorés) de la conception actuellement ouverte vers des fichiers STL individuels, et les ouvrira dans le logiciel de découpage que vous utilisez. Cette macro recherchera <b><a class="external text" href="http://wiki.ultimaker.com/Cura" rel="nofollow">Cura</a></b> comme valeur par défaut, mais vous pouvez la remplacer par n'importe quel autre curseur en modifiant la variable SLICERAPP dans le code source. 
</p><p>Il est préférable de l'utiliser en créant un lien vers la macro dans la barre d'outils, et lorsque vous êtes prêt à découper l'objet, cliquez simplement dessus et vos objets, tels qu'ils apparaissent à l'écran dans FreeCAD apparaîtront sur l'interface de votre logiciel de découpage, prêts à découper. Il créera également plusieurs fichiers STL avec le même nom de fichier que le fichier de conception et l'étiquette de pièce dans le même répertoire que le fichier de conception.
</p><p><span typeof="mw:File"><a class="mw-file-description" href="../File/Screenshot_Cura_Example.png"><img decoding="async" height="349" src="../File/Screenshot_Cura_Example.png" width="480"/></a></span>
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p>La variable SLICERAPP peut être remplacée par n'importe quel logiciel de découpage de votre choix. Si un objet spécifique n'est pas exporté, vous devrez peut-être ajouter le type correspondant au tableau doexport.
</p><p>ToolBar Icon <span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_3d_Printer_Slicer_Individual_Parts.svg"><img decoding="async" height="64" src="../File/Macro_3d_Printer_Slicer_Individual_Parts.svg" width="64"/></a></span>
</p><p><b>Macro_3d_Printer_Slicer_Individual_Parts.py</b>
</p>
<pre>import FreeCAD
import Mesh
import sys
import math
import os
import subprocess

SLICERAPP= "cura"		 			# Put your Slicer program here

# some fuctions
def getPlacement(quat,vect,obj):
  if quat[3] &gt; -1  and quat[3] &lt; 1:
    delta = math.acos(quat[3])*2.0
    scale = math.sin(delta/2)
    rx = quat[0]/scale
    ry = quat[1]/scale
    rz = quat[2]/scale
  else:
    delta = 0
    rx = 0
    ry = 0
    rz = 1
  info0 = "translation "+str(vect.x)+" "+str(vect.y)+" "+str(vect.z)
  info1 = "rotation "+str(rx)+" "+str(ry)+" "+str(rz)+" "+str(delta)
  return info0+" "+info1
# some definitions
placement = App.Placement(App.Vector(0,0,0),App.Rotation(0,0,0,1))
# user need to set this directory where slicing software is located
OutDir = FreeCAD.ActiveDocument.FileName.replace(".FCStd", "--")
visible_objs = []
# Get Objects in document
doc = App.ActiveDocument
objs = doc.Objects
stlFile = ""
stlFiles = [ SLICERAPP ]
# hide all
for obj in objs:
   print(obj.Label + "//" + obj.TypeId)
   print(len(obj.InList))
   if obj.ViewObject.isVisible() and hasattr(obj, 'Shape') and (len(obj.InList) &lt;= 1):
      visible_objs.append(obj)
for obj in visible_objs:
  stlFile = OutDir+str(obj.Label)+".stl"
  Mesh.export([obj],stlFile)
  stlFiles.append(stlFile)
  print ("Exporting " + stlFile + "\n")
print ("Calling subprocess: " + str(stlFiles)+"\n")
subprocess.Popen(stlFiles)</pre>
<h2><span class="mw-headline" id="Credits">Credits</span></h2>
<p>Merci à cae2100 pour le développement du code macro d'origine - <a href="../fr\Macro_3d_Printer_Slicer.html" title="Macro 3d Printer Slicer/fr">également disponible ici</a>.<br/> 
Merci à <a class="external text" href="http://forum.freecadweb.org/viewtopic.php?f=10&amp;t=4686" rel="nofollow">Wmayer</a> pour son aide dans l'écriture de ce script.<br/>
Original forum topic: <a class="external free" href="http://forum.freecadweb.org/viewtopic.php?f=10&amp;t=4686" rel="nofollow">http://forum.freecadweb.org/viewtopic.php?f=10&amp;t=4686</a>
</p>
<div style="clear:both"></div>
<!-- 
NewPP limit report
Cached time: 20241214203913
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.044 seconds
Real time usage: 0.067 seconds
Preprocessor visited node count: 95/1000000
Post‐expand include size: 2906/2097152 bytes
Template argument size: 2621/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 2332/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    4.624      1 -total
 54.41%    2.516      1 Template:Macro/fr
 23.68%    1.095      1 Template:MacroCode
 14.21%    0.657      1 Template:Clear
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:222039-0!canonical and timestamp 20241214203913 and revision id 800555. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
