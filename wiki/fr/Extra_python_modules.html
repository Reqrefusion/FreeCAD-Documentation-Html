<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Extra python modules/fr</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../de\Extra_python_modules.html" lang="de" title="Zusätzliche Python Module (95% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Extra_python_modules.html" lang="en" title="Extra python modules (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../tr\Extra_python_modules.html" lang="tr" title="Extra python modules (1% translated)">Türkçe</a></li>
<li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="../es\Extra_python_modules.html" lang="es" title="Módulos extra de python (42% translated)">español</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="fr">français</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../it\Extra_python_modules.html" lang="it" title="Moduli Python aggiuntivi (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../pl\Extra_python_modules.html" lang="pl" title="Dodatkowe moduły Python (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../pt-br\Extra_python_modules.html" lang="pt-BR" title="Módulos python extras (3% translated)">português do Brasil</a></li>
<li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="../ro\Extra_python_modules.html" lang="ro" title="Module suplimentare de python (45% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../sv\Extra_python_modules.html" lang="sv" title="Extra python modules (24% translated)">svenska</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../cs\Extra_python_modules.html" lang="cs" title="Extra python modules (1% translated)">čeština</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../ru\Extra_python_modules.html" lang="ru" title="Дополнительные python модули (20% translated)">русский</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../fr\Workbench_creation.html" title="Workbench creation/fr">Création d'atelier</a></div>
<div style="margin: 4px 0; float: right;"><a href="../fr\Source_documentation.html" title="Source documentation/fr">Documentation du code source</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../fr\Online_Help_Toc.html" title="Online Help Toc/fr">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Présentation"><span class="tocnumber">1</span> <span class="toctext">Présentation</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#PySide"><span class="tocnumber">2</span> <span class="toctext">PySide</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Installation"><span class="tocnumber">2.1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#Linux"><span class="tocnumber">2.1.1</span> <span class="toctext">Linux</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="#Windows"><span class="tocnumber">2.1.2</span> <span class="toctext">Windows</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#MacOS"><span class="tocnumber">2.1.3</span> <span class="toctext">MacOS</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Utilisation"><span class="tocnumber">2.2</span> <span class="toctext">Utilisation</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Documentation_complémentaire"><span class="tocnumber">2.3</span> <span class="toctext">Documentation complémentaire</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Pivy"><span class="tocnumber">3</span> <span class="toctext">Pivy</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Installation_2"><span class="tocnumber">3.1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-3 tocsection-11"><a href="#Prérequis"><span class="tocnumber">3.1.1</span> <span class="toctext">Prérequis</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Debian_&amp;_Ubuntu"><span class="tocnumber">3.1.2</span> <span class="toctext">Debian &amp; Ubuntu</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Autres_distributions_Linux"><span class="tocnumber">3.1.3</span> <span class="toctext">Autres distributions Linux</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#MacOS_2"><span class="tocnumber">3.1.4</span> <span class="toctext">MacOS</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Windows_2"><span class="tocnumber">3.1.5</span> <span class="toctext">Windows</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#Utilisation_2"><span class="tocnumber">3.2</span> <span class="toctext">Utilisation</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Documentation_complémentaire_2"><span class="tocnumber">3.3</span> <span class="toctext">Documentation complémentaire</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#pyCollada"><span class="tocnumber">4</span> <span class="toctext">pyCollada</span></a>
<ul>
<li class="toclevel-2 tocsection-19"><a href="#Installation_3"><span class="tocnumber">4.1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-3 tocsection-20"><a href="#Linux_2"><span class="tocnumber">4.1.1</span> <span class="toctext">Linux</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="#AppImages_et_Snaps_Linux"><span class="tocnumber">4.1.2</span> <span class="toctext">AppImages et Snaps Linux</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="#Windows_3"><span class="tocnumber">4.1.3</span> <span class="toctext">Windows</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="#MacOS_3"><span class="tocnumber">4.1.4</span> <span class="toctext">MacOS</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href="#IfcOpenShell"><span class="tocnumber">5</span> <span class="toctext">IfcOpenShell</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#Installation_4"><span class="tocnumber">5.1</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="#Linux_3"><span class="tocnumber">5.1.1</span> <span class="toctext">Linux</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="#Windows_et_macOS"><span class="tocnumber">5.1.2</span> <span class="toctext">Windows et macOS</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-28"><a href="#Liens"><span class="tocnumber">5.2</span> <span class="toctext">Liens</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="#LazyLoader"><span class="tocnumber">6</span> <span class="toctext">LazyLoader</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="#Installation_5"><span class="tocnumber">6.1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="#Utilisation_3"><span class="tocnumber">6.2</span> <span class="toctext">Utilisation</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Liens_2"><span class="tocnumber">6.3</span> <span class="toctext">Liens</span></a></li>
</ul>
</li>
</ul>
</div>
</div>
<p><span id="Overview"></span>
</p>
<h2><span id="Pr.C3.A9sentation"></span><span class="mw-headline" id="Présentation">Présentation</span></h2>
<p>Cette page contient plusieurs modules Python supplémentaires ou d'autres bouts de code qui peuvent être téléchargés gratuitement sur Internet, et ajouter des fonctionnalités à votre installation de FreeCAD.
</p><p><span id="PySide"></span>
</p>
<h2><span class="mw-headline" id="PySide">PySide</span></h2>
<ul><li><a class="external text" href="https://contribute.qt-project.org/wiki/PySide" rel="nofollow">Page officielle PySide</a></li>
<li>Licence : LGPL</li>
<li>Optionnel, plusieurs modules sont nécessaires et d'autres modules peuvent être ajoutés : Draft, BIM, Ship, Plot, OpenSCAD, Spreadsheet</li></ul>
<p>PySide est requise par tous les modules de FreeCAD et pour accéder à l'interface Qt de FreeCAD. Il est déjà livré dans dans les versions FreeCAD, et est généralement installé automatiquement par FreeCAD sur Linux, l'installation peut se faire à partir des dépôts officiels. Si ces modules (Draft, BIM, etc) sont activés après l'installation de FreeCAD, cela signifie que PySide (auparavant PyQt) est déjà installé, et vous n'avez pas besoin de faire quoi que ce soit de plus.
</p><p><b>Remarque :</b> FreeCAD s'est progressivement éloigné de PyQt après la version 0.13, en faveur de <a class="external text" href="http://qt-project.org/wiki/PySide" rel="nofollow">PySide</a>, qui fait exactement le même travail mais a une licence (LGPL) plus compatible avec FreeCAD.
</p><p><span id="Installation"></span>
</p>
<h3><span class="mw-headline" id="Installation">Installation</span></h3>
<h4><span class="mw-headline" id="Linux">Linux</span></h4>
<p>La manière la plus simple d'installer PySide est de passer par le gestionnaire de paquets de votre distribution. Sur les systèmes Debian/Ubuntu, le nom du paquet est généralement <i>python-PySide</i>, tandis que sur les systèmes basés sur RPM, il est nommé <i>pyside</i>. Les dépendances nécessaires (Qt et SIP) seront prises en charge automatiquement.
</p>
<h4><span class="mw-headline" id="Windows">Windows</span></h4>
<p>Le programme peut être téléchargé à partir <a class="external text" href="http://qt-project.org/wiki/Category:LanguageBindings::PySide::Downloads" rel="nofollow">PySide Downloads</a>. Vous aurez besoin d'installer les bibliothèques Qt et SIP avant d'installer PySide (à documenter).
</p>
<h4><span class="mw-headline" id="MacOS">MacOS</span></h4>
<p>PySide sur Mac peut être installé via homebrew ou port. Voir <a href="../fr\Compile_on_MacOS.html#Installation_des_dépendances" title="Compile on MacOS/fr">Installation des dépendances</a>.
</p><p><span id="Usage"></span>
</p>
<h3><span class="mw-headline" id="Utilisation">Utilisation</span></h3>
<p>Une fois installé, vous pouvez vérifier que tout fonctionne en tapant dans la console Python de FreeCAD :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">PySide</span>
</pre></div>
<p>Pour accéder à l'interface de FreeCAD, tapez :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtCore</span><span class="p">,</span><span class="n">QtGui</span>
<span class="n">FreeCADWindow</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">getMainWindow</span><span class="p">()</span>
</pre></div>
<p>Vous pouvez maintenant commencer à explorer l'interface avec la commande dir(). Vous pouvez ajouter de nouveaux éléments, comme un widget personnalisé, avec des commandes comme :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCADWindow</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">QtCore</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RghtDockWidgetArea</span><span class="p">,</span><span class="n">my_custom_widget</span><span class="p">)</span>
</pre></div>
<p>Travailler avec Unicode :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">'utf-8'</span><span class="p">)</span>
</pre></div>
<p>Travailler avec QFileDialog et OpenFileName :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ConfigGet</span><span class="p">(</span><span class="s2">"AppHomePath"</span><span class="p">)</span>
<span class="c1">#path = FreeCAD.ConfigGet("UserAppData")</span>
<span class="n">OpenName</span><span class="p">,</span> <span class="n">Filter</span> <span class="o">=</span> <span class="n">PySide</span><span class="o">.</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getOpenFileName</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">"Read a txt file"</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s2">"*.txt"</span><span class="p">)</span>
</pre></div>
<p>Travailler avec QFileDialog et SaveFileName :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ConfigGet</span><span class="p">(</span><span class="s2">"AppHomePath"</span><span class="p">)</span>
<span class="c1">#path = FreeCAD.ConfigGet("UserAppData")</span>
<span class="n">SaveName</span><span class="p">,</span> <span class="n">Filter</span> <span class="o">=</span> <span class="n">PySide</span><span class="o">.</span><span class="n">QtGui</span><span class="o">.</span><span class="n">QFileDialog</span><span class="o">.</span><span class="n">getSaveFileName</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">"Save a file txt"</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s2">"*.txt"</span><span class="p">)</span>
</pre></div>
<p><span id="Additional_documentation"></span>
</p>
<h3><span id="Documentation_compl.C3.A9mentaire"></span><span class="mw-headline" id="Documentation_complémentaire">Documentation complémentaire</span></h3>
<ul><li><a class="external text" href="https://doc.qt.io/qt.html#qtforpython" rel="nofollow">Site de la documentation officielle de Qt</a></li></ul>
<h2><span class="mw-headline" id="Pivy">Pivy</span></h2>
<ul><li>Page d'accueil : <a class="external text" href="https://www.coin3d.org/" rel="nofollow">https://www.coin3d.org/</a></li>
<li>Licence : BSD</li>
<li>Optionnel mais nécessaire pour plusieurs modules de FreeCAD : Draft, BIM</li></ul>
<p>Pivy est un module nécessaire pour accéder à la vue 3D de FreeCAD. Sous Windows, Pivy est déjà inclus dans le programme d'installation de FreeCAD, et sous Linux, il est généralement installé automatiquement lorsque vous installez FreeCAD à partir d'un dépôt officiel. Sur macOS, malheureusement, vous devrez compiler Pivy vous-même.
</p>
<h3><span class="mw-headline" id="Installation_2">Installation</span></h3>
<p><span id="Prerequisites"></span>
</p>
<h4><span id="Pr.C3.A9requis"></span><span class="mw-headline" id="Prérequis">Prérequis</span></h4>
<p>Je pense qu'avant de compiler Pivy, vous devrez installer Coin et SoQt.
</p><p>J'ai constaté que pour construire sur Mac, il suffisait d'installer le <a class="external text" href="http://www.coin3d.org/lib/plonesoftwarecenter_view" rel="nofollow">Coin3 binaire</a>. Tenter d'installer Coin à partir de MacPorts s'est avéré problématique : j'ai essayé d'ajouter un grand nombre de paquets X Windows et j'ai fini par me planter avec une erreur de script.
</p><p>Pour Fedora, j'ai trouvé un RPM avec Coin3.
</p><p>SoQt compilé à partir de la <a class="external text" href="http://www.coin3d.org/lib/soqt/releases/1.5.0" rel="nofollow">source</a> fonctionne bien sur Mac et Linux.
</p>
<h4><span id="Debian_.26_Ubuntu"></span><span class="mw-headline" id="Debian_&amp;_Ubuntu">Debian &amp; Ubuntu</span></h4>
<p>À partir de Debian Squeeze et Ubuntu Lucid, pivy sera disponible directement depuis les dépôts officiels, ce qui nous évitera bien des tracas. En attendant, vous pouvez soit télécharger l'un des paquets que nous avons mis à disposition (pour Debian et Ubuntu Karmic) sur les pages de <a href="../fr\Download.html" title="Download/fr">téléchargements</a>, soit le compiler vous-même.
</p><p>La meilleure façon de compiler pivy facilement est de récupérer le paquet source debian pour pivy et de faire un paquet avec debuild. Il s'agit du même code source que celui du site officiel de pivy, mais les gens de debian ont fait plusieurs ajouts pour corriger des bogues. Il se compile également très bien sur ubuntu karmic : <a class="external free" href="http://packages.debian.org/squeeze/python-pivy" rel="nofollow">http://packages.debian.org/squeeze/python-pivy</a> téléchargez le fichier .orig.gz et le fichier .diff.gz, puis décompressez les deux, et appliquez le .diff au source : allez dans le dossier source décompressé de pivy, et appliquez le patch .diff :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">patch</span> <span class="o">-</span><span class="n">p1</span> <span class="o">&lt;</span> <span class="o">../</span><span class="n">pivy_0</span><span class="mf">.5.0</span><span class="o">~</span><span class="n">svn765</span><span class="o">-</span><span class="mf">2.</span><span class="n">diff</span>
</pre></div>
<p>alors
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">debuild</span>
</pre></div>
<p>pour que pivy soit correctement intégré dans un paquetage installable officiel. Ensuite, il suffit d'installer le paquet avec gdebi.
</p><p><span id="Other_Linux_distributions"></span>
</p>
<h4><span class="mw-headline" id="Autres_distributions_Linux">Autres distributions Linux</span></h4>
<p>D'abord, téléchargez les dernières sources du <a class="external text" href="https://github.com/coin3d/pivy" rel="nofollow">dépôt du projet</a> :
</p><p>Informations à ajouter.
</p><p>En Mars 2012, la dernière version était pivy-0.5.
</p><p>Ensuite, vous avez besoin d'un outil appelé SWIG pour générer le code C++ pour les liaisons Python. Pivy-0.5 indique qu'il n'a été testé qu'avec SWIG 1.3.31, 1.3.33, 1.3.35, et 1.3.40. Vous pouvez donc télécharger une archive des sources pour l'une de ces anciennes versions à partir de <a class="external text" href="http://www.swig.org" rel="nofollow">http://www.swig.org</a>. Ensuite, décompressez-la et, à partir d'une ligne de commande, faites (en tant que root) :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">./</span><span class="n">configure</span>
<span class="n">make</span>
<span class="n">make</span> <span class="n">install</span> <span class="p">(</span><span class="ow">or</span> <span class="n">checkinstall</span> <span class="k">if</span> <span class="n">you</span> <span class="n">use</span> <span class="n">it</span><span class="p">)</span>
</pre></div>
<p>Il faut quelques secondes pour la compilation.
</p><p>Vous pouvez également essayer de compiler avec un SWIG plus récent. Depuis mars 2012, une version standard du dépôt est la 2.0.4. Pivy a un problème mineur de compilation avec SWIG 2.0.4 sur macOS (voir ci-dessous) mais semble se compiler correctement sur Fedora Core 15.
</p><p>Ensuite, allez dans les sources de Pivy et tapez :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span>
</pre></div>
<p>ce qui crée les fichiers sources. Notez que la compilation peut produire des milliers d'avertissements, mais avec un peu de chance, il n'y aura pas d'erreurs.
</p><p>C'est probablement obsolète, mais vous pouvez rencontrer une erreur du compilateur lorsqu'un "const char*" ne peut pas être converti en un "char*". Pour corriger cela, il suffit d'écrire un "const" avant dans les lignes appropriées. Il y a six lignes à corriger.
</p><p>Après cela, installez (en tant que root) :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span> <span class="p">(</span><span class="ow">or</span> <span class="n">checkinstall</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span><span class="p">)</span>
</pre></div>
<p>Ça y est, pivy est installé.
</p>
<h4><span class="mw-headline" id="MacOS_2">MacOS</span></h4>
<p>Ces instructions peuvent ne pas être complètes. Quelque chose d'approchant a fonctionné pour OS 10.7 à partir de mars 2012. J'utilise MacPorts pour les dépôts, mais d'autres options devraient également fonctionner.
</p><p>En ce qui concerne linux, téléchargez les dernières sources :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">hg</span> <span class="n">clone</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">hg</span><span class="o">.</span><span class="n">sim</span><span class="o">.</span><span class="n">no</span><span class="o">/</span><span class="n">Pivy</span><span class="o">/</span><span class="n">default</span> <span class="n">Pivy</span>
</pre></div>
<p>Si vous n'avez pas hg, vous pouvez l'obtenir sur MacPorts :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">port</span> <span class="n">install</span> <span class="n">mercurial</span>
</pre></div>
<p>Ensuite, comme ci-dessus, vous avez besoin de SWIG. Il devrait s'agir d'une question de :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">port</span> <span class="n">install</span> <span class="n">swig</span>
</pre></div>
<p>J'ai trouvé que j'avais besoin aussi de faire :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">port</span> <span class="n">install</span> <span class="n">swig</span><span class="o">-</span><span class="n">python</span>
</pre></div>
<p>En mars 2012, MacPorts SWIG est en version 2.0.4. Comme indiqué ci-dessus pour linux, il est préférable de télécharger une version plus ancienne. SWIG 2.0.4 semble avoir un bug qui arrête la construction de Pivy. Voir le premier message de ce <a class="external text" href="https://sourceforge.net/mailarchive/message.php?msg_id=28114815" rel="nofollow">digest</a>.
</p><p>Cela peut être corrigé en modifiant les deux sources pour ajouter des déréférences : *arg4, *arg5 à la place de arg4, arg5. Maintenant nous pouvons  compiler Pivy :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span>
<span class="n">sudo</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
<h4><span class="mw-headline" id="Windows_2">Windows</span></h4>
<p>Si vous utilisez Visual Studio 2005 ou une version ultérieure, vous devez ouvrir une fenêtre de commande en cliquant sur "Visual Studio 2005 Command prompt" dans le menu Outils. Si l'interpréteur Python ne se trouve pas encore dans le chemin d'accès du système, procédez comme suit
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">set</span> <span class="n">PATH</span><span class="o">=</span><span class="n">path_to_python_3</span><span class="o">.</span><span class="n">x</span><span class="p">;</span><span class="o">%</span><span class="n">PATH</span><span class="o">%</span>
</pre></div>
<p>Pour faire fonctionner pivy, vous devez obtenir les dernières sources depuis le dépôt du projet :
</p><p>Informations à ajouter.
</p><p>Ensuite, vous avez besoin d'un outil appelé SWIG pour générer le code C++ pour les liaisons Python. Il est recommandé d'utiliser la version 1.3.25 de SWIG, et non la dernière version, car pour l'instant, pivy ne fonctionne correctement qu'avec la version 1.3.25. Téléchargez les binaires pour la version 1.3.25 à partir de <a class="external text" href="http://www.swig.org" rel="nofollow">http://www.swig.org</a>. Décompressez-les et ajoutez-les au chemin d'accès du système à partir de la ligne de commande
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">set</span> <span class="n">PATH</span><span class="o">=</span><span class="n">path_to_swig_1</span><span class="mf">.3.25</span><span class="p">;</span><span class="o">%</span><span class="n">PATH</span><span class="o">%</span>
</pre></div>
<p>et définir le chemin approprié de COINDIR :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">set</span> <span class="n">COINDIR</span><span class="o">=</span><span class="n">path_to_coin</span>
</pre></div>
<p>Sous Windows, le fichier de configuration de pivy prévoit par défaut SoWin au lieu de SoQt. Je n'ai pas trouvé de moyen évident de construire avec SoQt, j'ai donc modifié le fichier setup.py directement. A la ligne 200, il suffit de supprimer la partie "sowin" : ("gui._sowin", "sowin-config", "pivy.gui.") (ne pas supprimer la parenthèse fermante).
</p><p>Ensuite, allez dans les sources de Pivy et tapez :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">build</span>
</pre></div>
<p>qui crée les fichiers sources. Il se peut que vous rencontriez une erreur du compilateur, plusieurs fichiers d'en-tête n'ayant pu être trouvés. Dans ce cas, ajustez la variable INCLUDE
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">set</span> <span class="n">INCLUDE</span><span class="o">=%</span><span class="n">INCLUDE</span><span class="o">%</span><span class="p">;</span><span class="n">path_to_coin_include_dir</span>
</pre></div>
<p>et si les en-têtes SoQt ne sont pas au même endroit que les en-têtes Coin également
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">set</span> <span class="n">INCLUDE</span><span class="o">=%</span><span class="n">INCLUDE</span><span class="o">%</span><span class="p">;</span><span class="n">path_to_soqt_include_dir</span>
</pre></div>
<p>et enfin les en-têtes Qt
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">set</span> <span class="n">INCLUDE</span><span class="o">=%</span><span class="n">INCLUDE</span><span class="o">%</span><span class="p">;</span><span class="n">path_to_pyside</span>\<span class="n">include</span>\<span class="n">Qt</span>
</pre></div>
<p>Si vous utilisez Express Edition of Visual Studio, il se peut que vous obteniez une exception Python keyerror. Dans ce cas, vous devez modifier quelques éléments du fichier msvccompiler.py situé dans votre installation Python.
</p><p>Aller à la ligne 122 et remplacez la ligne :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">vsbase</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">"Software\Microsoft\VisualStudio\</span><span class="si">%0.1f</span><span class="s2">"</span> <span class="o">%</span> <span class="n">version</span>
</pre></div>
<p>par
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">vsbase</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">"Software\Microsoft\VCExpress\</span><span class="si">%0.1f</span><span class="s2">"</span> <span class="o">%</span> <span class="n">version</span>
</pre></div>
<p>Réessayez ensuite. Si vous obtenez une deuxième erreur du type
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">error</span><span class="p">:</span> <span class="n">Python</span> <span class="n">was</span> <span class="n">built</span> <span class="k">with</span> <span class="n">Visual</span> <span class="n">Studio</span> <span class="mi">2003</span><span class="p">;</span><span class="o">...</span>
</pre></div>
<p>vous devez également remplacer la ligne 128
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">set_macro</span><span class="p">(</span><span class="s2">"FrameworkSDKDir"</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="s2">"sdkinstallrootv1.1"</span><span class="p">)</span>
</pre></div>
<p>par
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">set_macro</span><span class="p">(</span><span class="s2">"FrameworkSDKDir"</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="s2">"sdkinstallrootv2.0"</span><span class="p">)</span>
</pre></div>
<p>Réessayez une nouvelle fois. Si vous obtenez à nouveau une erreur du type
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">error</span><span class="p">:</span> <span class="n">Python</span> <span class="n">was</span> <span class="n">built</span> <span class="k">with</span> <span class="n">Visual</span> <span class="n">Studio</span> <span class="n">version</span> <span class="mf">8.0</span><span class="p">,</span> <span class="ow">and</span> <span class="n">extensions</span> <span class="n">need</span> <span class="n">to</span> <span class="n">be</span> <span class="n">built</span> <span class="k">with</span> <span class="n">the</span> <span class="n">same</span> <span class="n">version</span> <span class="n">of</span> <span class="n">the</span> <span class="n">compiler</span><span class="p">,</span> <span class="n">but</span> <span class="n">it</span> <span class="n">isn</span><span class="s1">'t installed.</span>
</pre></div>
<p>Vous devez alors vérifier les variables d'environnement DISTUTILS_USE_SDK et MSSDK avec
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">echo</span> <span class="o">%</span><span class="n">DISTUTILS_USE_SDK</span><span class="o">%</span>
<span class="n">echo</span> <span class="o">%</span><span class="n">MSSDK</span><span class="o">%</span>
</pre></div>
<p>S'il n'est pas encore arrangé, il suffit de le définir, par exemple à 1.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="nb">set</span> <span class="n">DISTUTILS_USE_SDK</span><span class="o">=</span><span class="mi">1</span>
<span class="nb">set</span> <span class="n">MSSDK</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
<p>Il se peut que vous rencontriez une erreur du compilateur lorsqu'un "const char*" ne peut pas être converti en "char*". Pour corriger cette erreur, il suffit d'écrire un "const" avant les lignes appropriées. Il y a six lignes à corriger. Après cela, copiez le répertoire pivy généré à un endroit où l'interpréteur Python de FreeCAD peut le trouver.
</p><p><span id="Usage"></span>
</p>
<h3><span class="mw-headline" id="Utilisation_2">Utilisation</span></h3>
<p>Pour vérifier si Pivy est correctement installé :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">pivy</span>
</pre></div>
<p>Pour avoir accès à Pivy à partir de la scénographique de FreeCAD, procédez comme ceci :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">pivy</span> <span class="kn">import</span> <span class="n">coin</span>
<span class="n">App</span><span class="o">.</span><span class="n">newDocument</span><span class="p">()</span> <span class="c1"># Open a document and a view</span>
<span class="n">view</span> <span class="o">=</span> <span class="n">Gui</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">ActiveView</span>
<span class="n">FCSceneGraph</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">getSceneGraph</span><span class="p">()</span> <span class="c1"># returns a pivy Python object that holds a SoSeparator, the main "container" of the Coin scenegraph</span>
<span class="n">FCSceneGraph</span><span class="o">.</span><span class="n">addChild</span><span class="p">(</span><span class="n">coin</span><span class="o">.</span><span class="n">SoCube</span><span class="p">())</span> <span class="c1"># add a box to scene</span>
</pre></div>
<p>Vous pouvez maintenant explorer le FCSceneGraph à l'aide de la commande dir().
</p><p><span id="Additonal_Documentation"></span>
</p>
<h3><span id="Documentation_compl.C3.A9mentaire_2"></span><span class="mw-headline" id="Documentation_complémentaire_2">Documentation complémentaire</span></h3>
<p>Malheureusement, la documentation sur pivy est encore presque inexistante sur le net. Mais vous pourriez trouver la documentation Coin utile, puisque pivy traduit simplement les fonctions de Coin, les noeuds et les méthodes en Python, tout en gardant le même nom et les mêmes propriétés, en gardant à l'esprit la différence de syntaxe entre le C et Python :
</p>
<ul><li><a class="external free" href="https://github.com/coin3d/coin/wiki/Documentation" rel="nofollow">https://github.com/coin3d/coin/wiki/Documentation</a> - Coin3D API Reference</li>
<li><a class="external free" href="http://www-evasion.imag.fr/~Francois.Faure/doc/inventorMentor/sgi_html/index.html" rel="nofollow">http://www-evasion.imag.fr/~Francois.Faure/doc/inventorMentor/sgi_html/index.html</a> - The Inventor Mentor - La "bible" de Inventor langage de description de scène.</li></ul>
<p>Vous pouvez également consulter le fichier Draft.py dans le dossier FreeCAD Mod/Draft, car il utilise beaucoup pivy.
</p>
<h2><span class="mw-headline" id="pyCollada">pyCollada</span></h2>
<ul><li>Page d'accueil : <a class="external free" href="https://pycollada.github.io" rel="nofollow">https://pycollada.github.io</a></li>
<li>Licence : BSD</li>
<li>Optionnel, nécessaire pour permettre l'importation et l'exportation de fichiers Collada (.DAE)</li></ul>
<p>pyCollada est une bibliothèque Python qui permet aux programmes de lire et d'écrire des fichiers <a class="external text" href="https://fr.wikipedia.org/wiki/Collaborative_Design_Activity" rel="nofollow">Collada (*.DAE)</a>. Lorsque pyCollada est installé sur votre système, FreeCAD sera en mesure de gérer l'importation et l'exportation dans le format de fichier Collada.
</p><p><span id="Installation"></span>
</p>
<h3><span class="mw-headline" id="Installation_3">Installation</span></h3>
<h4><span class="mw-headline" id="Linux_2">Linux</span></h4>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">python3</span><span class="o">-</span><span class="n">collada</span>
</pre></div>
<p>Vous pouvez vérifier si pycollada a été correctement installé en émettant dans une console Python :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">collada</span>
</pre></div>
<p>S'il ne renvoie rien (pas de message d'erreur), tout va bien.
</p><p><span id="Linux_AppImages_and_Snaps"></span>
</p>
<h4><span class="mw-headline" id="AppImages_et_Snaps_Linux">AppImages et Snaps Linux</span></h4>
<p>Collez ce code dans la <a href="../fr\Python_console.html" title="Python console/fr">console Python</a> :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">addonmanager_utilities</span> <span class="k">as</span> <span class="nn">utils</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">os</span>

<span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">utils</span><span class="p">,</span> <span class="s2">"get_python_exe"</span><span class="p">):</span>
    <span class="c1"># For v0.21:</span>
    <span class="n">python_exe</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_python_exe</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># For v0.22/v1.0:</span>
    <span class="kn">from</span> <span class="nn">freecad.utils</span> <span class="kn">import</span> <span class="n">get_python_exe</span>

<span class="n">python_exe</span> <span class="o">=</span> <span class="n">get_python_exe</span><span class="p">()</span>
<span class="n">vendor_path</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">get_pip_target_directory</span><span class="p">()</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">vendor_path</span><span class="p">):</span>
    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">vendor_path</span><span class="p">)</span>

<span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="n">python_exe</span><span class="p">,</span>
        <span class="s2">"-m"</span><span class="p">,</span>
        <span class="s2">"pip"</span><span class="p">,</span>
        <span class="s2">"install"</span><span class="p">,</span>
        <span class="s2">"--disable-pip-version-check"</span><span class="p">,</span>
        <span class="s2">"--target"</span><span class="p">,</span>
        <span class="n">vendor_path</span><span class="p">,</span>
        <span class="s2">"pycollada"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
    <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
    <span class="n">timeout</span><span class="o">=</span><span class="mi">120</span><span class="p">,</span>
    <span class="n">check</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
<h4><span class="mw-headline" id="Windows_3">Windows</span></h4>
<p>Pycollada est inclus sur Windows depuis la version 0.15 et dans les versions de développement de FreeCAD, donc aucune étape supplémentaire n'est nécessaire.
</p>
<h4><span class="mw-headline" id="MacOS_3">MacOS</span></h4>
<p>Si vous utilisez l'accumulation des Homebrew FreeCAD vous pouvez installer pycollada dans votre système Python en utilisant pip.
</p><p>Si vous devez installer pip:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="err">$</span> <span class="n">sudo</span> <span class="n">easy_install</span> <span class="n">pip</span>
</pre></div>
<p>Installer pycollada:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="err">$</span> <span class="n">sudo</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">pycollada</span>
</pre></div>
<p>Si vous utilisez une version binaire de FreeCAD, vous pouvez dire pip installez pycollada dans le site-packages à l'intérieur FreeCAD.app:
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="err">$</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">target</span><span class="o">=</span><span class="s2">"/Applications/FreeCAD.app/Contents/lib/python3.x/site-packages"</span> <span class="n">pycollada</span>
</pre></div>
<p>ou après avoir téléchargé le code pycollada
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="err">$</span> <span class="n">export</span> <span class="n">PYTHONPATH</span><span class="o">=/</span><span class="n">Applications</span><span class="o">/</span><span class="n">FreeCAD</span>\ <span class="mf">0.16.6706</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="n">Contents</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="n">x</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="p">:</span><span class="err">$</span><span class="n">PYTHONPATH</span>
<span class="err">$</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span> <span class="o">--</span><span class="n">prefix</span><span class="o">=/</span><span class="n">Applications</span><span class="o">/</span><span class="n">FreeCAD</span>\ <span class="mf">0.2</span><span class="n">x</span><span class="o">.</span><span class="n">yyyy</span><span class="o">.</span><span class="n">app</span><span class="o">/</span><span class="n">Contents</span>
</pre></div>
<h2><span class="mw-headline" id="IfcOpenShell">IfcOpenShell</span></h2>
<ul><li>Page d'accueil : <a class="external free" href="http://www.ifcopenshell.org" rel="nofollow">http://www.ifcopenshell.org</a></li>
<li>Licence : LGPL</li>
<li>Optionnel, nécessaire pour étendre les capacités d'importation des fichiers IFC</li></ul>
<p>IFCOpenShell est une bibliothèque en cours de développement qui permet d'importer (et bientôt d'exporter) des fichiers <a class="external text" href="http://fr.wikipedia.org/wiki/Industry_Foundation_Classes" rel="nofollow">IFC</a>. IFC est une extension du format STEP et devient la norme dans les flux de travail <a class="external text" href="http://fr.wikipedia.org/wiki/Building_Information_Modeling" rel="nofollow">BIM</a>. Lorsque ifcopenshell est correctement installé sur votre système, l'<a href="../fr\BIM_Workbench.html" title="BIM Workbench/fr">atelier BIM</a> de FreeCAD le détecte et l'utilise pour importer des fichiers IFC, au lieu de son importateur rudimentaire intégré. Comme ifcopenshell est basé sur OpenCasCade, comme FreeCAD, la qualité de l'importation est très élevée, produisant une géométrie solide de haute qualité.
</p><p><span id="Installation"></span>
</p>
<h3><span class="mw-headline" id="Installation_4">Installation</span></h3>
<h4><span class="mw-headline" id="Linux_3">Linux</span></h4>
<p>Les instructions d'installation sont disponibles <a class="external text" href="https://docs.ifcopenshell.org/ifcopenshell-python/installation.html" rel="nofollow">ici</a>.
</p><p>Vous pouvez vérifier que ifcopenshell a été correctement installé en lançant une commande dans une console Python :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">ifcopenshell</span>
</pre></div>
<p>Si la commande ne retourne aucun message d'erreur, alors tout est OK.
</p><p><span id="Windows_and_macOS"></span>
</p>
<h4><span class="mw-headline" id="Windows_et_macOS">Windows et macOS</span></h4>
<p>IfcOpenShell est inclus à la fois dans la version de FreeCAD et dans les versions pour développeurs, de sorte qu'aucune étape supplémentaire n'est nécessaire.
</p><p><span id="Links"></span>
</p>
<h3><span class="mw-headline" id="Liens">Liens</span></h3>
<p>Tutoriel <a href="../fr\Import_Export_IFC_-_compiling_IfcOpenShell.html" title="Import/Export IFC - compiling IfcOpenShell/fr">Importer/Exporter IFC - compiler IfcOpenShell</a>
</p>
<h2><span class="mw-headline" id="LazyLoader">LazyLoader</span></h2>
<p>LazyLoader est un module Python qui permet un chargement différé, tout en continuant à importer en haut du script. C'est utile si vous importez un autre module qui est lent et qui est utilisé plusieurs fois dans le script. L'utilisation de LazyLoader peut améliorer les temps de démarrage d'un atelier mais le module devra toujours être chargé lors de la première utilisation.
</p><p><span id="Installation"></span>
</p>
<h3><span class="mw-headline" id="Installation_5">Installation</span></h3>
<p>LazyLoader est inclus avec FreeCAD v0.19.
</p><p><span id="Usage"></span>
</p>
<h3><span class="mw-headline" id="Utilisation_3">Utilisation</span></h3>
<p>Vous devrez importer LazyLoader puis modifier l'importation du module que vous souhaitez différer.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">lazy_loader.lazy_loader</span> <span class="kn">import</span> <span class="n">LazyLoader</span>
<span class="n">Part</span> <span class="o">=</span> <span class="n">LazyLoader</span><span class="p">(</span><span class="s1">'Part'</span><span class="p">,</span> <span class="nb">globals</span><span class="p">(),</span> <span class="s1">'Part'</span><span class="p">)</span>
</pre></div>
<p>La variable Part est la façon dont le module est nommé dans votre script. Vous pouvez répliquer "import Part as P" (importer une pièce en P) en modifiant la variable.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">P</span> <span class="o">=</span> <span class="n">LazyLoader</span><span class="p">(</span><span class="s1">'Part'</span><span class="p">,</span> <span class="nb">globals</span><span class="p">(),</span> <span class="s1">'Part'</span><span class="p">)</span>
</pre></div>
<p>Vous pouvez également importer un module à partir d'un package.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">utils</span> <span class="o">=</span> <span class="n">LazyLoader</span><span class="p">(</span><span class="s1">'PathScripts'</span><span class="p">,</span> <span class="nb">globals</span><span class="p">(),</span> <span class="s1">'PathScripts.PathUtils'</span><span class="p">)</span>
</pre></div>
<p>Vous ne pouvez pas importer des fonctions individuelles, seulement des modules entiers.
</p><p><span id="Links"></span>
</p>
<h3><span class="mw-headline" id="Liens_2">Liens</span></h3>
<ul><li>Source d'origine : <a class="external free" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/util/lazy_loader.py" rel="nofollow">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/util/lazy_loader.py</a></li>
<li>Plus d'explications : <a class="external free" href="https://wil.yegelwel.com/lazily-importing-python-modules/" rel="nofollow">https://wil.yegelwel.com/lazily-importing-python-modules/</a></li>
<li>Code dans le code source de FreeCAD : <a class="external free" href="https://github.com/FreeCAD/FreeCAD/tree/master/src/3rdParty/lazy_loader" rel="nofollow">https://github.com/FreeCAD/FreeCAD/tree/master/src/3rdParty/lazy_loader</a></li>
<li>Discussion du forum : <a class="external free" href="https://forum.freecadweb.org/viewtopic.php?f=10&amp;t=45298" rel="nofollow">https://forum.freecadweb.org/viewtopic.php?f=10&amp;t=45298</a></li></ul>
<p><br/>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="../fr\Workbench_creation.html" title="Workbench creation/fr">Création d'atelier</a></div>
<div style="margin: 4px 0; float: right;"><a href="../fr\Source_documentation.html" title="Source documentation/fr">Documentation du code source</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="../fr\Online_Help_Toc.html" title="Online Help Toc/fr">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="../File/User_hub.png"><img decoding="async" height="24" src="../File/User_hub.png" width="24"/></a></span> <a href="../fr\User_hub.html" title="User hub/fr">Hub utilisateurs</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b><a href="../fr\Getting_started.html" title="Getting started/fr">Démarrer avec FreeCAD</a></b></li>
<li><b>Installation :</b> <a href="../fr\Download.html" title="Download/fr">Téléchargements</a>, <a href="../fr\Installing_on_Windows.html" title="Installing on Windows/fr">Windows</a>, <a href="../fr\Installing_on_Linux.html" title="Installing on Linux/fr">Linux</a>, <a href="../fr\Installing_on_Mac.html" title="Installing on Mac/fr">Mac</a>, <a href="../fr\Installing_additional_components.html" title="Installing additional components/fr">Logiciels supplémentaires</a>, <a href="../fr\Compile_on_Docker.html" title="Compile on Docker/fr">Docker</a>, <a href="../fr\AppImage.html" title="AppImage/fr">AppImage</a>, <a href="../fr\Ubuntu_Snap.html" title="Ubuntu Snap/fr">Ubuntu Snap</a></li>
<li><b>Bases :</b> <a href="../fr\About_FreeCAD.html" title="About FreeCAD/fr">À propos de FreeCAD</a>, <a href="../fr\Interface.html" title="Interface/fr">Interface</a>, <a href="../fr\Mouse_navigation.html" title="Mouse navigation/fr">Navigation par la souris</a>, <a href="../fr\Selection_methods.html" title="Selection methods/fr">Méthodes de sélection</a>, <a href="../fr\Object_name.html" title="Object name/fr">Objet name</a>, <a href="../fr\Preferences_Editor.html" title="Preferences Editor/fr">Préférences</a>, <a href="../fr\Workbenches.html" title="Workbenches/fr">Ateliers</a>, <a href="../fr\Document_structure.html" title="Document structure/fr">Structure du document</a>, <a href="../fr\Property.html" title="Property/fr">Propriétés</a>, <a href="../fr\Help_FreeCAD.html" title="Help FreeCAD/fr">Contribuer à FreeCAD</a>, <a href="../fr\Donate.html" title="Donate/fr">Faire un don</a></li></ul>
<hr/>
<ul><li><b>Aide :</b> <a href="../fr\Tutorials.html" title="Tutorials/fr">Tutoriels</a>, <a href="../fr\Video_tutorials.html" title="Video tutorials/fr">Tutoriels vidéo</a></li>
<li><b><a href="../fr\Workbenches.html" title="Workbenches/fr">Ateliers</a> :</b> <a href="../fr\Std_Base.html" title="Std Base/fr">Std Base</a>, <a href="../fr\Arch_Workbench.html" title="Arch Workbench/fr">Arch</a>, <a href="../fr\Assembly_Workbench.html" title="Assembly Workbench/fr">Assembly</a>, <a href="../fr\CAM_Workbench.html" title="CAM Workbench/fr">CAM</a>, <a href="../fr\Draft_Workbench.html" title="Draft Workbench/fr">Draft</a>, <a href="../fr\FEM_Workbench.html" title="FEM Workbench/fr">FEM</a>, <a href="../fr\Inspection_Workbench.html" title="Inspection Workbench/fr">Inspection</a>, <a href="../fr\Mesh_Workbench.html" title="Mesh Workbench/fr">Mesh</a>, <a href="../fr\OpenSCAD_Workbench.html" title="OpenSCAD Workbench/fr">OpenSCAD</a>, <a href="../fr\Part_Workbench.html" title="Part Workbench/fr">Part</a>, <a href="../fr\PartDesign_Workbench.html" title="PartDesign Workbench/fr">PartDesign</a>, <a href="../fr\Points_Workbench.html" title="Points Workbench/fr">Points</a>, <a href="../fr\Reverse_Engineering_Workbench.html" title="Reverse Engineering Workbench/fr">Reverse Engineering</a>, <a href="../fr\Robot_Workbench.html" title="Robot Workbench/fr">Robot</a>, <a href="../fr\Sketcher_Workbench.html" title="Sketcher Workbench/fr">Sketcher</a>, <a href="../fr\Spreadsheet_Workbench.html" title="Spreadsheet Workbench/fr">Spreadsheet</a>, <a href="../fr\Surface_Workbench.html" title="Surface Workbench/fr">Surface</a>, <a href="../fr\TechDraw_Workbench.html" title="TechDraw Workbench/fr">TechDraw</a>, <a href="../fr\Testing.html" title="Testing/fr">Test</a></li></ul>
<hr/>
<ul><li><b><a href="../fr\Addon.html" title="Addon/fr">Addons</a> :</b> <a href="../fr\Std_AddonMgr.html" title="Std AddonMgr/fr">Gestionnaire d'Addons</a>, <a href="../fr\External_workbenches.html" title="External workbenches/fr">Ateliers externes</a>, <a href="../fr\Scripting_and_macros.html" title="Scripting and macros/fr">Scripts et macros</a></li></ul>
<hr/>
<ul><li><b>Hubs :</b> <a href="../fr\User_hub.html" title="User hub/fr">Hub utilisateurs</a>, <a href="../fr\Power_users_hub.html" title="Power users hub/fr">Hub utilisateurs expérimentés</a>, <a href="../fr\Developer_hub.html" title="Developer hub/fr">Hub Développeurs</a></li></ul></div>
</div></div>
<!-- 
NewPP limit report
Cached time: 20241214203015
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.134 seconds
Real time usage: 0.917 seconds
Preprocessor visited node count: 768/1000000
Post‐expand include size: 11254/2097152 bytes
Template argument size: 5604/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 44/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 25499/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  793.899      1 -total
 98.67%  783.313     44 Template:Code
  0.46%    3.629      1 Template:Userdocnavi/fr
  0.30%    2.405      1 Template:Navigation_menu_2
  0.17%    1.349      2 Template:Docnav/fr
  0.07%    0.519      1 Template:TOCright
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:2692-0!canonical and timestamp 20241214203014 and revision id 1463142. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
