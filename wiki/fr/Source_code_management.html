<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Source code management/fr</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="../de\Source_code_management.html" lang="de" title="Quellcodeverwaltung (43% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Source_code_management.html" lang="en" title="Source code management (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../es\Source_code_management.html" lang="es" title="Source code management (3% translated)">español</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="fr">français</span></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="../it\Source_code_management.html" lang="it" title="Gestione del codice sorgente (21% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../pl\Source_code_management.html" lang="pl" title="Zarządzanie kodem źródłowym (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../pt-br\Source_code_management.html" lang="pt-BR" title="Gerenciamento de código fonte (1% translated)">português do Brasil</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../ru\Source_code_management.html" lang="ru" title="Управление исходным кодом (1% translated)">русский</a></li></ul></div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Accès_au_code_source"><span class="tocnumber">2</span> <span class="toctext">Accès au code source</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Dépôt_officiel_Github"><span class="tocnumber">2.1</span> <span class="toctext">Dépôt officiel Github</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Configurer_votre_nom_d'utilisateur_sous_Git"><span class="tocnumber">2.2</span> <span class="toctext">Configurer votre nom d'utilisateur sous Git</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Dépôts_distants"><span class="tocnumber">2.3</span> <span class="toctext">Dépôts distants</span></a>
<ul>
<li class="toclevel-3 tocsection-6"><a href="#1ère_méthode:_Créez_une_branche_sur_GitHub_et_clonez_votre_branche_localement"><span class="tocnumber">2.3.1</span> <span class="toctext">1ère méthode: Créez une branche sur GitHub et clonez votre branche localement</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="#2ème_méthode:_clonez_le_dépôt_officiel_FreeCAD_git_sur_votre_ordinateur_local"><span class="tocnumber">2.3.2</span> <span class="toctext">2ème méthode: clonez le dépôt officiel FreeCAD git sur votre ordinateur local</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Processus_de_développement_sous_Git"><span class="tocnumber">3</span> <span class="toctext">Processus de développement sous Git</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Ramifications"><span class="tocnumber">3.1</span> <span class="toctext">Ramifications</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Validation_des_modifications"><span class="tocnumber">3.2</span> <span class="toctext">Validation des modifications</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Rédiger_de_bons_messages_de_validation"><span class="tocnumber">3.3</span> <span class="toctext">Rédiger de bons messages de validation</span></a></li>
<li class="toclevel-2 tocsection-12"><a href='#Regroupement_des_"commits"'><span class="tocnumber">3.4</span> <span class="toctext">Regroupement des "commits"</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Publication_de_votre_travail_sur_votre_dépôt_GitHub"><span class="tocnumber">3.5</span> <span class="toctext">Publication de votre travail sur votre dépôt GitHub</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Rebasing_de_l'amont"><span class="tocnumber">3.6</span> <span class="toctext">Rebasing de l'amont</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Fusion_de_la_branche_(pull_request)"><span class="tocnumber">3.7</span> <span class="toctext">Fusion de la branche (pull request)</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Maintien_du_dépôt_GitHub_à_jour"><span class="tocnumber">3.8</span> <span class="toctext">Maintien du dépôt GitHub à jour</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Opérations_git_avancées"><span class="tocnumber">4</span> <span class="toctext">Opérations git avancées</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#Rechercher"><span class="tocnumber">4.1</span> <span class="toctext">Rechercher</span></a>
<ul>
<li class="toclevel-3 tocsection-19"><a href="#Rechercher_les_noms_de_fichiers"><span class="tocnumber">4.1.1</span> <span class="toctext">Rechercher les noms de fichiers</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="#Rechercher_une_chaîne"><span class="tocnumber">4.1.2</span> <span class="toctext">Rechercher une chaîne</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href="#Résolution_des_conflits_de_fusion"><span class="tocnumber">4.2</span> <span class="toctext">Résolution des conflits de fusion</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Inspecter_les_changements"><span class="tocnumber">4.3</span> <span class="toctext">Inspecter les changements</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Inspecter_les_changements_entre_deux_branches"><span class="tocnumber">4.4</span> <span class="toctext">Inspecter les changements entre deux branches</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#Réinitialiser_les_fichiers_et_les_répertoires"><span class="tocnumber">4.5</span> <span class="toctext">Réinitialiser les fichiers et les répertoires</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#Taille_des_vieilles_branches"><span class="tocnumber">4.6</span> <span class="toctext">Taille des vieilles branches</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Travailler_avec_des_patchs"><span class="tocnumber">4.7</span> <span class="toctext">Travailler avec des patchs</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="#Création_de_correctifs"><span class="tocnumber">4.8</span> <span class="toctext">Création de correctifs</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#Application_des_correctifs"><span class="tocnumber">4.9</span> <span class="toctext">Application des correctifs</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Inverser_un_patch"><span class="tocnumber">4.10</span> <span class="toctext">Inverser un patch</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-30"><a href="#Stockage_temporaire_dans_le_cache_des_git_commits"><span class="tocnumber">5</span> <span class="toctext">Stockage temporaire dans le cache des git commits</span></a>
<ul>
<li class="toclevel-2 tocsection-31"><a href="#Vérifier_sur_GitHub_les_demandes_locales"><span class="tocnumber">5.1</span> <span class="toctext">Vérifier sur GitHub les demandes locales</span></a></li>
<li class="toclevel-2 tocsection-32"><a href="#Blâme"><span class="tocnumber">5.2</span> <span class="toctext">Blâme</span></a></li>
<li class="toclevel-2 tocsection-33"><a href="#Dichotomie"><span class="tocnumber">5.3</span> <span class="toctext">Dichotomie</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-34"><a href="#Numéro_de_révision_FreeCAD"><span class="tocnumber">6</span> <span class="toctext">Numéro de révision FreeCAD</span></a>
<ul>
<li class="toclevel-2 tocsection-35"><a href="#Quelle_est_la_dernière_révision_de_FreeCAD_Dev_?"><span class="tocnumber">6.1</span> <span class="toctext">Quelle est la dernière révision de FreeCAD Dev ?</span></a></li>
<li class="toclevel-2 tocsection-36"><a href="#Quel_est_le_numéro_de_révision_correspondant_à_la_valeur_de_hachage_d'un_&quot;commit&quot;_?"><span class="tocnumber">6.2</span> <span class="toctext">Quel est le numéro de révision correspondant à la valeur de hachage d'un "commit" ?</span></a></li>
<li class="toclevel-2 tocsection-37"><a href="#Quel_est_la_valeur_de_hachage_correspondante_au_numéro_de_révision_d'un_&quot;commit&quot;_?"><span class="tocnumber">6.3</span> <span class="toctext">Quel est la valeur de hachage correspondante au numéro de révision d'un "commit" ?</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="#Comment_le_numéro_de_révision_dans_l'aide_de_FreeCAD_est-il_généré_?"><span class="tocnumber">6.4</span> <span class="toctext">Comment le numéro de révision dans l'aide de FreeCAD est-il généré ?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-39"><a href="#Ajout_d'autres_référentiels_(distants)"><span class="tocnumber">7</span> <span class="toctext">Ajout d'autres référentiels (distants)</span></a></li>
<li class="toclevel-1 tocsection-40"><a href="#Lecture_complémentaire"><span class="tocnumber">8</span> <span class="toctext">Lecture complémentaire</span></a></li>
</ul>
</div>
</div>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>Le principal outil de gestion de code source du projet FreeCAD est <a class="external text" href="http://en.wikipedia.org/wiki/Git_%28software%29" rel="nofollow">Git</a>, qui peut être facilement installé dans la plupart des systèmes d'exploitation à partir d'un gestionnaire de paquets ou directement à partir de <a class="external text" href="https://git-scm.com/" rel="nofollow">Git's website</a>. Nous vous conseillons de vous familiariser avec Git avant de travailler directement avec le code source FreeCAD. Visitez la page <a class="external text" href="https://git-scm.com/doc" rel="nofollow">Git documentation</a> pour obtenir le manuel de référence, ainsi que le <a class="external text" href="https://git-scm.com/book/en/v2" rel="nofollow">Pro Git book</a> pour apprendre à utiliser le système de manière générale. Le présent document porte sur l'utilisation de Git pour le développement FreeCAD. La compilation de FreeCAD est décrite dans <a href="../fr\Compiling.html" title="Compiling/fr">Compilation</a>.
</p><p>Bien que Git soit principalement une application de terminal, il existe de nombreux clients graphiques qui facilitent le travail avec les branches, l’application de correctifs et la soumission de demandes d'extraction à une branche main. Les exemples incluent <a class="external text" href="https://git-scm.com/docs/gitk" rel="nofollow">gitk</a> (la première interface graphique développée), <a class="external text" href="https://wiki.gnome.org/Apps/Gitg/" rel="nofollow">gitg</a> (Gnome), <a class="external text" href="https://github.com/tibirna/qgit" rel="nofollow">qgit</a> (Qt), <a class="external text" href="https://jonas.github.io/tig/" rel="nofollow">tig</a> (Ncurses), <a class="external text" href="http://github.com/git-cola/git-cola" rel="nofollow">git-cola</a> et <a class="external text" href="https://www.gitkraken.com/" rel="nofollow">GitKraken</a> (propriétaire). Veuillez consulter <a href="../Developing_FreeCAD_with_GitKraken.html" title="Developing FreeCAD with GitKraken">Developing FreeCAD with GitKraken</a> pour une introduction sommaire à cet outil.
</p><p>Remarque: si tout cela commence à vous donner le vertige, il existe une très bonne série non technique sur l'utilisation de git et Github appelée '<a class="external text" href="https://youtu.be/BCQHnlnPusY" rel="nofollow">Git et Github pour les poètes</a>'
</p><p><span id="Source_code_access"></span>
</p>
<h2><span id="Acc.C3.A8s_au_code_source"></span><span class="mw-headline" id="Accès_au_code_source">Accès au code source</span></h2>
<p>Tout le monde peut accéder et obtenir une copie du code source de FreeCAD, mais seuls les gestionnaires de projet(s) peuvent en modifier le contenu. Vous pouvez avoir une copie du code, l'étudier et le modifier comme vous le souhaitez, mais si vous voulez que vos modifications soient prises en compte dans le code source officiel, vous devez effectuer un "pull request" sur le dépôt main. Les gestionnaires pourront alors vérifier vos modifications avant de les valider. Cette façon de développer est connue sous le nom de <a class="external text" href="https://git-scm.com/book/en/v2/Distributed-Git-Distributed-Workflows" rel="nofollow">flux de travail des dictateurs et des lieutenants</a> où les développeurs principaux (dictateurs) et développeurs de confiance (lieutenants) filtrent le code soumis par les développeurs et les utilisateurs indépendants.
</p><p>Si votre code source change de manière significative, il vous est conseillé de l'expliquer dans la section <a class="external text" href="http://forum.freecadweb.org/viewforum.php?f=17" rel="nofollow">"pull requests"</a> du forum FreeCAD.
</p><p><span typeof="mw:File"><a class="mw-file-description" href="../File/FreeCAD_git_workflow.svg"><img decoding="async" height="340" src="../File/FreeCAD_git_workflow.svg" width="600"/></a></span>
</p>
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;">Flux de travail générique pour développer du code pour FreeCAD; Tout le monde peut récupérer le code depuis le dépôt principal, mais les développeurs principaux ont les droits exclusifs pour faire une revue et prendre en compte les changements apportés par les autres développeurs.</p>
<p><span id="Official_GitHub_repository"></span>
</p>
<h3><span id="D.C3.A9p.C3.B4t_officiel_Github"></span><span class="mw-headline" id="Dépôt_officiel_Github">Dépôt officiel Github</span></h3>
<p>Le code source de FreeCAD est hébergé sur <code><a class="external free" href="https://github.com/FreeCAD/FreeCAD" rel="nofollow">https://github.com/FreeCAD/FreeCAD</a></code>
</p><p>Pour pouvoir contribuer et accéder au code source, vous devez avoir un <a class="external text" href="https://github.com/join" rel="nofollow">compte GitHub</a>.
</p><p>Dans le passé, le code source était hébergé en tant que dépôt SVN, <code><a class="external free" href="https://free-cad.svn.sourceforge.net/svnroot/free-cad" rel="nofollow">https://free-cad.svn.sourceforge.net/svnroot/free-cad</a></code>. Cela a été déplacé vers GitHub le 10 octobre 2011, avec <a class="external text" href="https://github.com/FreeCAD/FreeCAD/commit/120ca87015" rel="nofollow">commit 120ca87015</a>.
</p><p>Par conséquent, de nombreuses modifications ont été apportées avant cette date qui ne sont pas enregistrées dans l'historique de validation Git moderne. Pour en savoir plus, consultez la page <a href="../fr\History.html" title="History/fr">Histoire</a>.
</p><p><span id="Setting_your_Git_username"></span>
</p>
<h3><span id="Configurer_votre_nom_d.27utilisateur_sous_Git"></span><span class="mw-headline" id="Configurer_votre_nom_d'utilisateur_sous_Git">Configurer votre nom d'utilisateur sous Git</span></h3>
<p>Les développeurs doivent faire un commit vers le dépôt de leur code, en utilisant leur nom personnel d'utilisateur GitHub. 
Si ce n'est pas déjà fait globalement, vous pouvez le régler au niveau local pour le dépôt Git actuel comme ceci :
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git config user.name "YOUR_NAME"
git config user.email GITHUB_USERNAME@users.noreply.github.com
</pre></div>
<p>Où <code>"YOUR_NAME"</code> représente votre nom complet ou votre pseudonyme, utilisé pour identifier l'auteur d'un commit spécifique, et <code>GITHUB_USERNAME</code> indique le nom de votre compte sur GitHub.
</p><p><span id="Remote_repositories"></span>
</p>
<h3><span id="D.C3.A9p.C3.B4ts_distants"></span><span class="mw-headline" id="Dépôts_distants">Dépôts distants</span></h3>
<p>Veuillez lire <a class="external text" href="https://stackoverflow.com/questions/9257533/" rel="nofollow">what-is-the-difference-between-origin-and-upstream-on-github#9257901 Quelle est la différence entre l'origine et l'upstream sur GitHub?</a> (Stackoverflow) pour vous aider à comprendre la différence entre <code>origin</code> et <code>upstream</code> dans Git. Cette section explique comment définir les référentiels appropriés pour le développement.
En gros :
</p>
<ul><li><code>origin</code> est votre branche personnelle du référentiel officiel de FreeCAD, à savoir, <code><a class="external free" href="https://github.com/GITHUB_USERNAME/FreeCAD" rel="nofollow">https://github.com/GITHUB_USERNAME/FreeCAD</a></code></li>
<li><code>upstream</code> est le référentiel officiel de FreeCAD, à savoir, <code><a class="external free" href="https://github.com/FreeCAD/FreeCAD" rel="nofollow">https://github.com/FreeCAD/FreeCAD</a></code>.</li></ul>
<p>La distinction est importante, vous devez d'abord écrire votre code dans votre propre dépôt, avant de "pousser" ces changements sur le dépôt officiel.
</p><p>Sur la base de ce qui précède, il existe deux manières de configurer votre environnement de développement Git:
</p>
<ul><li>1ère méthode: fork GitHub et clonez votre fork localement</li>
<li>2ème méthode: clonez FreeCAD directement sur votre machine locale et ajustez les serveurs distants</li></ul>
<p>Nous recommandons la première méthode car c'est la plus rapide.
</p>
<div class="mw-collapsible mw-collapsed toccolours">
<p><span id="1st_Method:_Fork_on_GitHub_and_clone_your_fork_locally"></span>
</p>
<h4><span id="1.C3.A8re_m.C3.A9thode:_Cr.C3.A9ez_une_branche_sur_GitHub_et_clonez_votre_branche_localement"></span><span class="mw-headline" id="1ère_méthode:_Créez_une_branche_sur_GitHub_et_clonez_votre_branche_localement">1ère méthode: Créez une branche sur GitHub et clonez votre branche localement</span></h4>
<div class="mw-collapsible-content">
<p>Vous allez d'abord créer le référentiel FreeCAD dans GitHub, puis cloner ce fork personnel sur votre ordinateur et enfin définir le référentiel <code>upstream</code>.
</p>
<ul><li><a class="external text" href="https://github.com/join" rel="nofollow">Log in</a> sur votre compte GitHub.</li>
<li>Accédez au référentiel officiel FreeCAD: <code><a class="external free" href="https://github.com/FreeCAD/FreeCAD" rel="nofollow">https://github.com/FreeCAD/FreeCAD</a></code></li>
<li>En haut à droite de la page, appuyez sur le bouton "Fourchette". Cela créera une copie personnelle du référentiel FreeCAD sous votre nom d'utilisateur GitHub: <code><a class="external free" href="https://github.com/GITHUB_USERNAME/FreeCAD" rel="nofollow">https://github.com/GITHUB_USERNAME/FreeCAD</a></code></li>
<li>Sur votre machine, clonez votre nouvelle fourche FreeCAD. Il sera créé dans un répertoire <code>freecad-source</code>.</li></ul>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git clone https://github.com/GITHUB_USERNAME/FreeCAD.git freecad-source
</pre></div>
<ul><li>Une fois le téléchargement terminé, entrez le nouveau répertoire source et définissez le référentiel <code>upstream</code>.</li></ul>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>cd  freecad-source
git remote add upstream https://github.com/FreeCAD/FreeCAD.git
</pre></div>
<ul><li>Confirmez vos référentiels distants avec <code>git remote -v</code>; la sortie devrait être semblable à celle-ci</li></ul>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>origin	https://github.com/GITHUB_USERNAME/FreeCAD.git (fetch)
origin	https://github.com/GITHUB_USERNAME/FreeCAD.git (push)
upstream	https://github.com/FreeCAD/FreeCAD.git (fetch)
upstream	https://github.com/FreeCAD/FreeCAD.git (push)
</pre></div>
<ul><li>Maintenant, le développement peut commencer.</li></ul>
</div>
</div>
<div class="mw-collapsible mw-collapsed toccolours">
<p><span id="2nd_Method:_Clone_FreeCAD_directly_to_your_local_machine"></span>
</p>
<h4><span id="2.C3.A8me_m.C3.A9thode:_clonez_le_d.C3.A9p.C3.B4t_officiel_FreeCAD_git_sur_votre_ordinateur_local"></span><span class="mw-headline" id="2ème_méthode:_clonez_le_dépôt_officiel_FreeCAD_git_sur_votre_ordinateur_local">2ème méthode: clonez le dépôt officiel FreeCAD git sur votre ordinateur local</span></h4>
<div class="mw-collapsible-content">
<p>Vous allez d'abord créer le référentiel FreeCAD dans GitHub, mais vous clonerez le référentiel FreeCAD d'origine sur votre ordinateur local, puis modifierez vos télécommandes via le terminal.
</p>
<ul><li><a class="external text" href="https://github.com/join" rel="nofollow">Log in</a> sur votre compte GitHub.</li>
<li>Accédez au référentiel officiel FreeCAD: <code><a class="external free" href="https://github.com/FreeCAD/FreeCAD" rel="nofollow">https://github.com/FreeCAD/FreeCAD</a></code></li>
<li>En haut à droite de la page, appuyez sur le bouton "Fourchette". Cela créera une copie personnelle du référentiel FreeCAD sous votre nom d'utilisateur GitHub: <code><a class="external free" href="https://github.com/GITHUB_USERNAME/FreeCAD" rel="nofollow">https://github.com/GITHUB_USERNAME/FreeCAD</a></code></li>
<li>Clonez le référentiel FreeCAD d'origine. Il sera créé dans un répertoire <code>freecad-source</code>.</li></ul>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git clone https://github.com/FreeCAD/FreeCAD.git freecad-source
</pre></div>
<ul><li>Une fois le téléchargement terminé, entrez le nouveau répertoire source et définissez le référentiel <code>origin</code>.</li></ul>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>cd freecad-source
git remote add origin https://github.com/GITHUB_USERNAME/FreeCAD.git
</pre></div>
<ul><li>Ensuite, configurez le référentiel <code>upstream</code>.</li></ul>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git remote add upstream https://github.com/FreeCAD/FreeCAD.git
</pre></div>
<ul><li>Confirmez vos référentiels distants avec <code>git remote -v</code>; la sortie devrait être semblable à celle-ci</li></ul>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>origin	https://github.com/GITHUB_USERNAME/FreeCAD.git (fetch)
origin	https://github.com/GITHUB_USERNAME/FreeCAD.git (push)
upstream	https://github.com/FreeCAD/FreeCAD.git (fetch)
upstream	https://github.com/FreeCAD/FreeCAD.git (push)
</pre></div>
<ul><li>Maintenant, le développement peut commencer.</li></ul>
</div>
</div>
<p>Si, pour une raison quelconque, les référentiels distants existent mais indiquent une adresse incorrecte, vous pouvez remédier à la situation en renommant le nom du référentiel distant. Par exemple, <code>origin</code> doit pointer sur votre branche personnelle; s'il pointe vers le référentiel FreeCAD d'origine, remplacez le nom de cette télécommande par <code>upstream</code> et ajoutez manuellement le référentiel <code>origin</code>.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git remote rename origin upstream
git remote add origin https://github.com/GITHUB_USERNAME/FreeCAD.git
git remote -v
</pre></div>
<p>Vous pouvez également afficher plus d'informations avec le mot clé <code>show</code>.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git remote show origin
git remote show upstream
</pre></div>
<p><span id="Git_development_process"></span>
</p>
<h2><span id="Processus_de_d.C3.A9veloppement_sous_Git"></span><span class="mw-headline" id="Processus_de_développement_sous_Git">Processus de développement sous Git</span></h2>
<div id="itsfree" style="text-align:center;color:black;background:#FDE0A8;margin:1em 7em;padding:0.5em 2em;border:2px solid #FF5706;">Ne développez jamais sur votre branche <b>main</b> locale. Au lieu de cela, créez une branche locale pour le développement, puis fusionnez cette branche locale avec la branche main en amont via une demande d'extraction. Lire <a class="external text" href="https://git-scm.com/book/fr/v2/Git-Branching-Branches-in-a-Nutshell" rel="nofollow">Git Branching</a>, <a class="external text" href="https://book.git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Fusion" rel="nofollow">Fusioning</a>, et <a class="external text" href="https://git-scm.com/book/fr/v2/GitHub-Contributing-to-a-Project" rel="nofollow">GitHub - Contribuer à un projet</a> pour en savoir plus</div>
<p><span typeof="mw:File"><a class="mw-file-description" href="../File/FreeCAD_git_branches_workflow.svg"><img decoding="async" height="426" src="../File/FreeCAD_git_branches_workflow.svg" width="800"/></a></span>
</p>
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;">Flux de travail générique pour développer du code pour FreeCAD en utilisant <code>git</code>; Un "fork" du dépôt principal est créé sur le serveur distant et cloné sur un ordinateur local (0); De nouvelles branches (1) sont utilisées pour appliquer des modifications et des ajouts de code localement (2); Les branches sont "rechargées" avec la version de code la plus récente du serveur (3), et elles sont ensuite "poussées" vers le dépôt distant (4); Puis un "Pull Request" est créé afin de pouvoir fusionner le code dans le dépôt principal (5). Le clone du "fork" sur l'ordinateur local est alors mis à jour avec le nouveau code main du serveur (a). Ce main mis à jour est également "poussé" vers le dépôt distant (b) afin d'obtenir le même code à la fois sur le serveur distant et l'ordinateur local.</p>
<p><span id="Branching"></span>
</p>
<h3><span class="mw-headline" id="Ramifications">Ramifications</span></h3>
<p>Au lieu de travailler sur la version main du code, les meilleures pratiques avec Git recommandent de créer une nouvelle branche chaque fois que vous souhaitez travailler sur une nouvelle fonctionnalité. Les branches sont peu coûteuses en ressources, elles ne copient pas l’ensemble de l’arborescence des sources, mais créent simplement un point dans le temps sur lequel vous allez écrire du code; ainsi, les branches aident à garder le travail en cours séparé du code principal.
</p><p>L'ajout d'une nouvelle branche est réalisée en 2 étapes : Tout d'abord vous créez la branche, puis vous vous commutez sur celle-ci.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git branch myNewBranch
git checkout myNewBranch
</pre></div>
<p>Sinon, effectuez les deux étapes avec une seule instruction:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout -b myNewBranch
</pre></div>
<p>Maintenant, vous pouvez changer de branche avec <code>checkout</code> chaque fois que vous avez besoin de travailler dessus. Pour afficher les branches de votre projet et de la branche actuelle, utilisez l'opération <code>branch</code> seule ou ajoutez <code>-v</code> ou <code>-vv</code> pour plus d'informations:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git branch
git branch -vv
</pre></div>
<p>Une fois que vous avez effectué les changements et que vous les avez validés (commit), utilisez la ligne de commande <code>log</code> avec les options suivantes pour visualiser les branches.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git log --oneline --decorate --graph --all
</pre></div>
<p><span id="Committing"></span>
</p>
<h3><span class="mw-headline" id="Validation_des_modifications">Validation des modifications</span></h3>
<p>Une fois que vous êtes dans une nouvelle branche, éditez les fichiers sources que vous voulez avec votre éditeur de texte. Pour voir quels fichiers ont été modifiés, utilisez la commande <code>status</code> et <code>diff</code>; Lorsque que vous êtes satisfait de votre travail, validez le avec la commande <code>commit</code> :
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git status
git diff
git commit -a
</pre></div>
<p>Contrairement à SVN, vous devez indiquer précisément les fichiers à valider. utilisez l'option <code>-a</code> pour enregistrer les modifications dans tous les fichiers modifiés. Votre éditeur de texte, par exemple, <code>nano</code> ou <code>vim</code>, s'ouvrira pour vous permettre d'écrire un message de validation.
</p><p>Alternativement, ajoutez le message dans le "commit" lui-même:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git commit -a -m "Fix the bug in the clone function."
</pre></div>
<p>Si vous créez de nouveaux fichiers ou répertoires, vous devez d'abord utiliser l'opération <code>add</code> pour les ajouter au référentiel local avant de valider les modifications.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git add path
git commit -a
</pre></div>
<p>Où <code>path</code> peut être n'importe quel répertoire ou fichier.
</p><p><span id="Writing_good_commit_messages"></span>
</p>
<h3><span id="R.C3.A9diger_de_bons_messages_de_validation"></span><span class="mw-headline" id="Rédiger_de_bons_messages_de_validation">Rédiger de bons messages de validation</span></h3>
<p>Vous devriez essayer de travailler par petites sections. Si vous ne pouvez pas résumer vos modifications en une phrase, cela fait probablement trop longtemps que vous n'avez pas effectué de livraison.
</p><p>Pour les grands changements, il est important que vous disposiez de descriptions utiles et utiles de votre travail. FreeCAD a adopté un format mentionné dans le livre <a class="external text" href="https://git-scm.com/book/en/v2" rel="nofollow">Pro Git</a>, qui consiste en un court message, puis en un paragraphe descriptif plus grand.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>Résumé succinct (50 caractères ou moins) des modifications apportées

 Un texte explicatif plus détaillé, si nécessaire. Limitez-le à environ 72
 caractères environ. Dans certains contextes, la première ligne est traitée
 comme le sujet d'un message électronique et le reste du texte comme le corps
 du message. La ligne vierge séparant le résumé du corps est essentielle 
 (à moins que vous n'omettiez entièrement le corps); des outils comme rebase
 peuvent être confondus si vous exécutez les deux ensemble.
 
 Les paragraphes suivants sont placés après les lignes vides. 
 
  - Les puces peuvent également être utilisées.
 
  - En général, on utilise un trait d'union ou un astérisque pour la puce,
    précédé d'un espace simple, avec des lignes vides entre les deux, mais
    les conventions varient selon les cas.
</pre></div>
<p>Si vous effectuez de nombreux travaux connexes dans une branche, vous devez effectuer de nombreux petits commits (voir un <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=10&amp;t=2062&amp;p=14887#p14886" rel="nofollow">forum post</a>). Lorsque vous souhaitez fusionner ces modifications dans la branche main, vous devez émettre
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git log main..myNewBranch
</pre></div>
<p>pour voir les messages individuels de commit. Vous pouvez ensuite écrire un message de haute qualité lors d’une fusion.
</p><p>Lorsque vous fusionnez à la branche main, utilisez l'option <code>--squash</code> et validez avec votre message de validation de qualité. Cela vous permettra d'être très libéral avec vos commits et vous aidera à fournir un bon niveau de détail dans les messages de validation sans autant de descriptions distinctes.
</p><p><span id="Squashing_commits"></span>
</p>
<h3><span id="Regroupement_des_.22commits.22"></span><span class="mw-headline" id='Regroupement_des_"commits"'>Regroupement des "commits"</span></h3>
<p>Il est possible de regrouper plusieurs "commits" consécutifs dans 1 seul "commit", on appelle ça le "squashing". Ceci peut être utile dans les cas où vous avez effectué beaucoup de "petits commits" et que vous souhaitez les regrouper dans un seul "commit". Par exemple, lorsque vous changez simplement une variable, que vous corrigez des erreurs d'orthographe ou que vous ajustez la mise en forme de votre code. Vous devez faire des regroupements uniquement sur des "petits commits". Les grandes modifications effectuées sur plusieurs fichiers doivent contenir l'ensemble de l'historique des changements du commit.
</p><p>Avec la commande <code>git log --oneline</code>, vous pouvez voir plusieurs "commits" consécutifs dont le plus récent est situé en haut de la liste. Dans cet exemple, plusieurs "commits" ont été effectués à partir de la "fonctionnalité A" pour réaliser l'implémentation de la "fonctionnalité B"; Nous souhaiterions maintenant regrouper tous les "commits" effectués pour la "fonctionnalité B" en un seul.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>871adb OK, feature B is fully implemented
1c3317 Whoops, it is not ready yet...
87871a I'm almost ready!
643d0e Code cleanup
af2581 Fix this and that
4e9baa Good implementation
d94e78 Prepare the module for feature B
6394da Feature A
</pre></div>
<p>Utilisez la commande <code>rebase</code> avec l'option <code>--interactive</code> ou <code>-i</code> pour sélectionner différents "commits" et les regrouper en un seul. Utilisez la valeur de hachage située juste devant le premier commit que vous voulez regrouper. Dans notre cas, il s'agit de celui qui correspond à la "fonctionnalité A".
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git rebase -i 6394da
</pre></div>
<p>(ASTUCE : Si vous savez combien de commits vous voulez éditer, vous pouvez utiliser <code>git rebase -i HEAD~n</code> pour travailler sur les derniers commits <code>n</code>)
</p><p>un éditeur de ligne de commande comme <code>nano</code> ou <code>vim</code> s'ouvrira pour vous montrer les "commits", mais cette fois avec le plus ancien en haut de la liste. Avant chaque "commit", le mot <code>pick</code> sera affiché. Supprimez le mot <code>pick</code>, et écrivez le mot <code>squash</code> ou juste la lettre <code>s</code> à la place, à l'exception de la première entrée; Ce "commit" est le plus ancien, donc tous les futurs "commits" seront regroupés dans celui-ci.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>pick d94e78 Prepare the module for feature B
s 4e9baa Good implementation
s af2581 Fix this and that
s 643d0e Code cleanup
s 87871a I'm almost ready!
s 1c3317 Whoops, it is not ready yet...
s 871adb OK, feature B is fully implemented
</pre></div>
<p>Sauvegardez le fichier et fermez l'éditeur.
</p><p>L'éditeur s'ouvrira de nouveau. Vous pouvez maintenant ajouter un long message qui décrira tous les changements effectués comme s'ils étaient réunis dans un seul "commit". Sauvegardez le fichier et fermez l'éditeur une fois de plus. Ceci finira l'action de regroupement de ces "commits" avec le nouveau message que vous avez saisis.
</p><p>Vous pouvez encore utiliser <code>git log --oneline</code> pour observer le nouvel historique des changements du commit. Dans ce cas, seul un simple "commit" pour la "fonctionnalité B", apparaitra au dessus du "commit" non modifié pour la "fonctionnalité A".
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>c83d67 OK, feature B is fully implemented now, with proper module setup, and clean code.
6394da Feature A
</pre></div>
<p>Lorsque vous codez pour FreeCAD, nous vous demandons de commencer chaque message de validation par le module qu'il affecte. Par exemple, un message de validation pour une modification de sketcher pourrait être :
</p>
<pre>Sketcher: make straight lines curve a bit

Straight lines are sort of ugly, so this commit adds a little bit of curvature to them, so
they are more visually pleasing. They also sparkle some, and change colors over time.

Fixes bug #1234.
</pre>
<p>Votre PR sera plus facile à réviser et plus rapide à être fusionné, si vous prenez soin d'utiliser rebase pour structurer et décrire vos commits avant de les soumettre.
</p><p><span id="Pushing_your_work_to_your_GitHub_repository"></span>
</p>
<h3><span id="Publication_de_votre_travail_sur_votre_d.C3.A9p.C3.B4t_GitHub"></span><span class="mw-headline" id="Publication_de_votre_travail_sur_votre_dépôt_GitHub">Publication de votre travail sur votre dépôt GitHub</span></h3>
<p>Les branches locales de votre ordinateur ne sont pas automatiquement synchronisées avec les serveurs distants que vous avez spécifiés comme <code>origine</code> ou <code>en amont</code> (voir <a href="#Référentiels_distants">Référentiels distants</a>); vous devez explicitement pousser les branches sur les serveurs distants, pour lesquels vous devez avoir un accès en écriture. Une fois que cela est fait, les branches deviennent publiques et disponibles pour être revues par d'autres développeurs.
</p><p>Pour FreeCAD, vous devez placer votre branche locale dans le référentiel distant <code>origin</code>, à savoir, <code>https://github.com/GITHUB_USERNAME/FreeCAD</code>. Vous devez entrer votre nom d'utilisateur et votre mot de passe chaque fois que vous appuyez, sauf si vous avez configuré <a class="external text" href="https://git-scm.com/book/en/v2/Git-Tools-Credential-Storage#_credential_caching" rel="nofollow">mise en cache</a>. Veuillez lire <a class="external text" href="https://help.github.com/articles/pushing-to-a-remote/" rel="nofollow">Pushing dans un référentiel distant</a> pour plus d'informations.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git push origin myNewBranch
</pre></div>
<p>Lorsque vous travaillez avec une seule branche, vous devrez peut-être rebaser, écraser et corriger les commits plusieurs fois de manière interactive. Dans ce cas, votre historique de branche ne sera pas simple et vous ne pourrez pas le pousser vers le référentiel distant. Vous pouvez obtenir un message comme le suivant, indiquant qu'il n'est pas possible d'effectuer un push "fast-forward" (avance rapide).
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>error: failed to push some refs to 'https://github.com/USER/FreeCAD.git'
hint: Updates were rejected because a pushed branch tip is behind its remote
hint: counterpart. Check out this branch and integrate the remote changes
hint: (e.g. 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.
</pre></div>
<p>Pour pousser enfin votre branche vers le dépôt distant, vous devez la "forcer à la pousser". Cela remplacera complètement votre branche distante par la branche réelle que vous avez hors ligne.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git push -f origin myNewBranch
</pre></div>
<p>Le développeur standard n'a pas d'accès en écriture au référentiel <code>upstream</code> <code><a class="external free" href="https://github.com/FreeCAD/FreeCAD" rel="nofollow">https://github.com/FreeCAD/FreeCAD</a></code>. Par conséquent, vous ne devez jamais envoyer de code à ce serveur distant.
</p><p><span id="Rebasing_from_upstream"></span>
</p>
<h3><span id="Rebasing_de_l.27amont"></span><span class="mw-headline" id="Rebasing_de_l'amont">Rebasing de l'amont</span></h3>
<p>Pendant que vous travaillez sur votre propre branche, le code officiel de FreeCAD continue de s'améliorer avec les "commits" des autres développeurs, ce qui créé une différence de contenu avec votre branche personnelle.
</p>
<pre>      .-----A origin/myNewBranch
     / 
-----o-----------Z FreeCAD upstream/main
</pre>
<p>Par conséquent, lorsque vous êtes prêt à fusionner votre branche sur le dépôt principal de FreeCAD, vous devez faire un "rebase" (sorte de re-synchronisation) de votre copie du dépôt, afin que son contenu se rapproche le plus possible de celui du dépôt officiel. Voir le document <a class="external text" href="https://git-scm.com/book/en/v2/Git-Branching-Rebasing" rel="nofollow">Git Branching - Rebasing</a> pour plus d'informations.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout myNewBranch
git pull --rebase upstream main
</pre></div>
<p>Cette opération va télécharger le code à partir de la branche <code>main</code> du dépôt <code>upstream</code> (le code source officiel de FreeCAD), et va le fusionner avec celui de votre branche courante (<code>myNewBranch</code>), afin que vos modifications apparaissent tout en haut de la liste du dernier code officiel. Si personne n'a réalisé de modifications dans les fichiers sur lesquels vous avez travaillés, la fusion se fera sans erreurs. Si certains fichiers ont été modifiés en même temps par des personnes différentes, il se peut qu'il y ait des conflits qui devront être résolus.
</p>
<pre>                  .-----A' origin/myNewBranch
                 /
-----o-----------Z FreeCAD upstream/main
</pre>
<p>Pour résumer, vous devez être dans la branche appropriée, faire un "rebase" et puis un "push".
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout myNewBranch
git pull --rebase upstream main
git push origin myNewBranch
</pre></div>
<p>L'opération <code>pull</code> est équivalente à un <code>fetch</code> (récupération) suivit d'un <code>merge</code> (fusion). Lorsque l'option <code>--rebase</code> est utilisée, à la place de faire un simple <code>merge</code>, c'est l'opération <code>rebase</code> qui sera exécutée.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git pull upstream

git fetch upstream
git merge FETCH_HEAD
</pre></div>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git pull --rebase upstream main

git fetch upstream
git rebase main
</pre></div>
<p><span id="Merging_the_branch_(pull_request)"></span>
</p>
<h3><span id="Fusion_de_la_branche_.28pull_request.29"></span><span class="mw-headline" id="Fusion_de_la_branche_(pull_request)">Fusion de la branche (pull request)</span></h3>
<p>Une fois que vous avez validé vos modifications, "mis à jour" votre branche à partir du dépôt principal et "poussé" votre branche sur le serveur, vous pouvez initier un "pull request". Un "<a class="external text" href="https://help.github.com/articles/about-pull-requests/" rel="nofollow">pull request</a>" informe les administrateurs du dépôt officiel de FreeCAD que vous souhaitez fusionner le nouveau code de votre branche avec le code officiel.
</p><p>Pour résumer, le processus de développement ressemble à ceci :
</p>
<ol><li>Forkez FreeCAD et faites une copie locale de ce fork.</li>
<li>Créez une branche sur votre fork et passez à cette branche.</li>
<li>Codez ! Commencez à coder autant ou aussi peu que vous le souhaitez, en écrivant de bons messages de validation pour garder une trace de ce que vous faites.</li>
<li>Lorsque vous êtes satisfait de votre travail, utilisez <code>git rebase -i HEAD~n</code> (où n est le nombre total de commits que vous avez fait) pour réduire vos commits en un ensemble logique avec de bons messages de commit (chaque message doit commencer par le nom du module qu'il affecte, par exemple "Sketcher : make straight lines curve a bit").</li>
<li>Utilisez GitHub pour soumettre votre code en tant que "Pull Request (PR)" comme décrit ci-dessous.</li></ol>
<p>Dès que vous transmettez le code à votre référentiel <code>origin</code> <code>https://github.com/GITHUB_USERNAME/FreeCAD</code>, GitHub vous offre la possibilité de comparer et de créer une demande d'extraction par rapport au Référentiel <code>upstream</code>. En appuyant sur le bouton <span style="background: #f5f5f5; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 2px solid #989898; border-radius: 0.4em; padding: 0px 10px 1px 10px; font-weight:normal;">Compare &amp; pull request</span>, vous ouvrirez une interface qui vous permettra de choisir quel référentiel est la "base", cible de la fusion, et quelle est la "tête", de votre code supplémentaire. Une vérification rapide sera effectuée par le système vous indiquant s'il n'y a pas de conflit avec les fichiers que vous avez modifiés; si vous avez travaillé sur des fichiers que personne n'a touchés, votre branche pourra fusionner proprement. 
</p><p>GitHub vous montrera un éditeur de texte pour que vous puissiez écrire un message documentant vos modifications : cet éditeur sera pré-rempli avec un message de bienvenue (que vous pouvez supprimer), une liste de contrôle (que vous devez parcourir) et un rappel pour documenter votre modification sur le wiki lorsqu'elle est acceptée. Pour utiliser la liste de contrôle, passez en revue chaque élément et remplacez <code>[ ]</code> par <code>[X]</code> pour indiquer que vous avez effectué cette étape. GitHub affichera également le nombre de commits dans votre branche, le nombre de fichiers qui ont été modifiés, ainsi qu'une vue vous montrant les différences entre la "base" et la "head" afin que tout le monde puisse immédiatement voir les modifications prévues. Vérifiez que vous n'avez pas oublié d'ajouter des lignes vides ou que votre IDE n'a pas décidé d'effectuer d'énormes changements de formatage par devers vous.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>base repository: FreeCAD/FreeCAD    base: main  &lt;----  head repository: GITHUB_USERNAME/FreeCAD    compare: myNewBranch

Able to merge. These branches can be automatically merged.
</pre></div>
<p>Cliquez sur <span style="background: #f5f5f5; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 2px solid #989898; border-radius: 0.4em; padding: 0px 10px 1px 10px; font-weight:normal;">Create pull request</span> pour continuer. Un message apparaîtra indiquant que certaines vérifications doivent être effectuées sur le code. C'est un système qui compile automatiquement FreeCAD et exécute les tests unitaires. Si les tests réussissent, la demande d'extraction aura plus de chance d'être fusionnée dans le code principal, sinon un rapport sera généré indiquant les erreurs rencontrées. Voir <a class="external text" href="https://travis-ci.org/FreeCAD/FreeCAD/pull_requests" rel="nofollow">FreeCAD</a>.
</p>
<pre>Some checks haven’t completed yet

* continuous-integration/travis-ci/pr Pending — The Travis CI build is in progress  |Required|
</pre>
<p>Si les tests réussissent, vous verrez un message tel que le suivant
</p><p>Tous les tests ont passés
</p>
<pre>* continuous-integration/travis-ci/pr — The Travis CI build passed  |Required|
</pre>
<p>Cette branche n'a pas de conflits avec la branche de base
Seules les personnes ayant un accès en écriture à ce référentiel peuvent fusionner des demandes d'extraction.
</p><p>Vous devez maintenant attendre que les administrateurs fusionnent votre branche. vous serez averti lorsque cela se produira.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>Pull request successfully merged and closed

You’re all set — the GITHUB_USERNAME:myNewBranch branch can be safely deleted.
If you wish, you can also delete your fork of FreeCAD/FreeCAD.
</pre></div>
<p>Si vous le souhaitez, vous pouvez supprimer la branche qui vient d'être fusionnée, ou même votre branche entière de FreeCAD, car votre propre code est déjà inclus à la fin de la branche main.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>-----o-----------Z----A' FreeCAD upstream/main
</pre></div>
<p><i>Note:</i> vous pouvez continuer à travailler (<code>git commit -a</code>) sur la même branche en attendant l'approbation de la fusion; si vous <code>git push</code> à nouveau, une deuxième validation de fusion sera mise en file d'attente dans la même demande d'extraction, et un autre test automatisé sera effectué. En d’autres termes, même si vos administrateurs n’approuvent pas encore vos fusions, vous pouvez continuer à appliquer des modifications à votre référentiel <code>origin</code>, ce qui mettra ces commits en file d'attente dans la même demande d'extraction du référentiel <code>en amont</code>. L'utilisation d'une seule demande d'extraction pour mettre en file d'attente plusieurs commits individuels est souvent souhaitable pour de petites modifications. Pour les ajouts importants au code source, vous devez créer une autre branche, d'y développer vos fonctionnalités, puis soumettre une demande d'extraction distincte pour cette branche.
</p><p>L'interface de requête d'extraction peut être utilisée chaque fois que vous souhaitez soumettre du code à partir de vos propres référentiels vers un autre référentiel de GitHub. Vous pouvez également l'utiliser pour fusionner du code dans la direction opposée, des branches d'autres personnes à la vôtre, ou même entre vos propres branches. Dans le dernier cas, puisque vous possédez les branches, les fusions peuvent être approuvées par vous-même immédiatement.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>base repository: SomeProject/Some_Software  base: main       &lt;----  head repository: GITHUB_USERNAME/Some_Software  compare: add_new_functions
base repository: GITHUB_USERNAME/FreeCAD    base: myNewBranch  &lt;----  head repository: FreeCAD/FreeCAD                compare: main
base repository: GITHUB_USERNAME/FreeCAD    base: myNewBranch  &lt;----  head repository: GITHUB_USERNAME/FreeCAD        compare: fix-many-bugs-branch
</pre></div>
<p><span id="Keeping_the_GitHub_repository_up_to_date"></span>
</p>
<h3><span id="Maintien_du_d.C3.A9p.C3.B4t_GitHub_.C3.A0_jour"></span><span class="mw-headline" id="Maintien_du_dépôt_GitHub_à_jour">Maintien du dépôt GitHub à jour</span></h3>
<p>Une fois que vous avez créé FreeCAD, votre référentiel personnel existe indépendamment de l'original. Lorsque le référentiel d'origine comporte de nouveaux commits, GitHub vous informera que votre référentiel personnel est en retard sur le nombre de commits:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>This branch is 5 commits behind FreeCAD:main.
</pre></div>
<p>De la même manière, si vous avez créé une branche de développement avec un nouveau code, GitHub vous informera que cette branche est en avance en nombre de validations; c'est-à-dire que cette branche contient des modifications qui n'ont pas été fusionnées dans le référentiel officiel de FreeCAD:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>This branch is 3 commits ahead of FreeCAD:main.
</pre></div>
<p>Pendant le développement, les deux cas sont possibles, car votre propre branche peut ne pas avoir de commits faits par d’autres développeurs, mais inclure de nouveaux commits de votre part:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>This branch is 2 commits ahead, 14 commits behind FreeCAD:main.
</pre></div>
<p>Lors du développement du code, il est recommandé de rebaser la branche dans laquelle vous travaillez car cela mettra votre branche toujours devant le code main de FreeCAD.
</p><p>Quant à votre branche originale <code>main</code>, elle ne sera jamais automatiquement mise à jour par GitHub. C'est quelque chose que vous devez faire vous-même. Passez à la branche <code>main</code>, puis <code>pull</code> à partir de <code>upstream</code> (ce qui qui effectue un <code>fetch</code> et <code>merge</code>),  puis poussez cette branche <code>main</code> mise à jour vers votre dépôt distant <code>origin</code>.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout main
git pull upstream main
git push origin main
</pre></div>
<p>Une fois cela fait, GitHub vous indiquera que vous êtes synchronisé avec le référentiel <code>upstream</code>.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>This branch is even with FreeCAD:main.
</pre></div>
<p>Maintenant que votre <code>main</code> est à jour, vous pouvez décider de le changer et de supprimer l’autre branche que vous avez utilisée précédemment pour développer une fonctionnalité.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout main
git branch -d myNewBranch
</pre></div>
<p>Pour supprimer la branche du référentiel distant <code>origin</code>, vous pouvez utiliser l'opération <code>push</code>. Normalement, vous poussez une branche locale; cela crée une branche distante portant le même nom que votre branche locale.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git push origin myNewBranch
</pre></div>
<p>Toutefois, si vous utilisez la notation <code>local_name:remote_name</code>, la branche locale est créée dans le référentiel distant sous un nom différent:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git push origin myNewBranch:someRemoteBranch
</pre></div>
<p>Par conséquent, vous pouvez supprimer la branche distante en poussant une branche locale vide:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git push origin :myNewBranch
git push origin :someRemoteBranch
</pre></div>
<p>Maintenant que vous ne disposez que d'un <code>main</code> à jour, vous pouvez créer une nouvelle branche et répéter les étapes de modification de fichiers, de validation, d'insertion, de soumission d'une demande d'extraction, de fusion et de mise à jour.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout main
git checkout -b anotherBranch
</pre></div>
<p>Si vous ne souhaitez pas supprimer votre branche déjà personnalisée, vous pouvez forcer la mise à jour pour correspondre à la valeur de la mise à jour <code>main</code>. Vous pouvez ensuite faire ce que vous voulez, y compris ajouter plus de commits et le pousser dans le dépôt distant <code>origin</code>.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout myNewBranch
git reset --hard main
git push -f origin myNewBranch
</pre></div>
<p>Réinitialiser une branche comme ceci n’est généralement pas nécessaire. Dans la plupart des cas, vous souhaitez suivre la séquence de création d'une nouvelle branche, de validation des modifications, de transmission de ces modifications, de fusion de la branche, puis de suppression de la branche.
</p><p><span id="Advanced_Git_operations"></span>
</p>
<h2><span id="Op.C3.A9rations_git_avanc.C3.A9es"></span><span class="mw-headline" id="Opérations_git_avancées">Opérations git avancées</span></h2>
<p><span id="Searching"></span>
</p>
<h3><span class="mw-headline" id="Rechercher">Rechercher</span></h3>
<p>Quelques outils pratiques pour vous aider à trouver ce que vous cherchez:
</p><p><span id="Search_filenames"></span>
</p>
<h4><span class="mw-headline" id="Rechercher_les_noms_de_fichiers">Rechercher les noms de fichiers</span></h4>
<p>Utilisez <code>git ls-files</code> pour rechercher dans le dépôt un fichier contenant une certaine chaîne dans un nom de fichier. L'exemple ci-dessous renverra toutes les instances des fichiers contenant 'dxf' dans leurs noms de fichiers.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git ls-files *dxf*
</pre></div>
<p><br/>
<span id="Search_for_a_string"></span>
</p>
<h4><span id="Rechercher_une_cha.C3.AEne"></span><span class="mw-headline" id="Rechercher_une_chaîne">Rechercher une chaîne</span></h4>
<p>Utilisez <code>git grep</code> pour rechercher dans le dépôt un fichier contenant une certaine chaîne avec les fichiers eux-mêmes. L'exemple ci-dessous renverra toutes les instances des fichiers qui contiennent 'dxf' dans chaque fichier.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git grep dxf
</pre></div>
<p><br/>
<span id="Resolving_merge_conflicts"></span>
</p>
<h3><span id="R.C3.A9solution_des_conflits_de_fusion"></span><span class="mw-headline" id="Résolution_des_conflits_de_fusion">Résolution des conflits de fusion</span></h3>
<p>La fusion de branches avec <code>git merge</code> ou la redistribution de votre branche avec <code>git rebase</code> présente parfois des conflits de fichiers pouvant avoir été modifiés par un autre auteur en même temps. Si cela se produit, vous devriez voir les modifications des deux côtés, de l'autre auteur et du vôtre, puis décider de la meilleure façon d'inclure les deux ensembles de modifications. Ceci est normalement un processus manuel qui ne peut pas être automatisé; le programmeur doit comprendre le code et décider du code à déplacer, réécrire ou abandonner pour résoudre le conflit.
</p><p>Lorsqu'un conflit survient, un message comme celui-ci peut apparaître.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>CONFLICT (content): Merge conflict in src/Mod/source_code.py
error: Failed to merge in the changes.
Patch failed at 1234 Some commit message when editing source_code.py
</pre></div>
<p>Si un outil de différenciation spécialisé est installé et configuré pour Git, par exemple, celui de Gnome <a class="external text" href="https://wiki.gnome.org/Apps/Meld" rel="nofollow">Meld</a>, le conflit peut être examiné et résolu en utilisant l'opération <code>mergetool</code>..
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git mergetool
</pre></div>
<p>L'outil de fusion affiche normalement trois colonnes; les deux colonnes sur les côtés affichent les deux fichiers en conflit, tandis que la colonne du milieu affiche le nouveau code qui sera enregistré et finalement validé. Par conséquent, cette colonne centrale doit être modifiée de manière à intégrer le code des deux colonnes latérales. Une fois le conflit résolu et le nouveau code source (la colonne centrale) enregistré, vous pouvez fermer l’outil de fusion. Ensuite, l'opération <code>merge</code> ou <code>rebase</code> peut continuer.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git merge --continue
git rebase --continue
</pre></div>
<p>Pour plus d'informations sur la fusion et la résolution des conflits, voir:
</p>
<ul><li><a class="external text" href="https://git-scm.com/docs/git-merge#_how_conflicts_are_presented" rel="nofollow">explications git-scm sur la manière dont les conflits sont présentés</a> avec <code>git merge</code>.</li>
<li><a class="external text" href="https://git-scm.com/book/en/v2/Git-Branching-Basic-Branching-and-Merging#_basic_merge_conflicts" rel="nofollow">Conflits de fusion élémentaires</a> et <a class="external text" href="https://git-scm.com/book/en/v2/Git-Tools-Advanced-Merging" rel="nofollow">Outils Git - Fusion avancée</a></li>
<li><a class="external text" href="https://help.github.com/articles/resolving-a-merge-conflict-using-the-command-line/" rel="nofollow">Article de GitHub sur la résolution des problèmes de fusion par la ligne de commande</a>.</li>
<li><a class="external text" href="https://git-scm.com/book/fr/v2/Customizing-Git-Git-Configuration#_external_merge_tools" rel="nofollow">Personnalisez votre outil de fusion préféré</a> lorsque vous rencontrez un conflit entre plusieurs git.</li></ul>
<p><span id="Inspect_changes"></span>
</p>
<h3><span class="mw-headline" id="Inspecter_les_changements">Inspecter les changements</span></h3>
<p>Inspectez l'historique des modifications apportées à un fichier qui a subit plusieurs "commits" avec l'opération <code>log</code>:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git log --patch path
</pre></div>
<p>Où <code>path</code> peut être n'importe quel répertoire ou fichier. Au lieu de <code>--patch</code>, vous pouvez également utiliser les raccourcis <code>-p</code> ou <code>-u</code>.
</p><p><span id="Inspect_changes_between_two_branches"></span>
</p>
<h3><span class="mw-headline" id="Inspecter_les_changements_entre_deux_branches">Inspecter les changements entre deux branches</span></h3>
<p>Inspectez les modifications entre deux branches avec les opérations <code>log</code> et <code>diff</code> avec les noms des branches:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git log main..myBranch
git diff main..myBranch
</pre></div>
<p>L'opération <code>log</code> affiche les validations, tandis que <code>diff</code> indique les modifications réelles apportées aux fichiers.
</p><p><span id="Reset_files_and_directories"></span>
</p>
<h3><span id="R.C3.A9initialiser_les_fichiers_et_les_r.C3.A9pertoires"></span><span class="mw-headline" id="Réinitialiser_les_fichiers_et_les_répertoires">Réinitialiser les fichiers et les répertoires</span></h3>
<p>Si vous avez accidentellement apporté des modifications à un fichier ou à un répertoire, vous souhaiterez peut-être annuler complètement ces modifications pour obtenir l'état précédent du code source.
</p><p>Cela peut être fait rapidement en utilisant l'opération <code>checkout</code>:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout path
git checkout .
</pre></div>
<p>Cela restaurera le <code>path</code> (un fichier ou un répertoire) à l'état dans lequel il se trouve à l'extrémité de la branche, en ignorant les modifications qui n'ont pas été validées. Si <code>path</code> est le point unique <code>.</code>, Tous les fichiers du répertoire en cours seront restaurés.
</p><p>Si vous avez accidentellement ajouté des fichiers et des répertoires, vous pouvez utiliser l'opération <code>clean</code>:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git clean -df
</pre></div>
<p>Ceci forcera la suppression de tous les fichiers et répertoires (<code>-df</code>) qui ne font pas l'objet d'un suivi par le référentiel, c'est-à-dire ceux qui n'ont pas été inclus précédemment avec l'opération <code>add</code>.
</p><p>Pour réinitialiser complètement le référentiel en perdant toutes les modifications non validées, utilisez l'opération <code>reset</code>:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git fetch
git reset --hard FETCH_HEAD
</pre></div>
<p>Où <code>FETCH_HEAD</code> est la pointe du référentiel <code>upstream</code>. Un autre commit peut également être utilisé.
</p><p>L'opération <code>revert</code> annule également les modifications. Cependant, cette commande fait cela en ajoutant un autre commit à l'historique; dans de nombreux cas, cela n'est pas souhaité.
</p><p><span id="Pruning_old_branches"></span>
</p>
<h3><span class="mw-headline" id="Taille_des_vieilles_branches">Taille des vieilles branches</span></h3>
<p>Si vous avez engagé de nombreuses branches dans le référentiel <code>upstream</code>, vous souhaiterez peut-être supprimer ces branches de votre système local car elles ont déjà été fusionnées. La branche en ligne du référentiel <code>origin</code> peut être supprimée immédiatement après la fusion. Ensuite, vous pouvez supprimer les références locales à cette branche en utilisant les options <code>--prune</code> ou <code>prune</code> pour les opérations <code>fetch</code> et <code>remote</code>.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git fetch --prune origin
git remote prune origin
</pre></div>
<p>Enfin, vous pouvez supprimer les branches localement
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git branch -D myBranch
</pre></div>
<p>Après un certain temps, il est également recommandé de procéder à la récupération d'espace disque, en utilisant l'opération <code>gc</code>. Cela supprimera les fichiers inutiles et compressera les révisions de fichiers locaux, afin d'optimiser l'utilisation du disque local du référentiel.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git gc
</pre></div>
<p><span id="Working_with_patches"></span>
</p>
<h3><span class="mw-headline" id="Travailler_avec_des_patchs">Travailler avec des patchs</span></h3>
<p>Bien que Git vous permette de fusionner le code de différentes branches localement sur votre ordinateur via la commande <code>git merge</code> ou d'effectuer un "pull request" sur le serveur distant (remote repository), il est parfois préférable de créer un patch qui peut être envoyé en tant que pièce jointe par e-mail au lieu de soumettre un PR. Le flux de travail suivant explique comment procéder:
</p><p><span id="Creating_patches"></span>
</p>
<h3><span id="Cr.C3.A9ation_de_correctifs"></span><span class="mw-headline" id="Création_de_correctifs">Création de correctifs</span></h3>
<ul><li>Il est conseillé de travailler dans une nouvelle branche et non pas directement sur la branche main de votre dépôt. La première étape consiste donc à s'assurer que vous êtes dans la bonne branche et le cas échéant à s'y raccorder. Les commandes suivantes permettent de réaliser ces opérations :</li></ul>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git branch -v
git checkout myBranch
</pre></div>
<ul><li>Maintenant, utilisez <code>git format-patch</code> sur la branche main et utilisez l'option <code>--stdout</code> pour rediriger le résultat vers la sortie standard, puis redirigez la sortie standard vers un fichier, qui pour des raisons de commodité est créé au-dessus du répertoire du code source.</li></ul>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git format-patch main --stdout &gt; ../myCode.patch
</pre></div>
<ul><li>Une autre méthode</li></ul>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git format-patch HEAD^
git format-patch HEAD~1
</pre></div>
<p>Le nombre d'accents circonflexes <code>^</code> ou le nombre situé derrière le tilde ~ <code>1</code> indique le nombre de "commits" qui devront être considérés, à savoir par exemple <code>^^^</code> ou <code>~3</code> va créer 3 correctifs pour 3 "commits".
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git format-patch HEAD^
</pre></div>
<p>Cette commande va créer un "patch" ou une série de "patchs" en respectant la convention de nommage suivante :
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>XXXX-commit-message.patch
</pre></div>
<p>où <code>XXXX</code> est un nombre compris entre <code>0000</code> et <code>9999</code>, et où le message du "commit" forme la majorité du nom du fichier, par exemple :
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>0001-fix-ViewProjMatrix-getProjectionMatrix.patch
</pre></div>
<p><span id="Applying_patches"></span>
</p>
<h3><span class="mw-headline" id="Application_des_correctifs">Application des correctifs</span></h3>
<p>Git a la capacité de fusionner des correctifs/diffs. Pour en savoir plus à ce sujet, lisez la référence suivante: <a class="external text" href="https://www.drupal.org/node/1399218" rel="nofollow">Application des patches avec Git</a>
</p><p>Si vous avez déjà le fichier du correctif dans votre système, il suffit juste de l'appliquer.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git apply myCode.patch
</pre></div>
<p>Vous pouvez utiliser <code>curl</code> pour télécharger un correctif depuis un site web, et ensuite l'appliquer via la commande <code>git</code>.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>curl -O https://some.website.org/code/myCode.patch
git apply myCode.patch
</pre></div>
<p>Conseil utile: ajoutez simplement .diff ou .patch à la fin de l'URL d'une page de validation GitHub, d'une demande d'extraction ou d'une vue de comparaison et vous obtiendrez une vue de cette page. Exemple:
</p>
<ul><li>Page GitHub pour un "commit classique" : <code><a class="external free" href="https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621" rel="nofollow">https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621</a></code></li>
<li>Page GitHub pour un "Diff" : <code><a class="external free" href="https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.diff" rel="nofollow">https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.diff</a></code></li>
<li>Page GitHub pour un correctif : <code><a class="external free" href="https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.patch" rel="nofollow">https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.patch</a></code></li></ul>
<p>Vous pouvez pointer <code>curl</code> vers le "commit" d'un correctif particulier dans un dépôt, et le faire suivre directement vers <code>git</code> pour appliquer le correctif.
</p>
<pre>curl https://github.com/FreeCAD/FreeCAD/commit/c476589652a0f67b544735740e20ff702e8d0621.patch | git apply -
</pre>
<p><span id="Reversing_a_patch"></span>
</p>
<h3><span class="mw-headline" id="Inverser_un_patch">Inverser un patch</span></h3>
<p>Lorsque vous appliquez un correctif, vous modifiez certains fichiers. Cependant, ces modifications ne sont pas permanentes tant que vous n'avez pas validé les modifications. Par conséquent, si vous souhaitez rétablir un correctif, utilisez les instructions suivantes.
</p><p>Cette commande annulera les modifications qui ont été appliquées, si vous avez toujours accès au fichier original du correctif:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git apply -R myCode.patch
</pre></div>
<p>Cette commande alternative enlèvera toutes les modifications non validées dans la branche.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout -f
</pre></div>
<p><span id="Stashing_git_commits"></span>
</p>
<h2><span class="mw-headline" id="Stockage_temporaire_dans_le_cache_des_git_commits">Stockage temporaire dans le cache des git commits</span></h2>
<p>Supposons que vous travaillez sur une branche et que vous apportiez des modifications à la source qui sortent du cadre de votre branche actuelle; autrement dit, ces changements seraient meilleurs dans une autre branche que dans la branche actuelle. La commande <code>git stash</code> peut être utilisée pour stocker temporairement ces modifications locales non validées.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git stash
</pre></div>
<p>Si à l'avenir vous souhaitez utiliser ces commits, vous pouvez les <i>extraire</i> de la réserve puis dans votre branche active.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git stash pop
</pre></div>
<p>Ou si vous décidez que vous n'aimez plus ces commits sauvegardés, vous pouvez les supprimer complètement de la réserve.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git stash drop
</pre></div>
<p>Vous pouvez lister plusieurs commits stash avec
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git stash list
</pre></div>
<p>Pour en savoir plus, lisez <a class="external text" href="https://medium.freecodecamp.org/useful-tricks-you-might-not-know-about-git-stash-e8a9490f0a1a" rel="nofollow">Useful tricks you might not know about Git stash</a>.
</p><p><span id="Check_out_GitHub_requests_locally"></span>
</p>
<h3><span id="V.C3.A9rifier_sur_GitHub_les_demandes_locales"></span><span class="mw-headline" id="Vérifier_sur_GitHub_les_demandes_locales">Vérifier sur GitHub les demandes locales</span></h3>
<p><a class="external text" href="https://gist.github.com/piscisaureus/3342247" rel="nofollow">Checkout GitHub pull requests locally</a>
</p><p><br/>
<span id="Blaming"></span>
</p>
<h3><span id="Bl.C3.A2me"></span><span class="mw-headline" id="Blâme">Blâme</span></h3>
<div id="itsfree" style="text-align:center;color:black;background:#FDE0A8;margin:1em 7em;padding:0.5em 2em;border:2px solid #FF5706;">Section TBD</div>
<p>Ajouter du contenu depuis <a class="external free" href="https://forum.freecadweb.org/viewtopic.php?f=23&amp;t=55943&amp;p=481483#p481287" rel="nofollow">https://forum.freecadweb.org/viewtopic.php?f=23&amp;t=55943&amp;p=481483#p481287</a>
</p><p><span id="Bisect"></span>
</p>
<h3><span class="mw-headline" id="Dichotomie">Dichotomie</span></h3>
<p><code>git bisect</code> est une méthode pour trouver la livraison (commit) spécifique qui a introduit un bug. 
</p><p>Vous devez trouver 2 livraisons : 
</p>
<ul><li>Une bonne livraison (par exemple <code>abcd</code>) avant que le système ne soit cassé.</li>
<li>Une mauvaise livraison (par exemple <code>efgh</code>) après la panne du système.</li></ul>
<p>Puis entrez ceci depuis le terminal :
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git bisect start
git bisect good abcd
git bisect bad efgh
</pre></div>
<p>Résultat : <code>git</code> vérifiera le point médian entre les deux livraisons . 
</p><p>L'étape suivante consiste à construire et à tester le code. Si le système fonctionne, continuez le processus en tapant :
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git bisect good
</pre></div>
<p>Répétez l'étape précédente qui consiste à builder le code et à le tester.
</p><p>Si le système est cassé, tapez :
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git bisect bad
</pre></div>
<p>Répétez les étapes précédentes en appliquant <code>good</code> ou <code>bad</code> selon le résultat de vos tests.
</p><p>Éventuellement, <code>git</code> vous dira que <code>wxyz</code> est la première mauvaise livraison.
</p><p>Enfin, pour quitter le processus de dichotomie, tapez :
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git bisect reset
</pre></div>
<p>Remarque : <code>git bisect</code> prend beaucoup de temps si la bonnne et la mauvaise livraison sont très éloignées.
</p><p><span id="FreeCAD_revision_number"></span>
</p>
<h2><span id="Num.C3.A9ro_de_r.C3.A9vision_FreeCAD"></span><span class="mw-headline" id="Numéro_de_révision_FreeCAD">Numéro de révision FreeCAD</span></h2>
<p>Contrairement à Subversion qui incrémente le numéro de révision, Git génère une <a class="external text" href="https://en.wikipedia.org/wiki/SHA-1" rel="nofollow">valeur de hachage SHA-1</a> à chaque "commit". Une valeur de hachage est une longue chaîne de caractères alphanumériques qui ressemble à ceci :
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>9b3ffef570596e184006287434fba54a4b03ccc3
</pre></div>
<p><span id="Latest_revision_number"></span>
</p>
<h3><span id="Quelle_est_la_derni.C3.A8re_r.C3.A9vision_de_FreeCAD_Dev_.3F"></span><span class="mw-headline" id="Quelle_est_la_dernière_révision_de_FreeCAD_Dev_?">Quelle est la dernière révision de FreeCAD Dev ?</span></h3>
<p>Pour trouver le dernier numéro de révision d'une branche particulière, utilisez l'opération <code>rev-list</code> avec l'option <code>--count</code>. Donnez le nom de la branche, du référentiel distant, de la balise ou un pointeur spécial tel que <code>HEAD</code>, pour indiquer le dernier commit dans cet objet particulier.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git rev-list --count main
git rev-list --count HEAD
git rev-list --count origin
</pre></div>
<p>ou parcourez <a class="external text" href="https://github.com/FreeCAD/FreeCAD" rel="nofollow">le dépôt sur GitHub</a> et lisez le nombre de mises à jour (commits) effectuées dans la branche correspondante.
</p><p><span id="Revision_number_of_a_specific_commit_hash"></span>
</p>
<h3><span id="Quel_est_le_num.C3.A9ro_de_r.C3.A9vision_correspondant_.C3.A0_la_valeur_de_hachage_d.27un_.22commit.22_.3F"></span><span class="mw-headline" id="Quel_est_le_numéro_de_révision_correspondant_à_la_valeur_de_hachage_d'un_&quot;commit&quot;_?">Quel est le numéro de révision correspondant à la valeur de hachage d'un "commit" ?</span></h3>
<p>Comme la valeur de hachage est une chaîne de caractères alphanumériques, il n'est pas très utile de savoir si un "commit" est plus ancien ou plus récent qu'un autre. Pour trouver le numéro de révision correspond à une valeur de hachage particulière, utilisez à nouveau l'opération <code>rev-list</code>; l'entrée peut être la valeur de hachage complète ou une valeur de hachage partielle qui est unique, généralement les 7 premiers chiffres sont suffisants.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git rev-list --count ab1520b872821414c6ce4a15fb85d471ac2a2b03
git rev-list --count 9948ee4
</pre></div>
<p><span id="Revision_hash_of_a_specific_commit_number"></span>
</p>
<h3><span id="Quel_est_la_valeur_de_hachage_correspondante_au_num.C3.A9ro_de_r.C3.A9vision_d.27un_.22commit.22_.3F"></span><span class="mw-headline" id="Quel_est_la_valeur_de_hachage_correspondante_au_numéro_de_révision_d'un_&quot;commit&quot;_?">Quel est la valeur de hachage correspondante au numéro de révision d'un "commit" ?</span></h3>
<p>Si nous avons un "commit" qui porte le numéro 15000 et que nous voulons trouver la valeur de hachage correspondante, nous allons avoir besoin de calculer le nombre de "commits" réalisés entre ce "commit" et le dernier "commit" (<code>HEAD</code>). Dans un premier temps, cherchons le numéro du dernier "commit".
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git rev-list --count HEAD
17465
</pre></div>
<p>Puis, soustrayons à ce résultat le "commit" que nous voulons.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>17465 - 15000 = 2465
</pre></div>
<p>Puis, utilisez la commande <code>log</code> pour afficher la liste des "commits" et des valeurs de hachage. L'option <code>--skip</code> permet de sauter la différence dans les "commits" que nous avons calculez, ce qui nous permet d'aller directement à la valeur de hachage que nous recherchons.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git log --skip=2465
commit 44c2f19e380e76b567d114a6360519d66f7a9e24
</pre></div>
<p>Il se peut que le résultat vous affiche 2 "commits" assez proches, confirmez que ce soit le bon numéro de "commit". Si ce n'est pas le cas, choisissez simplement le prochain "commit" dans la séquence (avant ou après) et vérifiez à nouveau.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git rev-list --count 44c2f19e38
15000
</pre></div>
<ul><li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=10&amp;t=26673" rel="nofollow">Show the commits</a> juste avant un commit particulier dans GitHub: dans la barre d’adresse du navigateur, changez le mot <code>commit</code> par <code>commits</code> pour afficher la liste.</li>
<li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?t=5308" rel="nofollow">Trouver le numéro de révision du commit</a></li>
<li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=18&amp;t=12883&amp;p=103207#p103203" rel="nofollow">Trouver le numéro de révision du commit</a></li>
<li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=10&amp;t=31118" rel="nofollow">Recherche de la valeur de hachage correspondante pour un numéro de validation particulier</a></li></ul>
<p><span id="Revision_number_in_FreeCAD's_interface"></span>
</p>
<h3><span id="Comment_le_num.C3.A9ro_de_r.C3.A9vision_dans_l.27aide_de_FreeCAD_est-il_g.C3.A9n.C3.A9r.C3.A9_.3F"></span><span class="mw-headline" id="Comment_le_numéro_de_révision_dans_l'aide_de_FreeCAD_est-il_généré_?">Comment le numéro de révision dans l'aide de FreeCAD est-il généré ?</span></h3>
<p>Le numéro de version qui apparait avec l'outil <a href="../fr\Std_About.html" title="Std About/fr">Std About</a> est définit dans le fichier <code>src/Build/Version.h</code>, qui est créé au moment de la compilation lorsque l'outil <code>cmake</code> est exécuté. Lisez le post <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=4&amp;t=3025" rel="nofollow">Extract version number from git source</a> pour plus d'informations.
</p><p><span id="Adding_other_repositories_(remotes)"></span>
</p>
<h2><span id="Ajout_d.27autres_r.C3.A9f.C3.A9rentiels_.28distants.29"></span><span class="mw-headline" id="Ajout_d'autres_référentiels_(distants)">Ajout d'autres référentiels (distants)</span></h2>
<p>Plusieurs collaborateurs du projet FreeCAD ont leurs propres référentiels Git où ils développent leur travail où ils expérimentent de nouvelles idées avant d'être prêts à être inclus dans le code source officiel. Vous voudrez peut-être obtenir leurs sources afin de tester leur code vous-même lorsqu'ils font une demande d'extraction.
</p><p>Utilisez la commande <code>git remote</code> pour ajouter ces autres référentiels afin que vous puissiez <code>fetch</code> (récupérer) et <code>pull</code> (pousser) suivre leurs codes.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout main
git remote add OTHER_USER OTHER_URL
git fetch OTHER_USER
git checkout -b OTHER_BRANCH OTHER_USER/OTHER_BRANCH
</pre></div>
<p>Par exemple, ajoutons le dépôt de Bernd:
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git remote add bernd http://github.com/berndhahnebach/FreeCAD_bhb
</pre></div>
<p>La commande <code>git fetch</code> télécharge les références à partir de ce dépôt distant.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git fetch bernd
</pre></div>
<p>Répertoriez toutes les branches de votre propre dépôt et celles de vous avez ajoutées. Les branches de Bernd s'afficheront sous la forme <code>remotes/bernd/&lt;branchname&gt;</code>.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git branch -a
</pre></div>
<p>Maintenant, regardons une liste résumée des 10 derniers commits de la branche <code>femdev</code> de Bernd.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git log -10 --oneline remotes/bernd/femdev
</pre></div>
<p>Maintenant, nous pouvons vérifier la branche à inspecter.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout remotes/bernd/femdev
</pre></div>
<p>Ensuite, nous pouvons créer une branche locale basée sur la branche distante. Cette branche locale, nous pouvons la modifier et y ajouter notre propre code.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git checkout -b local_branch_name /remotes/bernd/femdev
</pre></div>
<p>Vous pouvez souhaiter <code>git rebase</code> la branche nouvellement obtenue sur la branche <code>upstream/main</code> pour vous assurer qu'elle utilise le dernier code. S'il y a des conflits, ils devront être traités à ce stade.
</p>
<div class="mw-highlight mw-highlight-lang-text mw-content-ltr" dir="ltr"><pre><span></span>git pull --rebase upstream main
</pre></div>
<p>La nouvelle branche est prête à être modifiée et compilée comme décrit dans <a href="../fr\Compiling.html" title="Compiling/fr">Compiler</a>.
</p><p>Dirigez vous vers la section de développement du <a class="external text" href="https://forum.freecadweb.org/viewforum.php?f=6" rel="nofollow">forum FreeCAD</a> pour discuter du développement.
</p><p><span id="Further_reading"></span>
</p>
<h2><span id="Lecture_compl.C3.A9mentaire"></span><span class="mw-headline" id="Lecture_complémentaire">Lecture complémentaire</span></h2>
<ul><li><a href="../fr\Developing_FreeCAD_with_GitKraken.html" title="Developing FreeCAD with GitKraken/fr">Développer FreeCAD avec GitKraken</a>, un guide pour utiliser l'interface graphique avec Git.</li>
<li><a class="external text" href="https://wiki.spheredev.org/index.php/Git_for_the_lazy" rel="nofollow">Git pour les paresseux</a>, un guide très concis des principales commandes de <code>git</code>.</li>
<li>Le <a class="external text" href="https://git-scm.com/book" rel="nofollow">Pro Git book</a> livre open source vous enseignant Git; il est disponible en versions électronique et imprimée.</li>
<li>Le <a class="external text" href="https://marklodato.github.io/visual-git-guide" rel="nofollow">Visual Git guide</a>, une référence avec des diagrammes expliquant les opérations les plus courantes avec Git.</li>
<li><a class="external text" href="https://www.youtube.com/watch?v=HVsySz-h9r4" rel="nofollow">Git Tutorial for Beginners: Command-Line Fundamentals</a>, vidéo de Corey Schafer.</li>
<li><a class="external text" href="https://www.youtube.com/watch?v=uR6G2v_WsRA" rel="nofollow">Introduction to Git - Core Concepts</a>, vidéo de David Mahler.</li></ul>
<div style="clear:both"></div>
<!-- 
NewPP limit report
Cached time: 20241214203058
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.360 seconds
Real time usage: 8.487 seconds
Preprocessor visited node count: 2608/1000000
Post‐expand include size: 16170/2097152 bytes
Template argument size: 10416/2097152 bytes
Highest expansion depth: 6/100
Expensive parser function count: 91/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 23089/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00% 8292.592      1 -total
 99.50% 8251.428     91 Template:Code
  0.07%    5.935    163 Template:Incode
  0.02%    1.960      1 Template:TOCright
  0.02%    1.325      1 Template:Clear
  0.02%    1.315      2 Template:Caption
  0.01%    1.180     12 Template:URL
  0.01%    1.089      2 Template:URLn
  0.01%    0.947      2 Template:VeryImportantMessage
  0.01%    0.912      1 Template:Emphasis
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:2784-0!canonical and timestamp 20241214203049 and revision id 1481570. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
