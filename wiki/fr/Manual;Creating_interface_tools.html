<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Manual:Creating interface tools/fr</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Manual;Creating_interface_tools.html" lang="de" title="Handbuch:Erstellen von Oberflächenwerkzeugen (100% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Manual;Creating_interface_tools.html" lang="en" title="Manual:Creating interface tools (100% translated)">English</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="fr">français</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Manual;Creating_interface_tools.html" lang="it" title="Manuale:Creare interfacce di strumenti (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Manual;Creating_interface_tools.html" lang="pl" title="Podręcznik:Tworzenie narzędzi interfejsu (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="Manual;Creating_interface_tools.html" lang="ro" title="Manual:Crearea de instrumente de interfață (77% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="Manual;Creating_interface_tools.html" lang="ru" title="Создание инструментов интерфейса (77% translated)">русский</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/fr">Création d'objets paramétriques</a></div>
<div style="margin: 4px 0; float: right;"><a href="Manual;The_Community.html" title="Manual:The Community/fr">La communauté</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="Manual;Introduction.html" title="Manual:Introduction/fr">Début du manuel</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Crystal_Clear_manual.png" srcset="/images/thumb/2/2f/Crystal_Clear_manual.png/36px-Crystal_Clear_manual.png 1.5x, /images/thumb/2/2f/Crystal_Clear_manual.png/48px-Crystal_Clear_manual.png 2x" width="24"/></span></span></div>
</div>
<div class="manualtoc" id="toc" style="float:right; margin:10px 0px 10px 10px;">
<ul><li><a href="Manual;Introduction.html" title="Manual:Introduction/fr">Introduction</a></li>
<li>Découvrir FreeCAD
<ul><li><a href="Manual;What_is_FreeCAD.html" title="Manual:What is FreeCAD/fr">Qu'est-ce que FreeCAD ?</a></li>
<li><a href="Manual;Installing.html" title="Manual:Installing/fr">Installation</a>
<ul><li><a href="Manual;Installing.html#Installation_sur_Windows" title="Manual:Installing/fr">Installation sur Windows</a></li>
<li><a href="Manual;Installing.html#Installation_sur_Linux" title="Manual:Installing/fr">Installation sur Linux</a></li>
<li><a href="Manual;Installing.html#Installation_sur_Mac_OS" title="Manual:Installing/fr">Installation sur Mac OS</a></li>
<li><a href="Manual;Installing.html#Désinstallation" title="Manual:Installing/fr">Désinstallation</a></li>
<li><a href="Manual;Installing.html#Définir_les_préférences_de_base" title="Manual:Installing/fr">Définir les préférences de base</a></li>
<li><a href="Manual;Installing.html#Installation_de_contenu_supplémentaire" title="Manual:Installing/fr">Installation de contenu supplémentaire</a></li></ul></li>
<li><a href="Manual;The_FreeCAD_Interface.html" title="Manual:The FreeCAD Interface/fr">L'interface FreeCAD</a>
<ul><li><a href="Manual;The_FreeCAD_Interface.html#Les_ateliers" title="Manual:The FreeCAD Interface/fr">Les ateliers</a></li>
<li><a href="Manual;The_FreeCAD_Interface.html#L.27interface" title="Manual:The FreeCAD Interface/fr">L'interface</a></li>
<li><a href="Manual;The_FreeCAD_Interface.html#Personnalisation_de_l.27interface" title="Manual:The FreeCAD Interface/fr">Personnalisation de l'interface</a></li></ul></li>
<li><a href="Manual;Navigating_in_the_3D_view.html" title="Manual:Navigating in the 3D view/fr">Navigation dans la vue 3D</a>
<ul><li><a href="Manual;Navigating_in_the_3D_view.html#Un_mot_sur_l.27espace_3D" title="Manual:Navigating in the 3D view/fr">Un mot sur l'espace 3D</a></li>
<li><a href="Manual;Navigating_in_the_3D_view.html#La_vue_3D_FreeCAD" title="Manual:Navigating in the 3D view/fr">La vue 3D FreeCAD</a></li>
<li><a href="Manual;Navigating_in_the_3D_view.html#S.C3.A9lection_d.27objets" title="Manual:Navigating in the 3D view/fr">Sélection d'objets</a></li></ul></li>
<li><a href="Manual;The_FreeCAD_document.html" title="Manual:The FreeCAD document/fr">Le document FreeCAD</a></li>
<li><a href="Manual;Parametric_objects.html" title="Manual:Parametric objects/fr">Objets paramétriques</a></li>
<li><a href="Manual;Import_and_export_to_other_filetypes.html" title="Manual:Import and export to other filetypes/fr">Importer et exporter vers d'autres types de fichiers</a></li></ul></li>
<li>Travailler avec FreeCAD
<ul><li><a href="Manual;All_workbenches_at_a_glance.html" title="Manual:All workbenches at a glance/fr">Tous les ateliers en un coup d'œil</a></li>
<li><a href="Manual;Traditional_modeling,_the_CSG_way.html" title="Manual:Traditional modeling, the CSG way/fr">Modélisation traditionnelle, mode CSG</a></li>
<li><a href="Manual;Traditional_2D_drafting.html" title="Manual:Traditional 2D drafting/fr">Dessin 2D traditionnel</a></li>
<li><a href="Manual;Modeling_for_product_design.html" title="Manual:Modeling for product design/fr">Modélisation pour la conception de produits</a></li>
<li><a href="Manual;Preparing_models_for_3D_printing.html" title="Manual:Preparing models for 3D printing/fr">Préparation de modèles pour l'impression 3D</a>
<ul><li><a href="Manual;Preparing_models_for_3D_printing.html#Exportation_vers_des_trancheuses" title="Manual:Preparing models for 3D printing/fr">Exportation vers des trancheuses</a></li>
<li><a href="Manual;Preparing_models_for_3D_printing.html#Conversion_d.27objets_en_mailles" title="Manual:Preparing models for 3D printing/fr">Conversion d'objets en mailles</a></li>
<li><a href="Manual;Preparing_models_for_3D_printing.html#Utilisation_de_Slic3r" title="Manual:Preparing models for 3D printing/fr">Utilisation de Slic3r</a></li>
<li><a href="Manual;Preparing_models_for_3D_printing.html#Utilisation_du_greffon_.28addon.29_Cura" title="Manual:Preparing models for 3D printing/fr">Utilisation de l'extension Cura</a></li>
<li><a href="Manual;Preparing_models_for_3D_printing.html#G.C3.A9n.C3.A9ration_du_G-code" title="Manual:Preparing models for 3D printing/fr">Génération du G-code</a></li></ul></li>
<li><a href="Manual;Generating_2D_drawings.html" title="Manual:Generating 2D drawings/fr">Génération de dessins 2D</a></li>
<li><a href="Manual;BIM_modeling.html" title="Manual:BIM modeling/fr">Modélisation BIM</a></li>
<li><a href="Manual;Using_spreadsheets.html" title="Manual:Using spreadsheets/fr">Utilisation de feuilles de calcul</a>
<ul><li><a href="Manual;Using_spreadsheets.html#Lecture_de_propri.C3.A9t.C3.A9s" title="Manual:Using spreadsheets/fr">Lecture de propriétés</a></li>
<li><a href="Manual;Using_spreadsheets.html#Ecriture_de_propri.C3.A9t.C3.A9s" title="Manual:Using spreadsheets/fr">Écriture de propriétés</a></li></ul></li>
<li><a href="Manual;Creating_FEM_analyses.html" title="Manual:Creating FEM analyses/fr">Création d'analyses FEM</a></li>
<li><a href="Manual;Creating_renderings.html" title="Manual:Creating renderings/fr">Création de rendus réalistes</a></li></ul></li>
<li>Programmation Python
<ul><li><a href="Manual;A_gentle_introduction.html" title="Manual:A gentle introduction/fr">Introduction à Python</a>
<ul><li><a href="Manual;A_gentle_introduction.html#Ecrire_du_code_python" title="Manual:A gentle introduction/fr">Écrire du code Python</a></li>
<li><a href="Manual;A_gentle_introduction.html#Manipuler_des_objets_FreeCAD" title="Manual:A gentle introduction/fr">Manipuler des objets FreeCAD</a></li>
<li><a href="Manual;A_gentle_introduction.html#Vecteurs_et_emplacements" title="Manual:A gentle introduction/fr">Vecteurs et emplacements</a></li></ul></li>
<li><a href="Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/fr">Création et manipulation de la géométrie</a></li>
<li><a href="Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/fr">Création d'objets paramétriques</a></li>
<li><a class="mw-selflink selflink">Création d'outils d'interface</a></li></ul></li>
<li><a href="Manual;The_Community.html" title="Manual:The Community/fr">La communauté</a></li></ul></div>
<p>Dans les deux derniers chapitres, nous avons vu comment créer la géométrie Part (<a href="Manual;Creating_and_manipulating_geometry.html" title="Manual:Creating and manipulating geometry/fr">Création et manipulation de la géométrie</a>) et créer des objets paramétriques (<a href="Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/fr">Création d'objets paramétriques</a>). Une dernière pièce manque pour avoir un contrôle total sur FreeCAD: créer des outils qui interagiront avec l'utilisateur.
</p><p>Dans de nombreuses situations, il n'est pas très convivial de construire un objet avec des valeurs nulles, comme nous avons fait avec le rectangle dans le chapitre précédent, puis de demander à l'utilisateur de remplir la hauteur et la largeur dans le panneau Propriétés. Cela fonctionne pour un très petit nombre d'objets, mais devient très fastidieux si vous avez beaucoup de rectangles à réaliser. Une meilleure façon serait d'être capable de donner déjà la hauteur et la largeur lors de la création du rectangle.
</p><p>Python offre un outil de base permettant à l'utilisateur de saisir du texte à l'écran :
</p>
<pre>text = raw_input("Height of the rectangle?")
print("The entered height is ",text)
</pre>
<p>Cependant, cela nécessite une console Python en cours d'exécution et, lors de l'exécution de notre code à partir d'une macro, nous ne sommes pas toujours sûrs que la console Python sera activée sur la machine de l'utilisateur.
</p><p>L'<a class="external text" href="https://fr.wikipedia.org/wiki/Interface_graphiquel" rel="nofollow">interface utilisateur graphique</a>, ou GUI en anglais, c'est-à-dire toute la partie de FreeCAD qui s'affiche sur votre écran (le menu, les barres d'outils, la vue 3D, etc.) a pour seul objet: interagir avec l’utilisateur. L'interface de FreeCAD est construite avec <a class="external text" href="https://fr.wikipedia.org/wiki/Qt" rel="nofollow">Qt</a>, une trousse d'outils GUI open source très commune qui offre une large gamme d'outils tels que des boîtes de dialogue, des boutons, des étiquettes, des boîtes de saisie de texte ou des menus déroulants (tout cela est généralement appelé "widgets").
</p><p>Les outils Qt sont très faciles à utiliser depuis Python, grâce à un module Python appelé <a class="external text" href="https://fr.wikipedia.org/wiki/PySide" rel="nofollow">Pyside</a> (Il existe aussi plusieurs autres modules Python pour communiquer avec Qt depuis Python). Ce module vous permet de créer et d'interagir avec des widgets, lire ce que l'utilisateur a fait avec eux (ce qui a été rempli dans des zones de texte) ou faire des choses quand, par exemple, un bouton a été pressé.
</p><p>Qt fournit également un autre outil intéressant appelé <a class="external text" href="http://doc.qt.io/qt-4.8/designer-manual.html" rel="nofollow">Qt Designer</a>, aujourd'hui incorporé à l'intérieur d’une plus grande application appelée <a class="external text" href="https://fr.wikipedia.org/wiki/Qt_Creator" rel="nofollow">Qt Creator</a>. Il permet de concevoir des boîtes de dialogue et des panneaux d'interface graphiquement au lieu d'avoir à les coder manuellement. Dans ce chapitre, nous utiliserons Qt Creator pour dessiner un widget de panneau que nous utiliserons dans le <b>panneau des tâches</b> de FreeCAD. Vous devrez télécharger et installer Qt Creator à partir de sa page officielle (<a class="external text" href="https://www.qt.io/ide/" rel="nofollow">official page</a>) si vous êtes sur Windows ou Mac. Sur Linux, il est généralement disponible auprès de votre application de gestionnaire de logiciels.
</p><p>Dans l'exercice suivant, nous allons d'abord créer un panneau avec Qt Creator qui demande les valeurs de longueur, de largeur et de hauteur, alors nous allons créer une classe Python autour de lui, qui lira les valeurs entrées par l'utilisateur à partir du panneau, et créer une boîte avec les dimensions données. Cette classe Python sera ensuite utilisée par FreeCAD pour afficher et contrôler le panneau des tâches :
</p><p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_07.jpg"><img decoding="async" height="112" src="../File/Exercise_python_07.jpg" width="181"/></a></span>
</p><p>Commençons par créer le widget. Démarrez Qt Creator, puis menu <b>Fichier → Nouveau fichier ou projet → Fichiers et classes → Qt → Formulaire Qt Designer → Boîte de dialogue sans boutons</b>. Cliquez sur <b>Suivant</b>, donnez lui un nom de fichier pour l’enregistrer, cliquez sur <b>Suivant</b>, laissez tous les champs de projet à leur valeur par défaut ("&lt;none&gt;") et <b>Créer</b>. Le système de tâches de FreeCAD ajoutera automatiquement les boutons OK / Annuler, c'est pourquoi nous avons choisi ici une boîte de dialogue sans boutons.
</p><p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_06.jpg"><img decoding="async" height="877" src="../File/Exercise_python_06.jpg" width="1237"/></a></span>
</p>
<ul><li>Trouvez le <b>Label</b> (étiquette) dans la liste du panneau de gauche et faites-le glisser sur le canevas de notre widget. Double-cliquez sur l'étiquette récemment placée, et modifiez son texte en <b>Longueur</b>.</li>
<li>Cliquez avec le bouton droit de la souris sur la toile du widget, puis choisissez <b>Lay out → Lay out in a Grid</b>. Cela mettra notre widget dans une grille avec actuellement une seule cellule, occupée par notre première étiquette. Nous pouvons maintenant ajouter les éléments suivants à gauche, à droite, en haut ou en bas de notre première étiquette, et la grille s’étendra automatiquement.</li>
<li>Ajoutez deux autres étiquettes en dessous de la première et modifiez leur texte en <b>Largeur</b> et <b>Hauteur</b> :</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_08.jpg"><img decoding="async" height="367" src="../File/Exercise_python_08.jpg" width="897"/></a></span>
</p>
<ul><li>Maintenant, placez 3 widgets <b>Double Spin Box</b> à côté de nos étiquettes Longueur, Largeur et Hauteur. Pour chacun d'entre eux, dans le panneau inférieur droit qui affiche tous les paramètres disponibles pour le Widget sélectionné, localisez <b>Suffix</b> et définissez leur suffixe en <b>mm</b>. FreeCAD a un widget plus avancé qui peut gérer différentes unités mais cela n'est pas disponible dans Qt Creator par défaut (néanmoins il peut être (<a href="Compile_on_Linux.html#Plugin_Qt_designer" title="Compile on Linux/fr">compilé</a>)), alors, pour l'instant, nous utiliserons une Double Spin Box standard et nous ajouterons le suffixe "mm" pour nous assurer que l'utilisateur sait dans quelle unité ils fonctionnent :</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_09.jpg"><img decoding="async" height="609" src="../File/Exercise_python_09.jpg" width="1053"/></a></span>
</p>
<ul><li>Maintenant, notre widget est terminé, il suffit de nous assurer d'une dernière chose. Étant donné que FreeCAD devra accéder à ce widget et lire les valeurs Longueur, Largeur et Hauteur, nous devons donner les noms appropriés à ces widgets, afin que nous puissions les récupérer facilement dans FreeCAD. Cliquez sur chacune des boîtes Double Spin, et dans la fenêtre supérieure droite, double-cliquez sur leur nom d'objet, et modifiez-les par quelque chose de facile à retenir, par exemple : BoxLength, BoxWidth et BoxHeight :</li></ul>
<p><span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Exercise_python_10.jpg"><img decoding="async" height="513" src="../File/Exercise_python_10.jpg" width="979"/></a></span>
</p>
<ul><li>Enregistrez le fichier, vous pouvez maintenant fermer Qt Creator, le reste se fera dans Python.</li>
<li>Ouvrez FreeCAD et créez une nouvelle macro dans le menu <b>Macro → Macros → Créer</b></li>
<li>Collez le code suivant. Assurez-vous de modifier le chemin du fichier pour correspondre à l'endroit où vous avez enregistré le fichier .ui créé dans QtCreator :</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">FreeCAD</span><span class="o">,</span><span class="nn">FreeCADGui</span><span class="o">,</span><span class="nn">Part</span>
 
<span class="c1"># CHANGE THE LINE BELOW</span>
<span class="n">path_to_ui</span> <span class="o">=</span> <span class="s2">"C:\Users\yorik\Documents\dialog.ui"</span>
 
<span class="k">class</span> <span class="nc">BoxTaskPanel</span><span class="p">:</span>
   <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="c1"># this will create a Qt widget from our ui file</span>
       <span class="bp">self</span><span class="o">.</span><span class="n">form</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">PySideUic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="n">path_to_ui</span><span class="p">)</span>
 
   <span class="k">def</span> <span class="nf">accept</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
       <span class="n">length</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxLength</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="n">width</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxWidth</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">form</span><span class="o">.</span><span class="n">BoxHeight</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
       <span class="k">if</span> <span class="p">(</span><span class="n">length</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">width</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">height</span> <span class="o">==</span> <span class="mi">0</span><span class="p">):</span>
           <span class="nb">print</span><span class="p">(</span><span class="s2">"Error! None of the values can be 0!"</span><span class="p">)</span>
           <span class="c1"># we bail out without doing anything</span>
           <span class="k">return</span>
       <span class="n">box</span> <span class="o">=</span> <span class="n">Part</span><span class="o">.</span><span class="n">makeBox</span><span class="p">(</span><span class="n">length</span><span class="p">,</span><span class="n">width</span><span class="p">,</span><span class="n">height</span><span class="p">)</span>
       <span class="n">Part</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">box</span><span class="p">)</span>
       <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">closeDialog</span><span class="p">()</span>
        
<span class="n">panel</span> <span class="o">=</span> <span class="n">BoxTaskPanel</span><span class="p">()</span>
<span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">showDialog</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
<p>Dans le code ci-dessus, nous avons utilisé une fonction commode (PySideUic.loadUi) à partir du module FreeCADGui. Cette fonction charge un fichier .ui, crée un widget Qt à partir de celui-ci et écrit les noms, afin que nous puissions accéder facilement au sous-espace par leurs noms (ex: self.form.BoxLength).
</p><p>La fonction "accept" est également une commodité offerte par Qt. Lorsqu'il existe un bouton "OK" dans une boîte de dialogue (ce qui est le cas par défaut lors de l'utilisation du panneau des Tâches FreeCAD), toute fonction appelée "accept" sera automatiquement exécutée lorsque vous appuyez sur le bouton "OK". De même, vous pouvez également ajouter une fonction de "reject" qui s'exécute lorsque vous appuyez sur le bouton "Annuler". Dans notre cas, nous avons supprimé cette fonction, alors appuyer sur "Annuler" provoquera le comportement par défaut (ne rien faire et fermer la boîte de dialogue).
</p><p>Si nous implémentons une des fonctions d'acceptation ou de rejet, leur comportement par défaut (ne rien faire et fermer) ne se produira plus. Nous devons donc fermer le panneau de tâches nous-mêmes. Cela se fait avec :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">closeDialog</span><span class="p">()</span>
</pre></div>
<p>Une fois que nous avons notre BoxTaskPanel qui a 1- un widget appelé "self.form" et 2- si nécessaire, les fonctions Accepter et Rejeter, nous pouvons ouvrir le panneau de tâches avec lui, ce qui est fait avec ces deux dernières lignes :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">panel</span> <span class="o">=</span> <span class="n">BoxTaskPanel</span><span class="p">()</span>
 <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Control</span><span class="o">.</span><span class="n">showDialog</span><span class="p">(</span><span class="n">panel</span><span class="p">)</span>
</pre></div>
<p>Notez que le widget créé par PySideUic.loadUi n'est pas spécifique à FreeCAD, c'est un widget Qt standard qui peut être utilisé avec d'autres outils Qt. Par exemple, nous aurions pu afficher une boîte de dialogue distincte. Essayez ceci dans la console Python de FreeCAD (en utilisant le chemin correct pour votre fichier .ui bien sûr) :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">PySide</span> <span class="kn">import</span> <span class="n">QtGui</span>
 <span class="n">w</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">PySideUic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="s2">"C:\Users\yorik\Documents\dialog.ui"</span><span class="p">)</span>
 <span class="n">w</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
<p>Bien sûr, nous n'avons ajouté aucun bouton "OK" ou "Annuler" à notre fenêtre de dialogue, car il a été fait pour être utilisé à partir du panneau de tâches FreeCAD, qui fournit déjà de tels boutons. Il n'y a donc aucun moyen de fermer la fenêtre de dialogue (autrement que de presser son bouton Fermer la fenêtre). Mais la fonction show () crée une fenêtre de dialogue non modale, ce qui signifie qu'elle ne bloque pas le reste de l'interface. Ainsi, alors que notre fenêtre de dialogue est toujours ouverte, nous pouvons lire les valeurs des champs :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">w</span><span class="o">.</span><span class="n">BoxHeight</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
</pre></div>
<p>Ceci est très utile pour les tests.
</p><p>Enfin, n'oubliez pas qu'il existe beaucoup plus de documentation sur l'utilisation des widgets Qt dans le Wiki FreeCAD, dans la section <a href="Power_users_hub.html" title="Power users hub">Python Scripting</a>, qui contient un didacticiel de création de dialogue (<a href="Dialog_creation.html" title="Dialog creation">dialog creation tutorial</a>), un tutoriel spécial en 3 parties de PySide (<a href="PySide.html" title="PySide">PySide tutorial</a>) qui couvre le sujet en profondeur.
</p>
<h2><span class="mw-headline" id="Liens_pertinents">Liens pertinents</span></h2>
<ul><li><a class="external text" href="https://fr.wikipedia.org/wiki/Qt_Creator" rel="nofollow">Qt Creator Documentation</a></li>
<li><a class="external text" href="https://www.qt.io/qt-features-libraries-apis-tools-and-ide/" rel="nofollow">Installing Qt Creator</a></li>
<li><a href="Power_users_hub.html" title="Power users hub/fr">Documentation pour utilisateurs avancés</a></li>
<li><a href="Dialog_creation.html" title="Dialog creation/fr">Création de dialogue</a></li>
<li><a href="PySide.html" title="PySide/fr">PySide</a></li>
<li><a class="external text" href="http://srinikom.github.io/pyside-docs/index.html" rel="nofollow">Documentation PySide</a></li></ul>
<p><br/>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="Manual;Creating_parametric_objects.html" title="Manual:Creating parametric objects/fr">Création d'objets paramétriques</a></div>
<div style="margin: 4px 0; float: right;"><a href="Manual;The_Community.html" title="Manual:The Community/fr">La communauté</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="Manual;Introduction.html" title="Manual:Introduction/fr">Début du manuel</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Crystal_Clear_manual.png" srcset="/images/thumb/2/2f/Crystal_Clear_manual.png/36px-Crystal_Clear_manual.png 1.5x, /images/thumb/2/2f/Crystal_Clear_manual.png/48px-Crystal_Clear_manual.png 2x" width="24"/></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" srcset="/images/thumb/8/8f/Power_user_hub.png/36px-Power_user_hub.png 1.5x, /images/thumb/8/8f/Power_user_hub.png/48px-Power_user_hub.png 2x" width="24"/></a></span> <a href="Power_users_hub.html" title="Power users hub/fr">Hub utilisateurs expérimentés</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Scripts FreeCAD :</b> <a href="Python.html" title="Python/fr">Python</a>, <a href="Introduction_to_Python.html" title="Introduction to Python/fr">Introduction à Python</a>, <a href="Python_scripting_tutorial.html" title="Python scripting tutorial/fr">Tutoriel sur les scripts Python</a>, <a href="FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/fr">Débuter avec les scripts</a></li></ul>
<hr/>
<ul><li><b>Modules :</b> <a href="Builtin_modules.html" title="Builtin modules/fr">Modules intégrés</a>, <a href="Units.html" title="Units/fr">Unités</a>, <a href="Quantity.html" title="Quantity/fr">Quantity</a></li>
<li><b>Ateliers :</b> <a href="Workbench_creation.html" title="Workbench creation/fr">Création d'atelier</a>, <a href="Gui_Command.html" title="Gui Command/fr">Commands Gui</a>, <a href="Command.html" title="Command/fr">Les commandes</a>, <a href="Installing_more_workbenches.html" title="Installing more workbenches/fr">Installer des ateliers supplémentaires</a></li>
<li><b>Maillages et objets Parts :</b> <a href="Mesh_Scripting.html" title="Mesh Scripting/fr">Scripts Mesh</a>, <a href="Topological_data_scripting.html" title="Topological data scripting/fr">Script de données topologiques</a>, <a href="Mesh_to_Part.html" title="Mesh to Part/fr">Conversion objet Mesh en Part</a>, <a href="PythonOCC.html" title="PythonOCC/fr">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Objets paramétriques :</b> <a href="Scripted_objects.html" title="Scripted objects/fr">Objets créés par script</a>, <a href="Viewprovider.html" title="Viewprovider/fr">Viewproviders</a> <small>(<a href="Custom_icon_in_tree_view.html" title="Custom icon in tree view/fr">Icône personnalisée dans l'arborescence</a>)</small></li>
<li><b>Scénographie :</b> <a href="Scenegraph.html" title="Scenegraph/fr">Graphe de scène Coin (Inventor)</a>, <a href="Pivy.html" title="Pivy/fr">Pivy</a></li>
<li><b>Interface graphique :</b> <a href="Interface_creation.html" title="Interface creation/fr">Création d'interface</a>, <a href="Dialog_creation.html" title="Dialog creation/fr">Création d'une boite de dialogue</a> <small>(<a href="Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets/fr">1</a>, <a href="Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files/fr">2</a>, <a href="Dialog_creation_setting_colors.html" title="Dialog creation setting colors/fr">3</a>, <a href="Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF/fr">4</a>, <a href="PySide_usage_snippets.html" title="PySide usage snippets/fr">5</a>)</small>, <a href="PySide.html" title="PySide/fr">PySide</a>, Exemples PySide <a href="PySide_Beginner_Examples.html" title="PySide Beginner Examples/fr">débutant</a>, <a href="PySide_Intermediate_Examples.html" title="PySide Intermediate Examples/fr">intermédiaire</a>, <a href="PySide_Advanced_Examples.html" title="PySide Advanced Examples/fr">expérimenté</a></li>
<li><b>Macros :</b> <a href="Macros.html" title="Macros/fr">Macros</a>, <a href="How_to_install_macros.html" title="How to install macros/fr">Comment installer des macros</a></li>
<li><b>Intégration :</b> <a href="Embedding_FreeCAD.html" title="Embedding FreeCAD/fr">Intégrer FreeCAD</a>, <a href="Embedding_FreeCADGui.html" title="Embedding FreeCADGui/fr">Intégration de FreeCADGui</a></li></ul>
<hr/>
<ul><li><b>Autre :</b> <a href="Expressions.html" title="Expressions/fr">Expressions</a>, <a href="Code_snippets.html" title="Code snippets/fr">Extraits de codes</a>, <a href="Line_drawing_function.html" title="Line drawing function/fr">Fonction - tracer une ligne</a>, <a href="FreeCAD_vector_math_library.html" title="FreeCAD vector math library/fr">Bibliothèque mathématique vectorielle de FreeCAD</a> <small>(déprécié)</small></li></ul>
<hr/>
<ul><li><b>Hubs :</b> <a href="User_hub.html" title="User hub/fr">Hub utilisateurs</a>, <a href="Power_users_hub.html" title="Power users hub/fr">Hub utilisateurs expérimentés</a>, <a href="Developer_hub.html" title="Developer hub/fr">Hub développeurs</a></li></ul></div>
</div></div>
<!-- 
NewPP limit report
Cached time: 20241129212351
Cache expiry: 86400
Reduced expiry: false
Complications: [no‐toc‐conversion]
CPU time usage: 0.087 seconds
Real time usage: 0.293 seconds
Preprocessor visited node count: 220/1000000
Post‐expand include size: 16556/2097152 bytes
Template argument size: 4088/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 5/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 7219/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  188.379      1 -total
 94.99%  178.944      5 Template:Code
  2.01%    3.792      1 Template:Powerdocnavi/fr
  1.88%    3.536      1 Template:Manual:TOC
  1.45%    2.734      1 Manual:Summary/fr
  0.73%    1.382      1 Template:Navigation_menu_2
  0.66%    1.240      2 Template:Docnav/fr
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:81410-0!canonical and timestamp 20241129212351 and revision id 1495426. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
