<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Macro Toggle Drawstyle Optimized/fr</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../Macro_Toggle_Drawstyle_Optimized.html" lang="en" title="Macro Toggle Drawstyle Optimized (100% translated)">English</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="fr">français</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="../it\Macro_Toggle_Drawstyle_Optimized.html" lang="it" title="Macro Toggle Drawstyle Optimized (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="../pl\Macro_Toggle_Drawstyle_Optimized.html" lang="pl" title="Makrodefinicja: Przełącz zoptymalizowany styl rysowania (5% translated)">polski</a></li></ul></div>
<table class="fcinfobox wikitable ct" style="float: right; width: 230px; margin-left: 10px;" width="100%">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Toggle_Drawstyle_Optimized.png"><img decoding="async" height="32" src="../File/Macro_Toggle_Drawstyle_Optimized.png" width="32"/></a></span><span> </span>
Macro Toggle Drawstyle Optimized
</p>
</td></tr>
<tr>
<th class="ctOdd">Description
</th></tr>
<tr>
<td class="ctEven left macro-description">Script optimisé pour toutes les langues et pour les objets sélectionnés ou tous les objets.<br/>Lorsque vous travaillez avec FreeCAD, vous pouvez parfois changer rapidement le style de dessin de l'objet avec lequel vous travaillez. Ceci est disponible via le menu déroulant Drawstyle où n'importe quel style Drawstyle peut être sélectionné. Cette macro rend disponibles 2 des styles de dessin sous forme de bouton cliquable sur une barre d'outils sur laquelle l'utilisateur peut cliquer pour basculer entre les deux styles de dessin.<br/><br/><br/>Version macro : 2.0<br/>Date dernière modification : 2020-29-01<br/>Version FreeCAD : 0.17 and above<br/>Téléchargement : <a class="external text" href="https://www.freecadweb.org/wiki/images/8/8c/Macro_Toggle_Drawstyle_Optimized.png" rel="nofollow">ToolBar Icon</a><br/>Auteur: Piffpoof , triplus<br/>
</td></tr>
<tr>
<th class="ctOdd">Auteur
</th></tr>
<tr>
<td class="ctEven macro-author"><a class="new" href="../index.php?title=User;Piffpoof_,_triplus&amp;action=edit&amp;redlink=1.html" title="User:Piffpoof , triplus (page does not exist)">Piffpoof , triplus</a>
</td></tr>
<tr>
<th class="ctOdd">Téléchargement
</th></tr>
<tr>
<td class="ctEven macro-download"><a class="external text" href="https://www.freecadweb.org/wiki/images/8/8c/Macro_Toggle_Drawstyle_Optimized.png" rel="nofollow">ToolBar Icon</a>
</td></tr>
<tr>
<th class="ctOdd">Liens
</th></tr>
<tr>
<td class="ctEven macro-Links"><a href="../fr\Macros_recipes.html" title="Macros recipes/fr">Page des macros</a><br/><a href="../fr\How_to_install_macros.html" title="How to install macros/fr">Comment installer une macro</a><br/><a href="../fr\Customize_Toolbars.html" title="Customize Toolbars/fr">Comment créer une barre d'outils</a>
</td></tr>
<tr>
<th class="ctOdd">Version Macro
</th></tr>
<tr>
<td class="ctEven macro-version">2.0
</td></tr>
<tr>
<th class="ctOdd">Dernière modification
</th></tr>
<tr>
<td class="ctEven macro-date">2020-29-01
</td></tr>
<tr>
<th class="ctOdd">Version(s) FreeCAD
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">0.17 and above
</td></tr>
<tr>
<th class="ctOdd">Raccourci clavier
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">Voir aussi
</th></tr>
<tr>
<td class="ctEven"><a href="../fr\Macro_Toggle_Drawstyle.html" title="Macro Toggle Drawstyle/fr">Macro Toggle Drawstyle</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Toggle_Drawstyle.png"><img decoding="async" height="24" src="../File/Macro_Toggle_Drawstyle.png" width="24"/></a></span>
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Utilisation"><span class="tocnumber">3</span> <span class="toctext">Utilisation</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Script"><span class="tocnumber">4</span> <span class="toctext">Script</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Script_2"><span class="tocnumber">5</span> <span class="toctext">Script 2</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Script_3"><span class="tocnumber">6</span> <span class="toctext">Script 3</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Liens"><span class="tocnumber">7</span> <span class="toctext">Liens</span></a></li>
</ul>
</div>
</td></tr>
</tbody></table>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>Script optimisé pour toutes les langues, pour les objets sélectionnés ou tous les objets.
</p><p>Trois macros sont disponibles:
</p>
<ul><li>Combinaison qui bascule le mode d'affichage global lorsque rien n'est sélectionné et/ou bascule le mode d'affichage des objets sélectionnés si des objets sont sélectionnés. Lorsque les objets sont sélectionnés, le mode d'affichage global est automatiquement défini sur Tel quel: <a href="#Script">Macro_Toggle_Drawstyle_Optimized.FCMacro</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Toggle_Drawstyle_Optimized.png"><img decoding="async" height="24" src="../File/Macro_Toggle_Drawstyle_Optimized.png" width="24"/></a></span></li>
<li>Basculer le mode d'affichage global: <a href="#Script_2">Macro_Toggle_Drawstyle_Optimized_2.FCMacro</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Toggle_Drawstyle_Optimized_2.png"><img decoding="async" height="24" src="../File/Macro_Toggle_Drawstyle_Optimized_2.png" width="24"/></a></span></li>
<li>Basculer le mode d'affichage du ou des objets sélectionnés (modifications visibles uniquement dans le mode d'affichage général tel quel (situé dans la barre d'outils Afficher)): <a href="#Script_3">Macro_Toggle_Drawstyle_Optimized_3.FCMacro</a> <span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Toggle_Drawstyle_Optimized_3.png"><img decoding="async" height="24" src="../File/Macro_Toggle_Drawstyle_Optimized_3.png" width="24"/></a></span></li></ul>
<p>Lorsque vous travaillez avec FreeCAD, vous pouvez parfois changer rapidement le style de dessin de l'objet avec lequel vous travaillez. Ceci est disponible via le menu déroulant Drawstyle où n'importe quel style Drawstyle peut être sélectionné. Cette macro rend disponibles 2 des styles de dessin sous forme de bouton cliquable sur une barre d'outils sur laquelle l'utilisateur peut cliquer pour basculer entre les deux styles de dessin.
</p>
<h2><span class="mw-headline" id="Installation">Installation</span></h2>
<p>L’installation consiste à copier les deux codes dans le répertoire Macro approprié et à l’appeler à partir du menu Macro. Il est de loin préférable de l'ajouter à la barre d'outils pour être plus facilement disponible.
</p>
<ul><li>voir <a href="../fr\How_to_install_macros.html" title="How to install macros/fr">Comment installer des macros</a> pour plus d'informations sur l'installation de ce code de macro</li>
<li>voir <a href="../fr\Customize_Toolbars.html" title="Customize Toolbars/fr">Personnaliser les barres d'outils</a> pour plus d'informations sur l'installation en tant que bouton dans une barre d'outils</li></ul>
<h2><span class="mw-headline" id="Utilisation">Utilisation</span></h2>
<p>Sélectionnez un objet, puis cliquez sur le bouton de la barre d'outils associé ou appelez-le dans le menu Macro. Le style de dessin de l'objet sélectionné basculera entre les deux styles de dessin spécifiés dans le code de macro (voir la liste de codes ci-dessous).
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p>Combinaison qui bascule le mode d'affichage global lorsque rien n'est sélectionné et/ou bascule le mode d'affichage des objets sélectionnés si des objets sont sélectionnés. Lorsque les objets sont sélectionnés, le mode d'affichage global est automatiquement défini tel quel:
</p><p><br/>
The icon ToolBar <span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Toggle_Drawstyle_Optimized.png"><img decoding="async" height="64" src="../File/Macro_Toggle_Drawstyle_Optimized.png" width="64"/></a></span>
</p><p><b>Macro_Toggle_Drawstyle_Optimized.FCMacro</b>
</p>
<pre># triplus @ 2016, 2020
# Toggle object/global display mode
# ==============================

# 0 = "As is"
# 1 = "Flat lines"
# 2 = "Shaded
# 3 = "Wireframe"
# 4 = "Points"
# 5 = "Hidden line"
# 6 = "No shading"

globalA = 0
globalB = 3

a = "Flat Lines"
b = "Shaded"
c = "Wireframe"
d = "Points"

objectA = a
objectB = c

# ==============================

from PySide import QtGui
import FreeCADGui as Gui

mw = Gui.getMainWindow()
sel = Gui.Selection.getSelectionEx()


act = {
    0: mw.findChild(QtGui.QAction, "Std_DrawStyleAsIs"),
    1: mw.findChild(QtGui.QAction, "Std_DrawStyleFlatLines"),
    2: mw.findChild(QtGui.QAction, "Std_DrawStyleShaded"),
    3: mw.findChild(QtGui.QAction, "Std_DrawStyleWireframe"),
    4: mw.findChild(QtGui.QAction, "Std_DrawStylePoints"),
    5: mw.findChild(QtGui.QAction, "Std_DrawStyleHiddenLine"),
    6: mw.findChild(QtGui.QAction, "Std_DrawStyleNoShading"),
}


default = act[0]
actionA = act[globalA]
actionB = act[globalB]


if sel:
    obj = []
    default.trigger()
    for s in sel:
        if s.Object.TypeId == "App::Link":
            if s.Object.LinkedObject not in obj:
                obj.append(s.Object.LinkedObject)
        elif s.Object not in obj:
            obj.append(s.Object)
        else:
            pass

    for o in obj:
        if o.ViewObject.DisplayMode == objectA:
            o.ViewObject.DisplayMode = objectB
        else:
            o.ViewObject.DisplayMode = objectA
else:
    if actionA.isChecked():
        actionB.trigger()
    else:
        actionA.trigger()</pre>
<h2><span class="mw-headline" id="Script_2">Script 2</span></h2>
<p>Basculer le mode d'affichage global:
</p><p>The icon ToolBar <span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Toggle_Drawstyle_Optimized_2.png"><img decoding="async" height="64" src="../File/Macro_Toggle_Drawstyle_Optimized_2.png" width="64"/></a></span>
</p><p><b>Macro_Toggle_Drawstyle_Optimized_2.FCMacro</b>
</p>
<pre># triplus @ 2016, 2020
# Toggle global display mode
# ==============================

# 0 = "As is"
# 1 = "Flat lines"
# 2 = "Shaded
# 3 = "Wireframe"
# 4 = "Points"
# 5 = "Hidden line"
# 6 = "No shading"

styleA = 0
styleB = 3

# ==============================

from PySide import QtGui
import FreeCADGui as Gui

mw = Gui.getMainWindow()


act = {
    0: mw.findChild(QtGui.QAction, "Std_DrawStyleAsIs"),
    1: mw.findChild(QtGui.QAction, "Std_DrawStyleFlatLines"),
    2: mw.findChild(QtGui.QAction, "Std_DrawStyleShaded"),
    3: mw.findChild(QtGui.QAction, "Std_DrawStyleWireframe"),
    4: mw.findChild(QtGui.QAction, "Std_DrawStylePoints"),
    5: mw.findChild(QtGui.QAction, "Std_DrawStyleHiddenLine"),
    6: mw.findChild(QtGui.QAction, "Std_DrawStyleNoShading"),
}


actionA = act[styleA]
actionB = act[styleB]


if actionA.isChecked():
    actionB.trigger()
else:
    actionA.trigger()</pre>
<h2><span class="mw-headline" id="Script_3">Script 3</span></h2>
<p>Basculer le mode d'affichage du ou des objets sélectionnés (les modifications ne sont visibles qu'en mode d'affichage global tel quel (situé dans la barre d'outils Afficher)):
</p><p>The icon ToolBar <span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Toggle_Drawstyle_Optimized_3.png"><img decoding="async" height="64" src="../File/Macro_Toggle_Drawstyle_Optimized_3.png" width="64"/></a></span>
</p><p><b>Macro_Toggle_Drawstyle_Optimized_3.FCMacro</b>
</p>
<pre># triplus @ 2016, 2020
# Toggle selected object(s) display mode
# ==============================

a = "Flat Lines"
b = "Shaded"
c = "Wireframe"
d = "Points"

styleA = a
styleB = c

# ==============================

from PySide import QtGui
import FreeCADGui as Gui

obj = []
mw = Gui.getMainWindow()
sel = Gui.Selection.getSelectionEx()
mw.findChild(QtGui.QAction, "Std_DrawStyleAsIs").trigger()


for s in sel:
    if s.Object.TypeId == "App::Link":
        if s.Object.LinkedObject not in obj:
            obj.append(s.Object.LinkedObject)
    elif s.Object not in obj:
        obj.append(s.Object)
    else:
        pass


for o in obj:
    if o.ViewObject.DisplayMode == styleA:
        o.ViewObject.DisplayMode = styleB
    else:
        o.ViewObject.DisplayMode = styleA</pre>
<div style="clear:both"></div>
<h2><span class="mw-headline" id="Liens">Liens</span></h2>
<p>Le lien sur forum (2016-11-27 ver:1.0 FC =&lt; 0.17): <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=3&amp;t=14336&amp;start=40#p146239" rel="nofollow">Keyboard shortcut, View toolbar - Wireframe</a>
</p><p>The Forum link (2020-29-01 ver:2.0 FC =&gt; 0.17) : <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=3&amp;t=14336&amp;start=50#p364692" rel="nofollow">Keyboard shortcut, View toolbar - Wireframe</a>
</p>
<!-- 
NewPP limit report
Cached time: 20241214204404
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.050 seconds
Real time usage: 0.063 seconds
Preprocessor visited node count: 137/1000000
Post‐expand include size: 3073/2097152 bytes
Template argument size: 4422/2097152 bytes
Highest expansion depth: 7/100
Expensive parser function count: 2/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 4151/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    4.827      1 -total
 61.24%    2.956      1 Template:Macro/fr
 21.29%    1.028      3 Template:MacroCode
 10.23%    0.494      1 Template:Clear
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:157647-0!canonical and timestamp 20241214204404 and revision id 692569. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
