<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Debugging/fr</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="Debugging.html" lang="de" title="Fehlerdiagnose (79% translated)">Deutsch</a></li>
<li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Debugging.html" lang="en" title="Debugging (100% translated)">English</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Debugging.html" lang="tr" title="Debugging (1% translated)">Türkçe</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="Debugging.html" lang="es" title="Debugging (29% translated)">español</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="fr">français</span></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Debugging.html" lang="hr" title="Debugging (3% translated)">hrvatski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Debugging.html" lang="it" title="Debugging - Individuare gli errori (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Debugging.html" lang="pl" title="Debugowanie (100% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Debugging.html" lang="pt" title="Debugging/pt (0% translated)">português</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Debugging.html" lang="pt-BR" title="Depuração (1% translated)">português do Brasil</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="Debugging.html" lang="ro" title="Depanare (21% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Debugging.html" lang="sv" title="Debugging (1% translated)">svenska</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Debugging.html" lang="cs" title="Debugging/cs (0% translated)">čeština</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Debugging.html" lang="bg" title="Debugging (1% translated)">български</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Debugging.html" lang="ru" title="Отладка (14% translated)">русский</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Debugging.html" lang="zh" title="Debugging/zh (0% translated)">中文</a></li>
<li><a class="mw-pt-progress mw-pt-progress--low" dir="ltr" href="Debugging.html" lang="zh-Hans-CN" title="调试 (21% translated)">中文（中国大陆）</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Debugging.html" lang="zh-Hant-TW" title="Debugging/zh-tw (1% translated)">中文（臺灣）</a></li></ul></div>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="Tracker.html" title="Tracker/fr">Traqueur de bogues</a></div>
<div style="margin: 4px 0; float: right;"><a href="Testing.html" title="Testing/fr">Atelier Test</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="Online_Help_Toc.html" title="Online Help Toc/fr">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div style="clear:right; margin-bottom: .5em; float: right; padding: .5em 0 .8em 1.4em; background: none;"><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Premier_test"><span class="tocnumber">1</span> <span class="toctext">Premier test</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Ligne_de_commande"><span class="tocnumber">2</span> <span class="toctext">Ligne de commande</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Générer_un_Backtrace"><span class="tocnumber">3</span> <span class="toctext">Générer un Backtrace</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Pour_Linux"><span class="tocnumber">3.1</span> <span class="toctext">Pour Linux</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Pour_macOS"><span class="tocnumber">3.2</span> <span class="toctext">Pour macOS</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#Liste_des_bibliothèques_chargées_par_FreeCAD"><span class="tocnumber">4</span> <span class="toctext">Liste des bibliothèques chargées par FreeCAD</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Débogage_Python"><span class="tocnumber">5</span> <span class="toctext">Débogage Python</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#winpdb"><span class="tocnumber">5.1</span> <span class="toctext">winpdb</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Code_Visual_Studio_(VS_Code)"><span class="tocnumber">5.2</span> <span class="toctext">Code Visual Studio (VS Code)</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Avec_LiClipse_et_AppImage"><span class="tocnumber">5.3</span> <span class="toctext">Avec LiClipse et AppImage</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Pyzo"><span class="tocnumber">5.4</span> <span class="toctext">Pyzo</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="#Débogage_d'OpenCasCade"><span class="tocnumber">6</span> <span class="toctext">Débogage d'OpenCasCade</span></a></li>
</ul>
</div>
</div>
<p><span id="Test_First"></span>
</p>
<h2><span class="mw-headline" id="Premier_test">Premier test</span></h2>
<p>Avant de passer à la douloureuse phase de débogage, utilisez l'<a href="Testing.html" title="Testing/fr">Atelier test</a> pour vérifier si les tests standards fonctionnent correctement. Si ce n'est pas le cas, c'est peut-être dû a une installation défectueuse.
</p><p><span id="Command_Line"></span>
</p>
<h2><span class="mw-headline" id="Ligne_de_commande">Ligne de commande</span></h2>
<p>Le débogage de FreeCAD est supporté par quelques mécanismes internes. La version en ligne de commande de FreeCAD fournit des options d'aide au débogage :
</p><p>Ce sont les options actuellement reconnues par FreeCAD 0.19 :
</p><p>Options génériques :
</p>
<pre> -v [ --version ]            Affiche la version sous la forme d'une chaîne
 -h [ --help ]               Affiche un message d'aide
 -c [ --console ]            Démarre en mode console
 --response-file arg         Peut également être spécifié avec '@name' 
 --dump-config               Charge la configuration
 --get-config arg            Affiche la valeur de la clé de configuration demandée
</pre>
<p>Configuration :
</p>
<pre> -l [ --write-log ]           Ecrit un fichier log dans :
                              $HOME/.local/share/FreeCAD/FreeCAD.log (Linux)
                              $HOME/Library/Application\ Support/FreeCAD/FreeCAD.log (macOS)
                              %APPDATA%\FreeCAD\FreeCAD.log (Windows)
 --log-file arg               Contrairement à --write-log cela permet de se connecter à un fichier arbitraire
 -u [ --user-cfg ] arg        Fichier de configuration utilisateur pour charger/enregistrer les paramètres utilisateur
 -s [ --system-cfg ] arg      Fichier de configuration pour charger/enregistrer les paramètres du système
 -t [ --run-test ] arg        Cas de test - ou 0 pour tous 
 -M [ --module-path ] arg     Chemins de modules supplémentaires
 -P [ --python-path ] arg     Autres chemins Python
 --single-instance            Autoriser à exécuter une seule instance de l'application
</pre>
<p><span id="Generating_a_Backtrace"></span>
</p>
<h2><span id="G.C3.A9n.C3.A9rer_un_Backtrace"></span><span class="mw-headline" id="Générer_un_Backtrace">Générer un Backtrace</span></h2>
<p>Si vous exécutez une version de FreeCAD à partir de l'extrémité saillante de la courbe de développement, il se peut qu'il se "bloque". Vous pouvez aider à résoudre ces problèmes en fournissant aux développeurs une "backtrace". Pour ce faire, vous devez exécuter une "version de débogage" du logiciel. "Debug build" est un paramètre qui est défini au moment de la compilation, donc vous devrez soit compiler vous-même FreeCAD, soit obtenir une version "debug" précompilée.  
</p><p><span id="For_Linux"></span>
</p>
<h3><span class="mw-headline" id="Pour_Linux">Pour Linux</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>Linux Debugging → 
</p>
<div class="mw-collapsible-content">
<p>Prérequis : 
</p>
<ul><li>le package logiciel gdb installé</li>
<li>une version de débogage de FreeCAD (pour l'instant uniquement disponible par <a href="Compile_on_Linux.html#Pour_une_compilation_de_Debogage" title="Compile on Linux/fr">compilation à partir des sources</a>)</li>
<li>un modèle FreeCAD qui provoque un crash.</li></ul>
<p>Étapes :
Entrez ce qui suit dans votre fenêtre de terminal :
</p><p>Trouvez le binaire FreeCAD sur votre système :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="err">$</span> <span class="n">whereis</span> <span class="n">freecad</span>
<span class="n">freecad</span><span class="p">:</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">freecad</span> <span class="o">&lt;---</span> <span class="k">for</span> <span class="n">example</span>

<span class="err">$</span> <span class="n">cd</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">freecad</span><span class="o">/</span><span class="nb">bin</span>
<span class="err">$</span> <span class="n">gdb</span> <span class="n">FreeCAD</span>
</pre></div>
<p>GNUdebugger affichera des informations d’initialisation. Le (gdb) montre que GNUDebugger est en cours d’exécution dans le terminal, entrez maintenant :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">handle</span> <span class="n">SIG33</span> <span class="n">noprint</span> <span class="n">nostop</span>
<span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">run</span>
</pre></div>
<p>FreeCAD va maintenant démarrer. Effectuez les étapes qui provoquent le crash ou le blocage de FreeCAD, puis entrez dans la fenêtre du terminal :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">bt</span>
</pre></div>
<p>Cela va générer une longue liste de ce que le programme faisait quand il s'est planté ou gelé. Incluez ceci avec votre rapport de problème.
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">(</span><span class="n">gdb</span><span class="p">)</span> <span class="n">bt</span> <span class="n">full</span>
</pre></div>
<p>Affiche également les valeurs des variables locales. Ceci peut être combiné avec un nombre pour limiter le nombre d'images affichées.
</p>
</div></div>
<p><span id="For_macOS"></span>
</p>
<h3><span class="mw-headline" id="Pour_macOS">Pour macOS</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>macOS Debugging → 
</p>
<div class="mw-collapsible-content">
<p>Prerequis : 
</p>
<ul><li>logiciel lldb installé</li>
<li>une version de débogage de FreeCAD</li>
<li>un modèle FreeCAD qui provoque un crash</li></ul>
<p>Étapes:
Entrez ce qui suit dans la fenêtre de votre terminal :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="err">$</span> <span class="n">cd</span> <span class="n">FreeCAD</span><span class="o">/</span><span class="nb">bin</span>
<span class="err">$</span> <span class="n">lldb</span> <span class="n">FreeCAD</span>
</pre></div>
<p>LLDB générera des informations d’initialisation. Le (lldb) montre que le débogueur s'exécute dans le terminal, entrez maintenant :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">run</span>
</pre></div>
<p>FreeCAD va maintenant démarrer. Effectuez les étapes qui provoquent le crash ou le blocage de FreeCAD, puis entrez dans la fenêtre du terminal :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">bt</span>
</pre></div>
<p>Cela va générer une longue liste de ce que le programme faisait quand il s'est bloqué ou arrêté. Incluez ceci avec votre rapport de problème.
</p>
</div></div>
<p><span id="List_Libraries_Loaded_by_FreeCAD"></span>
</p>
<h2><span id="Liste_des_biblioth.C3.A8ques_charg.C3.A9es_par_FreeCAD"></span><span class="mw-headline" id="Liste_des_bibliothèques_chargées_par_FreeCAD">Liste des bibliothèques chargées par FreeCAD</span></h2>
<p>(Applicable à Linux et macOS)
</p><p>Parfois, il est utile de comprendre quelles bibliothèques FreeCAD charge, en particulier s'il y a plusieurs bibliothèques en cours de chargement du même nom mais de versions différentes (collision de versions). Afin de voir quelles bibliothèques sont chargées par FreeCAD lorsqu'il se bloque, vous devez ouvrir un terminal et l'exécuter dans le débogueur. Dans une deuxième fenêtre de terminal, découvrez l'ID du processus de FreeCAD :
</p><p><code>ps -A | grep FreeCAD</code>
</p><p>Utilisez l'ID retourné et transmettez-le à <code>lsof</code> :
</p><p><code> lsof -p process_id</code>
</p><p>Cela affiche une longue liste de ressources chargées. Ainsi, par exemple, si vous essayez de vérifier si plusieurs versions de la bibliothèque Coin3d sont chargées, faites défiler la liste ou recherchez directement Coin dans la sortie :
</p><p><code>lsof -p process_id | grep Coin</code>
</p><p><span id="Python_Debugging"></span>
</p>
<h2><span id="D.C3.A9bogage_Python"></span><span class="mw-headline" id="Débogage_Python">Débogage Python</span></h2>
<p>Pour une approche plus moderne du débogage de Python, consultez les articles suivants :
</p>
<ul><li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=22&amp;t=28901" rel="nofollow">Debugging macros with VS 2017</a></li>
<li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=10&amp;t=35383" rel="nofollow">Python workbenches debugging</a></li>
<li><a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=4&amp;t=40251" rel="nofollow">python3.dll, Qt5Windgets.dll, Qt5Gui.dll and Qt5Core.dll not found</a></li></ul>
<h3><span class="mw-headline" id="winpdb">winpdb</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>winpdb Debugging → 
</p>
<div class="mw-collapsible-content">
<p>Voici un exemple d'usage de <i>Winpdb</i> dans FreeCAD :
</p><p>Nous avons besoin du débogueur Python : <i>Winpdb</i>. Si vous ne l'avez pas installé, vous pouvez le faire sous Ubuntu/Debian avec :
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">winpdb</span>
</pre></div>
<p>Vous pouvez maintenant configurer le débogueur.
</p>
<ol><li>Démarrez <i>Winpdb</i>.</li>
<li>Définissez le mot de passe du débogueur sur "test" : Allez dans le menu "Fichier" → "Mot de passe" et définissez le mot de passe.</li></ol>
<p>Nous allons maintenant exécuter étape par étape un script de test Python dans FreeCAD.
</p>
<ol><li>Lancez winpdb et définissez le mot de passe (par exemple, test)</li>
<li>Créer un fichier Python avec ce contenu</li></ol>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">rpdb2</span>
<span class="n">rpdb2</span><span class="o">.</span><span class="n">start_embedded_debugger</span><span class="p">(</span><span class="s2">"test"</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">FreeCAD</span>
<span class="kn">import</span> <span class="nn">Part</span>
<span class="kn">import</span> <span class="nn">Draft</span>
<span class="nb">print</span> <span class="s2">"hello"</span>
<span class="nb">print</span> <span class="s2">"hello"</span>
<span class="kn">import</span> <span class="nn">Draft</span>
<span class="n">points</span><span class="o">=</span><span class="p">[</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="o">-</span><span class="mf">3.0</span><span class="p">,</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">),</span><span class="n">FreeCAD</span><span class="o">.</span><span class="n">Vector</span><span class="p">(</span><span class="o">-</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">)]</span>
<span class="n">Draft</span><span class="o">.</span><span class="n">makeWire</span><span class="p">(</span><span class="n">points</span><span class="p">,</span><span class="n">closed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">face</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">support</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
<ol><li>Démarrer FreeCAD et charger le fichier ci-dessus dans FreeCAD</li>
<li>Appuyez sur F6 pour l'exécuter</li>
<li>Maintenant, FreeCAD ne répondra plus car le débogueur Python attend</li>
<li>Passez à l'interface graphique de Windpdb et cliquez sur "Attacher". Après quelques secondes, un élément "&lt;Input&gt;" apparaît où vous devez double-cliquer</li>
<li>Maintenant, le script actuellement exécuté apparaît dans Winpdb.</li>
<li>Définir une pause à la dernière ligne et appuyez sur F5</li>
<li>Maintenant, appuyez sur F7 pour entrer dans le code Python de Draft.makeWire</li></ol>
</div></div>
<p><span id="Visual_Studio_Code_(VS_Code)"></span>
</p>
<h3><span id="Code_Visual_Studio_.28VS_Code.29"></span><span class="mw-headline" id="Code_Visual_Studio_(VS_Code)">Code Visual Studio (VS Code)</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>VS Code Debugging → 
</p>
<div class="mw-collapsible-content">
<p>Prerequis : 
</p>
<ul><li>Le paquet ptvsd doit être installé dans un Python 3 en dehors de FreeCAD, puis le module doit être copié dans le dossier de la bibliothèque Python de FreeCAD.</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="c1"># In a cmd window that has a path to you local Python 3:</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">ptvsd</span>
<span class="c1"># Then if your Python is installed in C:\Users\&lt;userid&gt;\AppData\Local\Programs\Python\Python37</span>
<span class="c1"># and your FreeCAD is installed in C:\freecad\bin</span>
<span class="n">xcopy</span> <span class="s2">"C:\Users\&lt;userid&gt;\AppData\Local\Programs\Python\Python37\Lib\site-packages\ptvsd"</span> <span class="s2">"C:</span><span class="se">\f</span><span class="s2">reecad</span><span class="se">\b</span><span class="s2">in\Lib\site-packages\ptvsd"</span>
</pre></div>
<p><a class="external text" href="https://pypi.org/project/ptvsd/" rel="nofollow">Page pypi</a>
</p><p><a class="external text" href="https://code.visualstudio.com/docs/python/debugging#_remote-debugging" rel="nofollow">Documentation du code Visual Studio pour debugging à distance</a>
</p><p>Étapes :
</p>
<ul><li>Ajoutez le code suivant au début de votre script</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">ptvsd</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">"Waiting for debugger attach"</span><span class="p">)</span>
<span class="c1"># 5678 is the default attach port in the VS Code debug configurations</span>
<span class="n">ptvsd</span><span class="o">.</span><span class="n">enable_attach</span><span class="p">(</span><span class="n">address</span><span class="o">=</span><span class="p">(</span><span class="s1">'localhost'</span><span class="p">,</span> <span class="mi">5678</span><span class="p">),</span> <span class="n">redirect_output</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ptvsd</span><span class="o">.</span><span class="n">wait_for_attach</span><span class="p">()</span>
</pre></div>
<ul><li>Ajoutez une configuration de débogage dans le Code Visual Studio <b>Debug → Add Configurations…</b>.</li>
<li>La configuration doit ressembler à ceci :</li></ul>
<pre>    "configurations": [
        {
            "name": "Python: Attacher",
            "type": "python",
            "request": "attach",
            "port": 5678,
            "host": "localhost",
            "pathMappings": [
                {
                    "localRoot": "${workspaceFolder}",
                    "remoteRoot": "."
                }
            ]
        },
</pre>
<ul><li>Dans VS Code, ajoutez un point d'arrêt où vous voulez.</li>
<li>Lancez le script dans FreeCAD. FreeCAD se fige en attendant la pièce jointe.</li>
<li>Dans VS Code commencez le débogage en utilisant la configuration créée. Vous devriez voir des variables dans la zone du débogueur.</li>
<li>Lors de la mise en place de points d'arrêt, VS Code se plaindra de ne pas trouver le fichier .py ouvert dans l'éditeur VS Code.
<ul><li>Changer "remoteRoot" : "." en "remoteRoot" : "&lt;directory of file&gt;"
<ul><li>Par exemple, si le fichier Python se trouve dans <i>/home/FC_myscripts/myscript.py</i>.</li>
<li>Changez en : "remoteRoot" : "/home/FC_myscripts"</li></ul></li>
<li>Si vous ne faites que déboguer les macros FreeCAD depuis le dossier des macros FreeCAD, et que ce dossier est "C:/Users/&lt;userid&gt;/AppData/Roaming/FreeCAD/Macro", alors utilisez :
<ul><li>"localRoot" : "C:/Users/&lt;userid&gt;/AppData/Roaming/FreeCAD/Macro",</li>
<li>"remoteRoot" : "C:/Users/&lt;userid&gt;/AppData/Roaming/FreeCAD/Macro".</li></ul></li></ul></li>
<li>Si votre macro ne trouve pas ptvsd alors que vous l'avez installé quelque part, faites précéder 'import ptvsd' par</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">path</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">'/path/to/site-packages'</span><span class="p">)</span>
</pre></div>
<p>Où le chemin est celui du répertoire où ptvsd a été installé.
</p>
<ul><li>Sur le bord inférieur gauche de VSCode, vous pouvez choisir l'exécutable Python - il est préférable de choisir la version fournie avec FreeCAD.</li></ul>
<p>Dans le paquetage Mac c'est /Applications/FreeCAD.App/Contents/Resources/bin/python.
</p><p>Vous pouvez le trouver sur votre système en tapant
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">executable</span><span class="p">)</span>
</pre></div>
<p>dans la console Python de FreeCAD.
</p>
</div></div>
<p><span id="With_LiClipse_and_AppImage"></span>
</p>
<h3><span class="mw-headline" id="Avec_LiClipse_et_AppImage">Avec LiClipse et AppImage</span></h3>
<div class="toccolours mw-collapsible mw-collapsed" style="width:800px;">
<p>LiClipse Debugging → 
</p>
<div class="mw-collapsible-content">
<ul><li>Extraire AppImage.</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="o">&gt;</span> <span class="o">./</span><span class="n">your</span> <span class="n">location</span><span class="o">/</span><span class="n">FreeCAD_xxx</span><span class="o">.</span><span class="n">AppImage</span> <span class="o">--</span><span class="n">appimage</span><span class="o">-</span><span class="n">extract</span>
<span class="o">&gt;</span> <span class="n">cd</span> <span class="n">squashfs</span><span class="o">-</span><span class="n">root</span><span class="o">/</span>
</pre></div>
<ul><li>L'emplacement sqashfs-root est l'endroit où le débogueur sera connecté plus tard.</li></ul>
<ul><li>Assurez-vous que vous pouvez démarrer une session FreeCAD à partir de l'emplacement squashfs-root.</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">squashfs</span><span class="o">-</span><span class="n">root</span><span class="o">&gt;</span> <span class="o">./</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">freecadcmd</span>
</pre></div>
<ul><li>Doit démarrer une session de ligne de commande FreeCAD.</li></ul>
<ul><li>Installez <a class="external text" href="https://www.liclipse.com/" rel="nofollow">LiClipse</a>.
<ul><li>Il est livré prêt avec pydev et possède des installateurs pour toutes les plateformes.</li>
<li>Pour linux, il suffit d'extraire (à n'importe quel endroit) et d'exécuter.</li></ul></li></ul>
<ul><li>Configurez liclipse pour le débogage.
<ul><li>Clic droit sur l'icône pydev (coin supérieur droit) et choisissez la personnalisation.
<ul><li>Activez "PyDev Debug" (par la case à cocher, ou il peut être nécessaire d'aller dans l'onglet "Action Set Availability" et de l'activer d'abord).</li>
<li>Dans le menu pydev, vous pouvez maintenant choisir "démarrer le serveur de débogage".</li></ul></li>
<li>Utilisez le menu window/open perspective/other &gt; debug.
<ul><li>Cliquez avec le bouton droit de la souris sur l'icône de débogage (coin supérieur droit) et choisissez "customize".</li>
<li>Cochez "Debug" fait apparaître les outils de navigation de débogage dans la barre d'outils.</li></ul></li>
<li>Ouvrez les préférences par le menu fenêtre/préférences.
<ul><li>Dans PyDev/Interpreters ajoutez "new Interpreter by browsing".</li>
<li>L'interprète ajouté devrait être : <code>votre localité/squashfs-root/usr/bin/python</code>.</li>
<li>Si vous ne l'utilisez que pour fc, vous pouvez également ajouter les dossiers de l'atelier AddOn ou le faire plus tard dans un projet pydev.</li></ul></li></ul></li></ul>
<ul><li>Trouvez le chemin vers <code>pydevd.py</code> dans votre installation de liclipse.
<ul><li>Quelque chose du genre : <code>votre emplacement/liclipse/plugins/org.python.pydev.xx/pysrc</code>.</li></ul></li>
<li>Créez un projet pydev normal dans liclipse.
<ul><li>Importez des sources externes, par exemple une macro que vous voulez déboguer, ou un atelier externe.</li>
<li>Dans cette macro (ou dans le fichier .py de l'atelier), ajoutez les lignes de code :</li></ul></li></ul>
<dl><dd><div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span><span class="p">;</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">"path ending with /pysrc"</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">pydevd</span><span class="p">;</span> <span class="n">pydevd</span><span class="o">.</span><span class="n">settrace</span><span class="p">()</span>
</pre></div></dd></dl>
<dl><dd><ul><li>C'est l'endroit où l'exécution s'arrêtera lorsque la macro sera exécutée.</li></ul></dd></dl>
<ul><li>Démarrez le serveur de débogage de Liclipse (menu pydev).</li></ul>
<ul><li>Lancez FreeCAD.</li></ul>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">squashfs</span><span class="o">-</span><span class="n">root</span><span class="o">&gt;</span> <span class="o">./</span><span class="n">usr</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">freecad</span>
</pre></div>
<ul><li>Exécutez la macro (ou tout autre fichier avec un déclencheur <code>pydevd.settrace()</code>) à partir de freecad, comme vous le feriez normalement.</li></ul>
<ul><li>Bon débogage.</li></ul>
<ul><li>L'utilisation de LiClipse pour le débogage à distance, et les étapes décrites ici liées à liclipse, devraient fonctionner sur n'importe quelle plateforme.  Les parties relatives à AppImage sont pour linux uniquement.</li></ul>
</div></div>
<h3><span class="mw-headline" id="Pyzo">Pyzo</span></h3>
<p>Voir l'<a href="Pyzo.html" title="Pyzo">article principal sur Pyzo (en)</a>.
</p><p><span id="Debugging_OpenCasCade"></span>
</p>
<h2><span id="D.C3.A9bogage_d.27OpenCasCade"></span><span class="mw-headline" id="Débogage_d'OpenCasCade">Débogage d'OpenCasCade</span></h2>
<p>Pour les développeurs qui ont besoin d'approfondir le noyau d'OpenCasCade, l'utilisateur @abdullah a créé un <a class="external text" href="https://forum.freecadweb.org/viewtopic.php?f=10&amp;t=47017" rel="nofollow">fil de discussion</a> qui explique comment le faire.
</p><p><br/>
</p>
<div class="docnav" style="background-color: #ececef; border: 1px solid #a2a9b1; padding: 2px 10px; margin: 10px 0; line-height: 1; clear: both; overflow: hidden;">
<div style="margin: 4px 0; float: left;"><span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-left.svg" width="16"/></span></span> <a href="Tracker.html" title="Tracker/fr">Traqueur de bogues</a></div>
<div style="margin: 4px 0; float: right;"><a href="Testing.html" title="Testing/fr">Atelier Test</a>
<span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="16" src="../File/Arrow-right.svg" width="16"/></span></span></div>
<div style="text-align:center"><a href="Online_Help_Toc.html" title="Online Help Toc/fr">Index</a> <span class="mw-default-size" typeof="mw:File"><span><img decoding="async" height="24" src="../File/Online_Help_Toc.svg" width="24"/></span></span></div>
</div>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><span typeof="mw:File"><a class="mw-file-description" href="../File/Power_user_hub.png"><img decoding="async" height="24" src="../File/Power_user_hub.png" srcset="/images/thumb/8/8f/Power_user_hub.png/36px-Power_user_hub.png 1.5x, /images/thumb/8/8f/Power_user_hub.png/48px-Power_user_hub.png 2x" width="24"/></a></span> <a href="Power_users_hub.html" title="Power users hub/fr">Hub utilisateurs expérimentés</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Scripts FreeCAD :</b> <a href="Python.html" title="Python/fr">Python</a>, <a href="Introduction_to_Python.html" title="Introduction to Python/fr">Introduction à Python</a>, <a href="Python_scripting_tutorial.html" title="Python scripting tutorial/fr">Tutoriel sur les scripts Python</a>, <a href="FreeCAD_Scripting_Basics.html" title="FreeCAD Scripting Basics/fr">Débuter avec les scripts</a></li></ul>
<hr/>
<ul><li><b>Modules :</b> <a href="Builtin_modules.html" title="Builtin modules/fr">Modules intégrés</a>, <a href="Units.html" title="Units/fr">Unités</a>, <a href="Quantity.html" title="Quantity/fr">Quantity</a></li>
<li><b>Ateliers :</b> <a href="Workbench_creation.html" title="Workbench creation/fr">Création d'atelier</a>, <a href="Gui_Command.html" title="Gui Command/fr">Commands Gui</a>, <a href="Command.html" title="Command/fr">Les commandes</a>, <a href="Installing_more_workbenches.html" title="Installing more workbenches/fr">Installer des ateliers supplémentaires</a></li>
<li><b>Maillages et objets Parts :</b> <a href="Mesh_Scripting.html" title="Mesh Scripting/fr">Scripts Mesh</a>, <a href="Topological_data_scripting.html" title="Topological data scripting/fr">Script de données topologiques</a>, <a href="Mesh_to_Part.html" title="Mesh to Part/fr">Conversion objet Mesh en Part</a>, <a href="PythonOCC.html" title="PythonOCC/fr">PythonOCC</a></li></ul>
<hr/>
<ul><li><b>Objets paramétriques :</b> <a href="Scripted_objects.html" title="Scripted objects/fr">Objets créés par script</a>, <a href="Viewprovider.html" title="Viewprovider/fr">Viewproviders</a> <small>(<a href="Custom_icon_in_tree_view.html" title="Custom icon in tree view/fr">Icône personnalisée dans l'arborescence</a>)</small></li>
<li><b>Scénographie :</b> <a href="Scenegraph.html" title="Scenegraph/fr">Graphe de scène Coin (Inventor)</a>, <a href="Pivy.html" title="Pivy/fr">Pivy</a></li>
<li><b>Interface graphique :</b> <a href="Interface_creation.html" title="Interface creation/fr">Création d'interface</a>, <a href="Dialog_creation.html" title="Dialog creation/fr">Création d'une boite de dialogue</a> <small>(<a href="Dialog_creation_with_various_widgets.html" title="Dialog creation with various widgets/fr">1</a>, <a href="Dialog_creation_reading_and_writing_files.html" title="Dialog creation reading and writing files/fr">2</a>, <a href="Dialog_creation_setting_colors.html" title="Dialog creation setting colors/fr">3</a>, <a href="Dialog_creation_image_and_animated_GIF.html" title="Dialog creation image and animated GIF/fr">4</a>, <a href="PySide_usage_snippets.html" title="PySide usage snippets/fr">5</a>)</small>, <a href="PySide.html" title="PySide/fr">PySide</a>, Exemples PySide <a href="PySide_Beginner_Examples.html" title="PySide Beginner Examples/fr">débutant</a>, <a href="PySide_Intermediate_Examples.html" title="PySide Intermediate Examples/fr">intermédiaire</a>, <a href="PySide_Advanced_Examples.html" title="PySide Advanced Examples/fr">expérimenté</a></li>
<li><b>Macros :</b> <a href="Macros.html" title="Macros/fr">Macros</a>, <a href="How_to_install_macros.html" title="How to install macros/fr">Comment installer des macros</a></li>
<li><b>Intégration :</b> <a href="Embedding_FreeCAD.html" title="Embedding FreeCAD/fr">Intégrer FreeCAD</a>, <a href="Embedding_FreeCADGui.html" title="Embedding FreeCADGui/fr">Intégration de FreeCADGui</a></li></ul>
<hr/>
<ul><li><b>Autre :</b> <a href="Expressions.html" title="Expressions/fr">Expressions</a>, <a href="Code_snippets.html" title="Code snippets/fr">Extraits de codes</a>, <a href="Line_drawing_function.html" title="Line drawing function/fr">Fonction - tracer une ligne</a>, <a href="FreeCAD_vector_math_library.html" title="FreeCAD vector math library/fr">Bibliothèque mathématique vectorielle de FreeCAD</a> <small>(déprécié)</small></li></ul>
<hr/>
<ul><li><b>Hubs :</b> <a href="User_hub.html" title="User hub/fr">Hub utilisateurs</a>, <a href="Power_users_hub.html" title="Power users hub/fr">Hub utilisateurs expérimentés</a>, <a href="Developer_hub.html" title="Developer hub/fr">Hub développeurs</a></li></ul></div>
</div></div>
<div style="clear:both"></div>
<!-- 
NewPP limit report
Cached time: 20241129210706
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.125 seconds
Real time usage: 1.244 seconds
Preprocessor visited node count: 484/1000000
Post‐expand include size: 9996/2097152 bytes
Template argument size: 4233/2097152 bytes
Highest expansion depth: 5/100
Expensive parser function count: 17/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 13198/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00% 1129.945      1 -total
 99.10% 1119.733     17 Template:Code
  0.23%    2.577      1 Template:Powerdocnavi/fr
  0.12%    1.318      2 Template:Docnav/fr
  0.11%    1.260      1 Template:Navigation_menu_2
  0.09%    1.002      1 Template:MenuCommand
  0.08%    0.861      1 Template:TOCright
  0.07%    0.827      8 Template:Incode
  0.04%    0.475      1 Template:Clear
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:2647-0!canonical and timestamp 20241129210705 and revision id 1329547. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
