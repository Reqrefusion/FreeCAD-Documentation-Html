<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Drawing Documentation/fr</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Drawing_Documentation.html" lang="en" title="Drawing Documentation (100% translated)">English</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="fr">français</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Drawing_Documentation.html" lang="it" title="Documentazione di Drawing (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Drawing_Documentation.html" lang="pl" title="Kreślenie: Dokumentacja dla programisty (3% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Drawing_Documentation.html" lang="ro" title="Documentația de desenare (15% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Drawing_Documentation.html" lang="cs" title="Drawing Documentation (3% translated)">čeština</a></li></ul></div>
<p>Cette page documente le module de dessin de jcc242. Il inclut des fichiers et des fonctionnalités sur lesquels il travaille actuellement et qui peuvent ne pas encore être dans la branche principale. La source de ces fichiers est sur <a class="external text" href="https://github.com/jcc242/FreeCAD" rel="nofollow">son Github</a> mais faites attention car il est pour le moment très instable!
</p>
<div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Base_(Mod/Drawing)"><span class="tocnumber">1</span> <span class="toctext">Base (Mod/Drawing)</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#gdtsvg.py"><span class="tocnumber">1.1</span> <span class="toctext">gdtsvg.py</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#DrawingAlgos.py"><span class="tocnumber">1.2</span> <span class="toctext">DrawingAlgos.py</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="#createSVG"><span class="tocnumber">1.2.1</span> <span class="toctext">createSVG</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#App"><span class="tocnumber">2</span> <span class="toctext">App</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#AppDrawing.cpp"><span class="tocnumber">2.1</span> <span class="toctext">AppDrawing.cpp</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#DrawingExport.cpp"><span class="tocnumber">2.2</span> <span class="toctext">DrawingExport.cpp</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#FeatureClip.cpp"><span class="tocnumber">2.3</span> <span class="toctext">FeatureClip.cpp</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#FeaturePage.cpp"><span class="tocnumber">2.4</span> <span class="toctext">FeaturePage.cpp</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#FeatureProjection.cpp"><span class="tocnumber">2.5</span> <span class="toctext">FeatureProjection.cpp</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#FeatureView.cpp"><span class="tocnumber">2.6</span> <span class="toctext">FeatureView.cpp</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#FeatureViewAnnotation.cpp"><span class="tocnumber">2.7</span> <span class="toctext">FeatureViewAnnotation.cpp</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#FeatureViewPart.cpp"><span class="tocnumber">2.8</span> <span class="toctext">FeatureViewPart.cpp</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#PageGroup.cpp"><span class="tocnumber">2.9</span> <span class="toctext">PageGroup.cpp</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Precompiled.cppp"><span class="tocnumber">2.10</span> <span class="toctext">Precompiled.cppp</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#ProjectionAlgos.cpp"><span class="tocnumber">2.11</span> <span class="toctext">ProjectionAlgos.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-17"><a href="#Gui_-_interface_graphique"><span class="tocnumber">3</span> <span class="toctext">Gui - interface graphique</span></a>
<ul>
<li class="toclevel-2 tocsection-18"><a href="#AppDrawingGui.cpp"><span class="tocnumber">3.1</span> <span class="toctext">AppDrawingGui.cpp</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#AppDrawingGuiPy.cpp"><span class="tocnumber">3.2</span> <span class="toctext">AppDrawingGuiPy.cpp</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#Command.cpp"><span class="tocnumber">3.3</span> <span class="toctext">Command.cpp</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#DrawingView.cpp"><span class="tocnumber">3.4</span> <span class="toctext">DrawingView.cpp</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#TaskDialog.cpp"><span class="tocnumber">3.5</span> <span class="toctext">TaskDialog.cpp</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#TaskOrthoViews.cpp"><span class="tocnumber">3.6</span> <span class="toctext">TaskOrthoViews.cpp</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#ViewProviderPage.cpp"><span class="tocnumber">3.7</span> <span class="toctext">ViewProviderPage.cpp</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#ViewProviderView.cpp"><span class="tocnumber">3.8</span> <span class="toctext">ViewProviderView.cpp</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#Workbench.cpp"><span class="tocnumber">3.9</span> <span class="toctext">Workbench.cpp</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-27"><a href="#Flux_de_travail"><span class="tocnumber">4</span> <span class="toctext">Flux de travail</span></a>
<ul>
<li class="toclevel-2 tocsection-28"><a href="#Flux_du_programme"><span class="tocnumber">4.1</span> <span class="toctext">Flux du programme</span></a></li>
<li class="toclevel-2 tocsection-29"><a href="#Ajouter_des_commandes_à_l'atelier_de_dessin"><span class="tocnumber">4.2</span> <span class="toctext">Ajouter des commandes à l'atelier de dessin</span></a></li>
</ul>
</li>
</ul>
</div>
<h2><span id="Base_.28Mod.2FDrawing.29"></span><span class="mw-headline" id="Base_(Mod/Drawing)">Base (Mod/Drawing)</span></h2>
<h3><span class="mw-headline" id="gdtsvg.py">gdtsvg.py</span></h3>
<p>Script Python génère des extraits svg pour des éléments tels que des symboles gd &amp; t, des symboles de dimension et des éléments de base svg tels que des lignes, des cercles et des chemins.
</p><p>Il a plusieurs fichiers qui ne font pas vraiment beaucoup de choses. Exécutez DrawingTest.py pour créer un groupe d’icônes svg dans le répertoire icon qui affiche différentes icônes dans le fichier gdtsvg.py. settingslist.py, dimesettings et convert.py sont tous déconseillés pour les méthodes de paramétrage plus anciennes et doivent probablement être supprimés à mesure que la branche de dessin se fusionne en maître. 
</p>
<h3><span class="mw-headline" id="DrawingAlgos.py">DrawingAlgos.py</span></h3>
<p>Crée des lignes svg à partir d'une liste de sommets, prend en charge les bords cachés et visibles. Devrait probablement être fusionné avec gdtsvg.py à l’échéance du fichier.
</p>
<h4><span class="mw-headline" id="createSVG">createSVG</span></h4>
<p>Accepte la pièce en tant qu'argument, projette la pièce dans des lignes à partir de l'objet Drawing.project, puis dessine et crée le svg pour chaque ligne.
</p>
<h2><span class="mw-headline" id="App">App</span></h2>
<p>Contient le backend du module de dessin.
</p>
<h3><span class="mw-headline" id="AppDrawing.cpp">AppDrawing.cpp</span></h3>
<p>Initialise les différents espaces de noms, modules et éléments utilisés dans le module de dessin. Lance une erreur s'il ne peut pas charger le module Part.
</p>
<h3><span class="mw-headline" id="DrawingExport.cpp">DrawingExport.cpp</span></h3>
<p>Deux classes: SVGOutput et DXFOutput. Ils contiennent tous deux des méthodes pour afficher le code dans leur langue respective. Nécessite généralement un objet de la typedef appropriée, et parfois des informations d'identifiant supplémentaires.
</p>
<h3><span class="mw-headline" id="FeatureClip.cpp">FeatureClip.cpp</span></h3>
<p>Les méthodes Callback (?) pour l'interface de découpage des fonctionnalités, semble-t-il. Appelées seules, elles créeront le chemin du clip. Si ShowFrame.getValue est défini sur TRUE, il affiche également la bordure de l'image.
</p>
<h3><span class="mw-headline" id="FeaturePage.cpp">FeaturePage.cpp</span></h3>
<p>Gère les vues. 
</p><p>onChanged() pour faire des choses quand les propriétés sont modifiées. 
</p><p>execute() pour recalculer une vue de fonctionnalité, selon le cas. Il semble avoir des outils pour vérifier les textes modifiables et sauvegarder les dessins. Demande plus de recherche.
</p><p>getEditableTextsFromTemplate() pour récupérer le texte qui peut être édité par FreeCAD depuis un fichier SVG.
</p>
<h3><span class="mw-headline" id="FeatureProjection.cpp">FeatureProjection.cpp</span></h3>
<p>Aplatit l'objet en une image 2D?
</p>
<h3><span class="mw-headline" id="FeatureView.cpp">FeatureView.cpp</span></h3>
<p>Définit les propriétés des vues.
</p>
<h3><span class="mw-headline" id="FeatureViewAnnotation.cpp">FeatureViewAnnotation.cpp</span></h3>
<p>Définit les propriétés des annotations (juste du texte à l’heure actuelle), dispose d’une méthode d'exécution pour mettre à jour le texte s'il est modifié/déplacé.
</p>
<h3><span class="mw-headline" id="FeatureViewPart.cpp">FeatureViewPart.cpp</span></h3>
<p>Constructeur pour ajouter des propriétés. Obtient des trucs d'aspect pour les parties projetées.
</p>
<h3><span class="mw-headline" id="PageGroup.cpp">PageGroup.cpp</span></h3>
<p>Ajoute simplement une propriété pour une liste de pages, pas grand chose d'autre.
</p>
<h3><span class="mw-headline" id="Precompiled.cppp">Precompiled.cppp</span></h3>
<p>Simplement #inclus "PreCompiled.h"
</p>
<h3><span class="mw-headline" id="ProjectionAlgos.cpp">ProjectionAlgos.cpp</span></h3>
<p>Le constructeur exécute simplement la méthode execute() pour mettre à jour ses données.
</p><p>invertY: puisque SVG effectue son axe y vers l’arrière par rapport à tous les autres systèmes de coordonnées du monde, nous devons l’inverser lors de la conversion d’une pièce FreeCAD en projection SVG pour la vue de dessin.
</p><p>getSVG: récupère le code SVG à partir du logiciel DrawingExport. Formats dépendant du type de ligne (masqués ou non et autres éléments, à comprendre...).
</p><p>getDXF: identique à getSVG à l'exception du format DXF.
</p><p><br/>
<span id="Gui"></span>
</p>
<h2><span class="mw-headline" id="Gui_-_interface_graphique">Gui - interface graphique</span></h2>
<h3><span class="mw-headline" id="AppDrawingGui.cpp">AppDrawingGui.cpp</span></h3>
<p>Initialise l’interface graphique.
</p>
<h3><span class="mw-headline" id="AppDrawingGuiPy.cpp">AppDrawingGuiPy.cpp</span></h3>
<p>Fournit des interfaces d'ouverture, d'importation et d'exportation? Il semblerait que ce soit accessible en Python.
</p>
<h3><span class="mw-headline" id="Command.cpp">Command.cpp</span></h3>
<p>Gère les commandes (à partir de la barre d’outils?) telles que la création de nouveaux dessins et autres choses. Il semble que cela gère les appels QT depuis le clic sur le bouton jusqu’à la commande à utiliser, par exemple. Cliquez sur le bouton CmdDrawingOrthoViews pour afficher l'interface graphique Ortho Views dans la boîte de dialogue de la tâche.
</p>
<h3><span class="mw-headline" id="DrawingView.cpp">DrawingView.cpp</span></h3>
<p>Fais un tas de trucs qt de l'interface graphique. Besoin de lire plus à ce sujet.
</p>
<h3><span class="mw-headline" id="TaskDialog.cpp">TaskDialog.cpp</span></h3>
<p>Crée la fenêtre de dialogue des tâches sur le côté et y accède probablement à partir de l'arborescence, le cas échéant.
</p>
<h3><span class="mw-headline" id="TaskOrthoViews.cpp">TaskOrthoViews.cpp</span></h3>
<p>Crée le dialogue des tâches pour placer les vues orthogonales !
</p><p>Effectue beaucoup de calculs pour savoir où positionner les choses (calculs automatiques aussi, semble-t-il).
</p><p>Prend l'input de l'interface graphique TaskOrthoViews et fait des choses avec elle. Utilise la méthode de l'héritage unique dont on parle <a class="external text" href="http://doc.qt.digia.com/qt/designer-using-a-ui-file.html" rel="nofollow">sur le site web de qt</a>.
</p>
<h3><span class="mw-headline" id="ViewProviderPage.cpp">ViewProviderPage.cpp</span></h3>
<p>Le Constructeur ajoute quelques propriétés pour les trucs de vue.
Le Destructeur ne fait rien.
Attache quelque chose (attache quoi? attache la vue à la page?) définit et obtient des modes d'affichage (quels sont les modes d'affichage ? que font-ils et quelles sont les options possibles?)
Est-ce que quelque chose au sujet de la mise à jour d'une sorte de données a un menu contextuel qui dit "Show drawing"? Besoin  de comprendre ce que cela signifie.
A un truc pour double-cliquer pour sélectionner la vue (je pense?)
</p><p>showDrawingView semble faire un peu de travail sur les réglages: récupère le document courant, définit l'icône et le titre de la fenêtre, l'ajoute à la fenêtre principale (de FreeCAD?).
</p>
<h3><span class="mw-headline" id="ViewProviderView.cpp">ViewProviderView.cpp</span></h3>
<p>Il ne semble pas faire grand-chose, mais je suis sûr que c'est important.
</p>
<h3><span class="mw-headline" id="Workbench.cpp">Workbench.cpp</span></h3>
<p>Ajoute les icônes aux barres d'outils et autres.
</p><p><span id="Workflow"></span>
</p>
<h1><span class="mw-headline" id="Flux_de_travail">Flux de travail</span></h1>
<h2><span class="mw-headline" id="Flux_du_programme">Flux du programme</span></h2>
<p>CanvasView est l'objet QGraphicsScene et DrawingView traite une liste de FeatureView qui sont liés par référence dans /App/FeatureViewPage. DrawingView sélectionne alors la classe QGraphicsItem appropriée (QGraphicsItemViewPart ou QGraphicsItemViewDimension) et appelle ensuite une fonction dans CanvasView pour la créer et l'ajouter à la scène.
</p>
<h2><span id="Ajouter_des_commandes_.C3.A0_l.27atelier_de_dessin"></span><span class="mw-headline" id="Ajouter_des_commandes_à_l'atelier_de_dessin">Ajouter des commandes à l'atelier de dessin</span></h2>
<p>4 étapes simples :
</p>
<ol><li>Ajouter une classe à Command.cpp. Suivez les autres pour un exemple de formatage.</li>
<li>Ajoutez un titre, une icône, une infobulle, etc., puis suivez les classes existantes dans command.cpp.</li>
<li>Ajoutez votre classe au bas de Command.cpp</li>
<li>Ajoutez vos informations dans Workbench.cpp, cela indiquera à FreeCAD/Drawing module où placer les icônes définies dans command.cpp dans l'interface freecad réelle (les barres d'outils, menus déroulants, etc.)</li></ol>
<div class="NavFrame" style="margin: 0px; text-align: center; border-collapse: collapse; font-size: 100%; border-top-style: double; border-top-style: 1px; clear:both;">
<div class="NavHead mw-collapsible mw-collapsed" style="margin: 1px; font-weight: normal; background-color: #fefefe;"><a href="Drawing_Workbench.html" title="Drawing Workbench/fr">Dessin</a>
<div class="NavContent mw-collapsible-content" style="margin: 10px; border: 1px solid #aaaaaa; text-align: left; border-collapse: collapse; font-weight: normal; font-size: 100%; clear:both; margin-top: 1px; background-color: #fefefe;">
<ul><li><b>Outils:</b> <a href="Drawing_Open_SVG.html" title="Drawing Open SVG/fr">Ouvrir un fichier SVG</a>, <a href="Drawing_Landscape_A3.html" title="Drawing Landscape A3/fr">Nouvelle page A3</a>, <a href="Drawing_View.html" title="Drawing View/fr">Vues</a>, <a href="Drawing_Annotation.html" title="Drawing Annotation/fr">Annotation</a>, <a href="Drawing_Clip.html" title="Drawing Clip/fr">Clip</a>, <a href="Drawing_Openbrowser.html" title="Drawing Openbrowser/fr">Ouvrir l'explorateur web</a>, <a href="Drawing_Orthoviews.html" title="Drawing Orthoviews/fr">Vue Orthographique</a>, <a href="Drawing_Symbol.html" title="Drawing Symbol/fr">Symboles</a>, <a href="Draft_Drawing.html" title="Draft Drawing/fr">Alelier de Dessin</a>, <a href="Drawing_SpreadsheetView.html" title="Drawing SpreadsheetView/fr">Spreadsheet view</a>, <a href="Drawing_Save.html" title="Drawing Save/fr">Sauver</a>, <a href="Drawing_ProjectShape.html" title="Drawing ProjectShape/fr">Projeter une forme</a></li></ul>
<hr/>
<ul><li><b>Additionnels:</b> <a href="Drawing_Dimensioning_Addon.html" title="Drawing Dimensioning Addon/fr">Atelier Cotation</a>; <a class="mw-selflink selflink">Documentation</a>, <a href="Drawing_API_example.html" title="Drawing API example/fr">Exemples d'utilisation de l'API</a></li></ul></div>
</div></div>
<div style="clear:both"></div>
<!-- 
NewPP limit report
Cached time: 20241129211902
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.061 seconds
Real time usage: 0.104 seconds
Preprocessor visited node count: 111/1000000
Post‐expand include size: 2913/2097152 bytes
Template argument size: 708/2097152 bytes
Highest expansion depth: 4/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 1176/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    2.120      1 -total
 74.34%    1.576      1 Template:Drawing_Tools_navi/fr
 31.47%    0.667      1 Template:Navigation_menu_2
 22.93%    0.486      1 Template:Clear
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:34161-0!canonical and timestamp 20241129211902 and revision id 1495726. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
