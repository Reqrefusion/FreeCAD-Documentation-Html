<link href="../site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">Macro Circle/fr</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Macro_Circle.html" lang="en" title="Macro Circle (100% translated)">English</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="fr">français</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="Macro_Circle.html" lang="it" title="Macro Cerchio (100% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="Macro_Circle.html" lang="pl" title="Makrodefinicja: Okrąg (6% translated)">polski</a></li></ul></div>
<table class="fcinfobox wikitable ct" style="float: right; width: 230px; margin-left: 10px;" width="100%">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;">
<p><span typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Circle.png"><img decoding="async" height="32" src="../File/Macro_Circle.png" srcset="/images/thumb/9/9d/Macro_Circle.png/48px-Macro_Circle.png 1.5x, /images/9/9d/Macro_Circle.png 2x" width="32"/></a></span><span> </span>
Macro Circle
</p>
</td></tr>
<tr>
<th class="ctOdd">Description
</th></tr>
<tr>
<td class="ctEven left macro-description">Crée un cercle en donnant différents paramètres (sans interface graphique). Le nouveau cercle est créé dans les coordonnées réelles de l'objet et non dans celles du corps.<br/><span style="background-color: #ffeeee">(Ligne de commande, collez cette macro complète dans la console Python)</span>.<br/><br/>Version macro : 0.4<br/>Date dernière modification : 2019-06-19<br/>Version FreeCAD : Toutes<br/>Téléchargement : <a class="external text" href="https://www.freecadweb.org/wiki/images/9/9d/Macro_Circle.png" rel="nofollow">Icône de la barre d'outils</a><br/>Auteur: mario52<br/>
</td></tr>
<tr>
<th class="ctOdd">Auteur
</th></tr>
<tr>
<td class="ctEven macro-author"><a href="User;Mario52.html" title="User:Mario52">mario52</a>
</td></tr>
<tr>
<th class="ctOdd">Téléchargement
</th></tr>
<tr>
<td class="ctEven macro-download"><a class="external text" href="https://www.freecadweb.org/wiki/images/9/9d/Macro_Circle.png" rel="nofollow">Icône de la barre d'outils</a>
</td></tr>
<tr>
<th class="ctOdd">Liens
</th></tr>
<tr>
<td class="ctEven macro-Links"><a href="Macros_recipes.html" title="Macros recipes/fr">Page des macros</a><br/><a href="How_to_install_macros.html" title="How to install macros/fr">Comment installer une macro</a><br/><a href="Customize_Toolbars.html" title="Customize Toolbars/fr">Comment créer une barre d'outils</a>
</td></tr>
<tr>
<th class="ctOdd">Version Macro
</th></tr>
<tr>
<td class="ctEven macro-version">0.4
</td></tr>
<tr>
<th class="ctOdd">Dernière modification
</th></tr>
<tr>
<td class="ctEven macro-date">2019-06-19
</td></tr>
<tr>
<th class="ctOdd">Version(s) FreeCAD
</th></tr>
<tr>
<td class="ctEven FreeCAD-version">Toutes
</td></tr>
<tr>
<th class="ctOdd">Raccourci clavier
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<th class="ctOdd">Voir aussi
</th></tr>
<tr>
<td class="ctEven"><a href="Macro_CirclePlus.html" title="Macro CirclePlus/fr">Macro CirclePlus</a>
</td></tr>
<tr>
<th class="ctOdd">
</th></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Description"><span class="tocnumber">1</span> <span class="toctext">Description</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Utilisation"><span class="tocnumber">2</span> <span class="toctext">Utilisation</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Script"><span class="tocnumber">3</span> <span class="toctext">Script</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Memo_sur_le_cercle"><span class="tocnumber">4</span> <span class="toctext">Memo sur le cercle</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Version"><span class="tocnumber">5</span> <span class="toctext">Version</span></a></li>
</ul>
</div>
</td></tr>
</tbody></table>
<h2><span class="mw-headline" id="Description">Description</span></h2>
<p>Cette petite macro vous permet de créer un cercle en donnant comme argument différents paramètres comme le rayon, le diamètre, la circonférence, la surface, angle de départ, angle de fin, arc, angle central, corde, flèche, point au centre du cercle, placement de l'objet au choix. La nouveau cercle est créée dans les coordonnées réelles de l'objet et non dans celles du corps.<br/> <span style="background-color: #ffeeee">(Ligne de commande, collez cette macro complète dans la console Python)</span>.
</p><p>Le cercle fait toujours face à l'écran (avec la commande getCameraOrientation) (ou donner le placement) 
</p><p><span id="Usage"></span>
</p>
<h2><span class="mw-headline" id="Utilisation">Utilisation</span></h2>
<p>Copier le code et le coller dans la console Python de FreeCAD la commande est utilisée tout le temps à la disposition de FreeCAD ouvert
Donner le paramètre au choix : 
</p>
<ul><li><b>x y z</b> : coordonnées du cercle s'il n'y a pas de coordonnées, le cercle est créé aux coordonnées 0,0,0</li>
<li><b>radius</b> : rayon du cercle</li>
<li><b>diameter</b> : diamètre du cercle</li>
<li><b>circumference</b> : circonférence du cercle</li>
<li><b>area</b> : surface du cercle</li>
<li><b>startangle</b> : début de l'angle de l'arc à créer</li>
<li><b>endangle</b> : fin de l'angle de l'arc</li>
<li><b>arc</b> et <b>anglecenter</b> : longueur de l'arc arc en combinaison avec angle central
<ul><li><b>arc</b> =  longueur de l'arc</li>
<li><b>anglecenter</b> = angle central à partir du centre du cercle jusqu'aux deux extrémités de l'arc (l'angle est donné en degrés)</li></ul></li>
<li><b>cord</b> et <b>arrow</b> : longueur de la corde en combinaison avec la longueur de la flèche
<ul><li><b>cord</b> : longueur de la corde du cercle</li>
<li><b>arrow</b> : longueur de la flèche du cercle</li></ul></li>
<li><b>center</b> : si "center" est différent de 0 un point sera créé au centre du cercle</li>
<li><b>placemObject</b> : imposer le placement sous cette forme
<ul><li>exemple :</li>
<li>pl=FreeCAD.Placement()</li>
<li>pl.Rotation.Q=(0.0,-0.0,-0.0,1.0)</li>
<li>pl.Base=FreeCAD.Vector(-1.89847898483,-0.490152746439,0.0)</li>
<li>et donner <b>placemObject = pl</b></li></ul></li></ul>
<p>S'il n'y a pas de paramètre ex: "<b>circle()</b>" la liste des fonctions disponibles est affichée
<br/><br/>
</p>
<h2><span class="mw-headline" id="Script">Script</span></h2>
<p>Icône de la barre d'outils <span class="mw-default-size" typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Circle.png"><img decoding="async" height="64" src="../File/Macro_Circle.png" width="64"/></a></span>
</p><p><b>Macro_circle.FCMacro</b>
</p>
<pre>#-*- coding: utf-8 -*-
#from math import sqrt, pi
# creer un cercle ou un arc entierement parametrabel en utilisant :
# create a circle or arc fully parametrabel using:
#
# paste the complete macro in the Python console
#
# x x x coordinates
#with radius
#with diameter
#with circumference
#with area
#with startangle
#with endangle
#with [arc and anglecenter]      in combination (angle in degrees)
#with [cord and arrow]           in combination
#with center (if center as different 0 one point is created on center of circle)
#give placemObject  
# ex :pl=FreeCAD.Placement()
#     pl.Rotation.Q=(0.0,-0.0,-0.0,1.0)
#     pl.Base=FreeCAD.Vector(-1.89847898483,-0.490152746439,0.0)
#     placemObject = pl
# s'il n'y a pas de parametre "circle()" une liste des fonctions s'affiche dans la Vue rapport
# if there is no parameter "circle()" a list of functions is displayed in the report view

__title__   = "circle"
__author__  = "Mario52"
__version__ = "0.4"
__date__    = "19/06/2019"

import Draft #, Part
import FreeCAD
App = FreeCAD

def circle(x=0.0,y=0.0,z=0.0,radius=0.0,diameter=0.0,circumference=0.0,area=0.0,startangle=0.0,endangle=0.0,arc=0.0,anglecenter=0.0,cord=0.0,arrow=0.0,center=0,placemObject=""):
    from math import sqrt, pi
    if placemObject == "":
        pl = FreeCAD.Placement()
        pl.Rotation = FreeCADGui.ActiveDocument.ActiveView.getCameraOrientation()   
        pl.Base = FreeCAD.Vector(x,y,z)
    else:
        pl = FreeCAD.Placement()
        pl = placemObject                                  # placement imposted
    if diameter != 0:                                      # with diameter
        radius = diameter / 2.0
    elif circumference != 0:                               # with circumference
        radius = (circumference / pi) / 2.0
    elif area != 0:                                        # with area
        radius =  sqrt((area / pi))
    elif (cord != 0) and (arrow != 0):                     # with cord and arrow
        radius = ((arrow**2) + (cord**2) / 4.0) / (arrow*2) 
    elif (arc != 0) and (anglecenter != 0):                # with arc and anglecenter central in degrees
        radius = ((360/anglecenter)*arc) / pi/2.0
        if endangle != 0:
            startangle  = endangle - anglecenter
        endangle   = anglecenter + startangle
        startangle  = endangle - anglecenter
    if radius != 0:
        try:
            Draft.makeCircle(radius,placement=pl,face=False,startangle=startangle,endangle=endangle,support=None)
            if center != 0:
                x=pl.Base.x
                y=pl.Base.y
                z=pl.Base.z
                Draft.makePoint(x,y,z)
            
        except Exception:
            App.Console.PrintError("Unexpected keyword argument" + "\n")
        App.ActiveDocument.recompute()
    else:
        App.Console.PrintMessage("Unexpected keyword argument" + "\n")
        App.Console.PrintMessage("circle(x,y,z,radius,diameter,circumference,area,startangle,endangle,[arc,anglecenter],[cord,arrow],center,placemObject)" + "\n")
        App.Console.PrintMessage("circle(radius=10.0,placemObject=App.Placement(App.Vector(11,20,30), App.Rotation(30,40,0), App.Vector(0,0,0)))" + "\n")
#example
#circle(arc=50,anglecenter=20,center=1)
#circle(x=10.0,y=10.0,z=10.0,radius=10.0)
#circle(radius=10.0,center=1,placemObject=App.Placement(App.Vector(11,20,30), App.Rotation(30,40,0), App.Vector(0,0,0)))</pre>
<p><span id="Memo_of_circle"></span>
</p>
<h2><span class="mw-headline" id="Memo_sur_le_cercle">Memo sur le cercle</span></h2>
<p><b>Exemples de codes</b>
</p>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">circle</span><span class="p">(</span><span class="n">radius</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>    <span class="c1"># example 1</span>
<span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">diameter</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>    <span class="c1"># example 2</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">circumference</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>    <span class="c1"># example 3</span>
</pre></div>
<figure class="mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Circle_01.png" title="examples 1, 2, 3"><img alt="examples 1, 2, 3" decoding="async" height="293" src="../File/Macro_Circle_01.png" srcset="/images/6/61/Macro_Circle_01.png 1.5x" width="640"/></a><figcaption>examples 1, 2, 3</figcaption></figure>
<div style="clear:both"></div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">area</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>    <span class="c1"># example 4</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span><span class="n">startangle</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span><span class="n">endangle</span><span class="o">=-</span><span class="mi">20</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 5</span>
<span class="n">circle</span><span class="p">(</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">x</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span><span class="n">cord</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span><span class="n">arrow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 6 left</span>
<span class="n">circle</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">65</span><span class="p">,</span><span class="n">y</span><span class="o">=-</span><span class="mi">15</span><span class="p">,</span><span class="n">arc</span><span class="o">=</span><span class="mf">3.5</span><span class="p">,</span><span class="n">anglecenter</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span><span class="n">startangle</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">center</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>    <span class="c1"># example 6 rigth</span>
</pre></div>
<figure class="mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="../File/Macro_Circle_02.png" title="examples"><img alt="examples" decoding="async" height="293" src="../File/Macro_Circle_02.png" srcset="/images/2/23/Macro_Circle_02.png 1.5x" width="640"/></a><figcaption>examples</figcaption></figure>
<div style="clear:both"></div>
<h2><span class="mw-headline" id="Version">Version</span></h2>
<p>ver 0.4 19/06/2019 : mise à jour version 0.19
</p><p>ver 0.3 10/06/2018 : remplacement de /2 par /2.0 (flottant)
</p><p>ver 0.2 24/02/2015 : ajout de la fonction "<b>placemObject</b>"
</p>
<!-- 
NewPP limit report
Cached time: 20241129211235
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.056 seconds
Real time usage: 0.269 seconds
Preprocessor visited node count: 160/1000000
Post‐expand include size: 3255/2097152 bytes
Template argument size: 4675/2097152 bytes
Highest expansion depth: 7/100
Expensive parser function count: 2/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 7507/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  204.090      1 -total
 97.04%  198.043      2 Template:Code
  1.45%    2.967      1 Template:Macro/fr
  0.57%    1.156      1 Template:MacroCode
  0.52%    1.059      2 Template:ColoredText
  0.40%    0.807      2 Template:Clear
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:56365-0!canonical and timestamp 20241129211235 and revision id 1345365. Rendering was triggered because: api-parse
 -->
</div></div><script src="../script.js"></script>
