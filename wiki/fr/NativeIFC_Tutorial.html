<link href="../site.css" rel="stylesheet" type="text/css"/><div class="mw-page-container"><h1 id="firstHeading" class="firstHeading mw-first-heading"><span class="mw-page-title-main">NativeIFC Tutorial/fr</span></h1><?xml encoding="UTF-8"><div class="mw-parser-output"><div class="mw-pt-languages noprint" lang="en" dir="ltr"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a href="../NativeIFC_Tutorial.html" class="mw-pt-languages-ui mw-pt-progress mw-pt-progress--complete" title="NativeIFC Tutorial (100% translated)" lang="en" dir="ltr">English</a></li>
<li><span class="mw-pt-languages-selected mw-pt-progress mw-pt-progress--low" lang="fr" dir="ltr">fran&ccedil;ais</span></li></ul></div>
<table class="fcinfobox wikitable ct" style="width: 230px; float: right; margin-left: 1em">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;"><span typeof="mw:File"><span><img src="../File/Freecad.svg" decoding="async" width="32" height="32"></span></span> Tutoriel
</td></tr>
<tr>
<th class="ctOdd">Th&egrave;me
</th></tr>
<tr>
<td class="ctEven">Tutoriel NativeIFC
</td></tr>
<tr>
<th class="ctOdd">Niveau
</th></tr>
<tr>
<td class="ctEven">Intermediaire/avanc&eacute;
</td></tr>
<tr>
<th class="ctOdd">Temps d'ex&eacute;cution estim&eacute;
</th></tr>
<tr>
<td class="ctEven">60 minutes
</td></tr>
<tr>
<th class="ctOdd">Auteurs
</th></tr>
<tr>
<td class="ctEven">yorik
</td></tr>
<tr>
<th class="ctOdd">Version de FreeCAD
</th></tr>
<tr>
<td class="ctEven">1.0
</td></tr>
<tr>
<th class="ctOdd">Fichiers exemples
</th></tr>
<tr>
<td class="ctEven">
</td></tr>
<tr>
<th class="ctOdd">Voir aussi
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<td class="ctToc"><br><div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none"><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Tutoriel_FreeCAD_et_IFC_natif"><span class="tocnumber">1</span> <span class="toctext">Tutoriel FreeCAD et IFC natif</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Le_format_IFC"><span class="tocnumber">1.1</span> <span class="toctext">Le format IFC</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Le_concept_d'IFC_natif"><span class="tocnumber">1.2</span> <span class="toctext">Le concept d'IFC natif</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Est-ce_que_j'ai_besoin_de_l'IFC_?"><span class="tocnumber">1.3</span> <span class="toctext">Est-ce que j'ai besoin de l'IFC&nbsp;?</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="#Ouvrir_et_cr%C3%A9er_des_mod%C3%A8les_IFC"><span class="tocnumber">2</span> <span class="toctext">Ouvrir et cr&eacute;er des mod&egrave;les IFC</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Trouver_et_visualiser_les_mod%C3%A8les_IFC"><span class="tocnumber">2.1</span> <span class="toctext">Trouver et visualiser les mod&egrave;les IFC</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Qu'est-ce_qui_fait_un_bon_mod%C3%A8le_IFC"><span class="tocnumber">2.2</span> <span class="toctext">Qu'est-ce qui fait un bon mod&egrave;le IFC</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Ouvrir,_cr%C3%A9er_et_convertir_des_mod%C3%A8les_IFC"><span class="tocnumber">2.3</span> <span class="toctext">Ouvrir, cr&eacute;er et convertir des mod&egrave;les IFC</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Exploring_the_model"><span class="tocnumber">3</span> <span class="toctext">Exploring the model</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Expanding_model_contents"><span class="tocnumber">3.1</span> <span class="toctext">Expanding model contents</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Locking_and_unlocking"><span class="tocnumber">3.2</span> <span class="toctext">Locking and unlocking</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Model_structure"><span class="tocnumber">3.3</span> <span class="toctext">Model structure</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Adding_and_modifying_elements"><span class="tocnumber">4</span> <span class="toctext">Adding and modifying elements</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="#Modifying_attributes_and_properties"><span class="tocnumber">4.1</span> <span class="toctext">Modifying attributes and properties</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Modifying_geometry"><span class="tocnumber">4.2</span> <span class="toctext">Modifying geometry</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Adding_new_BIM_objects"><span class="tocnumber">4.3</span> <span class="toctext">Adding new BIM objects</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Types"><span class="tocnumber">4.4</span> <span class="toctext">Types</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Adding_downloadable_contents"><span class="tocnumber">4.5</span> <span class="toctext">Adding downloadable contents</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#Saving_and_handling_files"><span class="tocnumber">4.6</span> <span class="toctext">Saving and handling files</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-20"><a href="#Creating_output"><span class="tocnumber">5</span> <span class="toctext">Creating output</span></a>
<ul>
<li class="toclevel-2 tocsection-21"><a href="#Creating_views_and_2D_content"><span class="tocnumber">5.1</span> <span class="toctext">Creating views and 2D content</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#Creating_sheets"><span class="tocnumber">5.2</span> <span class="toctext">Creating sheets</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#Creating_schedules"><span class="tocnumber">5.3</span> <span class="toctext">Creating schedules</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href="#Python_scripting"><span class="tocnumber">6</span> <span class="toctext">Python scripting</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="#IfcOpenShell"><span class="tocnumber">6.1</span> <span class="toctext">IfcOpenShell</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="#The_ifc_tools_module"><span class="tocnumber">6.2</span> <span class="toctext">The ifc_tools module</span></a>
<ul>
<li class="toclevel-3 tocsection-27"><a href="#Load_the_shape_of_selected_objects"><span class="tocnumber">6.2.1</span> <span class="toctext">Load the shape of selected objects</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="#Load_the_property_sets_of_selected_objects"><span class="tocnumber">6.2.2</span> <span class="toctext">Load the property sets of selected objects</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="#Saving_an_IFC_file"><span class="tocnumber">6.2.3</span> <span class="toctext">Saving an IFC file</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="#Add_a_new_IFC_document"><span class="tocnumber">6.2.4</span> <span class="toctext">Add a new IFC document</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="#Modifying_the_IFC_class_of_an_object"><span class="tocnumber">6.2.5</span> <span class="toctext">Modifying the IFC class of an object</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="#Aggregate_(and_convert)_any_FreeCAD_object_to_an_IFC_project"><span class="tocnumber">6.2.6</span> <span class="toctext">Aggregate (and convert) any FreeCAD object to an IFC project</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="#Add_a_new_model_structure"><span class="tocnumber">6.2.7</span> <span class="toctext">Add a new model structure</span></a></li>
<li class="toclevel-3 tocsection-34"><a href="#Change_the_schema_of_an_IFC_document"><span class="tocnumber">6.2.8</span> <span class="toctext">Change the schema of an IFC document</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

</td></tr></tbody></table>
<p><span id="FreeCAD_and_native_IFC_tutorial"></span>
</p>
<h2><span class="mw-headline" id="Tutoriel_FreeCAD_et_IFC_natif">Tutoriel FreeCAD et IFC natif</span></h2>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-01.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-01.jpg" decoding="async" width="1920" height="1007"></a></span>
</p><p><a rel="nofollow" class="external text" href="https://freecad.org">FreeCAD</a>, une plateforme de mod&eacute;lisation CAO 3D libre et gratuite (FOSS), offre des outils <a rel="nofollow" class="external text" href="https://fr.wikipedia.org/wiki/Building_information_modeling">BIM</a> depuis de nombreuses ann&eacute;es avec l'atelier Arch. &Agrave; partir de la version 1.0, publi&eacute;e en novembre 2024, les outils Arch ont &eacute;t&eacute; &eacute;tendus et renomm&eacute;s pour devenir l'<a href="../fr/BIM_Workbench.html" title="BIM Workbench/fr">atelier BIM</a>, et compl&eacute;t&eacute;s par un nouveau syst&egrave;me IFC natif. Ce tutoriel vous guidera &agrave; travers les diff&eacute;rents concepts utilis&eacute;s dans le syst&egrave;me IFC natif, et comment les appliquer en travaillant sur un mod&egrave;le d'exemple.
</p><p><span id="The_IFC_format"></span>
</p>
<h3><span class="mw-headline" id="Le_format_IFC">Le format IFC</span></h3>
<p>On ne peut commencer &agrave; parler de l'IFC native sans parler d'abord du mod&egrave;le de donn&eacute;es <a rel="nofollow" class="external text" href="https://fr.wikipedia.org/wiki/Industry_Foundation_Classes">Industry Foundation Classes</a>, mieux connues sous le nom d'IFC. L'IFC est un format de fichier, mais aussi et plus fondamentalement un format de donn&eacute;es. C'est une norme (c'est une norme ISO enregistr&eacute;e) qui sp&eacute;cifie comment les diff&eacute;rents composants d'un b&acirc;timent doivent &ecirc;tre repr&eacute;sent&eacute;s num&eacute;riquement, quelles propri&eacute;t&eacute;s chacun d'entre eux doit avoir, quelles relations ils peuvent ou doivent avoir avec d'autres &eacute;l&eacute;ments, etc. En bref, il s'agit d'une recette pour d&eacute;crire un b&acirc;timent num&eacute;riquement.
</p><p>Le format IFC pr&eacute;sente de nombreuses caract&eacute;ristiques int&eacute;ressantes. Tout d'abord, il est ouvert et public (il est maintenu par un consortium, comme le format HTML). Il d&eacute;rive du format STEP, un format de g&eacute;om&eacute;trie 3D bien connu et solide comme le roc, largement utilis&eacute; dans l'industrie m&eacute;canique. Il est lisible par l'homme (vous pouvez l'ouvrir avec un &eacute;diteur de texte), et les donn&eacute;es peuvent &ecirc;tre &eacute;crites non seulement dans un, mais dans plusieurs formats de fichiers, et m&ecirc;me &ecirc;tre utilis&eacute;es comme base de donn&eacute;es.
</p><p>Ces caract&eacute;ristiques font de ce format un format g&eacute;om&eacute;triquement fiable, gr&acirc;ce &agrave; son (grand-)p&egrave;re STEP, mais aussi un choix tr&egrave;s judicieux pour confier vos donn&eacute;es, car dans 50 ans, vous pourrez toujours ouvrir les fichiers IFC et r&eacute;cup&eacute;rer les donn&eacute;es, m&ecirc;me si votre application BIM a disparu. Les fichiers IFC deviennent &eacute;galement de plus en plus le format de fichier pr&eacute;f&eacute;r&eacute; demand&eacute; par les autorit&eacute;s lors de la d&eacute;livrance des permis de construire.
</p><p>Jusqu'&agrave; pr&eacute;sent, cependant, le format IFC a surtout &eacute;t&eacute; utilis&eacute; comme format &laquo;&nbsp;d'exportation&nbsp;&raquo;. Les concepteurs continuaient &agrave; enregistrer leurs projets en utilisant le format de fichier natif de leur application BIM et exportaient des fichiers IFC lorsque cela &eacute;tait n&eacute;cessaire. C'est assez bien pour montrer votre travail, mais c'est assez mauvais si d'autres personnes ont besoin de travailler avec ce mod&egrave;le, car il y a beaucoup de pertes de donn&eacute;es et les donn&eacute;es sont enti&egrave;rement r&eacute;&eacute;crites &agrave; chaque exportation, de sorte que l'utilisation d'une nouvelle version du mod&egrave;le est souvent un casse-t&ecirc;te pour d'autres personnes.
</p><p>Avec l'IFC native, nous voulons changer cela.
</p><p><span id="The_native_IFC_concept"></span>
</p>
<h3><span id="Le_concept_d.27IFC_natif"></span><span class="mw-headline" id="Le_concept_d'IFC_natif">Le concept d'IFC natif</span></h3>
<p>L'id&eacute;e vient d'un <a rel="nofollow" class="external text" href="https://github.com/brunopostle/ifcmerge/blob/main/docs/whitepaper.rst">papier de Bruno Postle</a> qui d&eacute;crit comment le format IFC pourrait &ecirc;tre utilis&eacute; non seulement comme format d'exportation, mais aussi comme fichier principal du projet, au lieu des formats (g&eacute;n&eacute;ralement propri&eacute;taires) utilis&eacute;s par les applications BIM. Pour y parvenir, il est essentiel que les applications BIM traitent le format IFC de mani&egrave;re native, c'est-&agrave;-dire qu'au lieu de convertir &agrave; chaque fois leur propre contenu de leur format interne en IFC, elles devraient manipuler directement les donn&eacute;es IFC.
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-02.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-02.jpg" decoding="async" width="1366" height="768"></a></span>
</p>
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;">image de l'article de Bruno Postle</p>
<p>Concr&egrave;tement, dans FreeCAD, vous pouvez ouvrir ou cr&eacute;er des mod&egrave;les IFC, les explorer, modifier leur contenu, et chaque changement sera clairement enregistr&eacute;, localisable, identifiable, annulable. Les modifications effectu&eacute;es par d'autres personnes pendant que vous travailliez peuvent &ecirc;tre fusionn&eacute;es, m&ecirc;me si elles travaillent avec d'autres applications (natives IFC).
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-03.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-03.jpg" decoding="async" width="1920" height="1007"></a></span>
</p>
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;">L'image ci-dessus montre une modification compacte et limit&eacute;e d'un dossier lors de l'ajout d'un nouveau mur</p>
<p>Le travail sur l'IFC natif dans FreeCAD n'est pas termin&eacute;, mais il est d&eacute;j&agrave; totalement utilisable &laquo;&nbsp;pour une t&acirc;che r&eacute;elle&nbsp;&raquo;. Si vous connaissez d&eacute;j&agrave; les outils BIM de FreeCAD, il y a tr&egrave;s peu &agrave; apprendre, car la plupart du flux de travail utilise les m&ecirc;mes outils.
</p><p><span id="Do_I_need_IFC?"></span>
</p>
<h3><span id="Est-ce_que_j.27ai_besoin_de_l.27IFC_.3F"></span><span class="mw-headline" id="Est-ce_que_j'ai_besoin_de_l'IFC_?">Est-ce que j'ai besoin de l'IFC&nbsp;?</span></h3>
<p>La d&eacute;cision vous appartient. L'IFC est un format strict, o&ugrave; chaque &eacute;l&eacute;ment (un mur, un &eacute;tage, une fen&ecirc;tre) a des attributs et des caract&eacute;ristiques tr&egrave;s stricts, qui ne peuvent pas &ecirc;tre modifi&eacute;s. Cette normalisation garantit sa compatibilit&eacute; et sa fiabilit&eacute;. Cela signifie &eacute;galement que l'on ne peut pas faire ce que l'on veut avec l'IFC. Vous devez respecter ce que le format d&eacute;finit. Ce respect est bienvenu et excellent lorsque vous travaillez avec d'autres, car c'est exactement ce que nous demandons &agrave; un &laquo;&nbsp;standard&nbsp;&raquo;. Il y a des garanties sur ce que vous trouverez en ouvrant un fichier IFC, mais cela peut aussi &eacute;videmment limiter la cr&eacute;ativit&eacute;.
</p><p>L'un des axiomes de l'atelier BIM de FreeCAD est de ne pas limiter la cr&eacute;ativit&eacute;. Tout est possible, toute forme g&eacute;om&eacute;trique est possible, toute relation param&eacute;trique est possible. Lorsque vous travaillez avec l'atelier BIM sans IFC natif, cette libert&eacute; est au bout de vos doigts. En activant l'IFC natif, cette libert&eacute; est restreinte. Est-ce une bonne ou une mauvaise chose pour votre projet&nbsp;? Cela d&eacute;pend.
</p><p>Personnellement, je recommanderais de travailler sans IFC lorsque vous travaillez seul et que vous d&eacute;veloppez encore des concepts, afin de b&eacute;n&eacute;ficier d'une libert&eacute; maximale. Lorsque votre projet s'est stabilis&eacute; et que d'autres personnes sont impliqu&eacute;es, c'est peut-&ecirc;tre le moment de passer au format IFC natif, afin de b&eacute;n&eacute;ficier de la standardisation. N'oubliez pas que vous pouvez passer &agrave; l'IFC natif &agrave; tout moment, ou m&ecirc;me exporter votre projet IFC non natif vers l'IFC &agrave; tout moment. Il est rarement n&eacute;cessaire de passer imm&eacute;diatement au format IFC natif.
</p><p><span id="Opening_and_creating_IFC_models"></span>
</p>
<h2><span id="Ouvrir_et_cr.C3.A9er_des_mod.C3.A8les_IFC"></span><span class="mw-headline" id="Ouvrir_et_cr&eacute;er_des_mod&egrave;les_IFC">Ouvrir et cr&eacute;er des mod&egrave;les IFC</span></h2>
<p><span id="Finding_and_viewing_IFC_models"></span>
</p>
<h3><span id="Trouver_et_visualiser_les_mod.C3.A8les_IFC"></span><span class="mw-headline" id="Trouver_et_visualiser_les_mod&egrave;les_IFC">Trouver et visualiser les mod&egrave;les IFC</span></h3>
<p>Si vous n'avez jamais travaill&eacute; avec le format IFC, vous pouvez commencer par jeter un coup d'&oelig;il &agrave; quelques mod&egrave;les. Comme il s'agit d'un format ouvert, il est heureusement tr&egrave;s facile de trouver des exemples sur l'internet. Une simple recherche de &laquo;&nbsp;mod&egrave;les IFC d'exemple&nbsp;&raquo; vous m&egrave;nera loin. Je sugg&eacute;rerais par exemple cet <a rel="nofollow" class="external text" href="https://github.com/buildingSMART/Sample-Test-Files/tree/main/PCERT-Sample-Scene/IFC%204.0.2.1%20(IFC%204)">exemple canonique de maison</a> conserv&eacute; par le consortium IFC, mais plusieurs sites web ont rassembl&eacute; des collections de fichiers d'exemple, comme <a rel="nofollow" class="external text" href="https://bimplot.com/free-ifc-project-samples-for-architects-and-bim-enthusists/">celui-ci sur BIMPlot</a>.
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-04.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-04.jpg" decoding="async" width="1920" height="1007"></a></span>
</p><p>Il existe de nombreuses applications pour visualiser les fichiers IFC. Certaines sont gratuites, d'autres sont m&ecirc;me libres et gratuites (FOSS). Parmi les visionneurs IFC propri&eacute;taires mais gratuits, on peut citer <a rel="nofollow" class="external text" href="https://bimvision.eu/">BIMVision</a> ou <a rel="nofollow" class="external text" href="https://openifcviewer.com/">ODA IFC viewer</a> (qui fonctionne sur Windows/Mac/Linux). Parmi les visionneurs FOSS, j'utilise beaucoup le simple visionneur <a rel="nofollow" class="external text" href="http://www.ifcquery.com/">IFC++</a>, inclus dans les d&eacute;p&ocirc;ts Debian/Ubuntu. <a rel="nofollow" class="external text" href="https://freecad.org">FreeCAD</a> et <a rel="nofollow" class="external text" href="https://bonsaibim.org">Bonsai</a> sont &eacute;galement de bons visionneurs rapides d'IFC.
</p><p>La possibilit&eacute; d'ouvrir et de visualiser vos fichiers IFC dans une autre application est fondamentale lorsque vous travaillez avec des fichiers IFC, car elle vous permet de v&eacute;rifier que ce que vous envoyez &agrave; vos coll&egrave;gues ou &agrave; vos clients contient tout ce qu'il faut.
</p><p><span id="What_makes_a_good_IFC_model"></span>
</p>
<h3><span id="Qu.27est-ce_qui_fait_un_bon_mod.C3.A8le_IFC"></span><span class="mw-headline" id="Qu'est-ce_qui_fait_un_bon_mod&egrave;le_IFC">Qu'est-ce qui fait un bon mod&egrave;le IFC</span></h3>
<p>Le format IFC est complexe et les applications BIM, m&ecirc;me les plus co&ucirc;teuses, sont notoirement mauvaises, voire tr&egrave;s mauvaises, pour traiter les fichiers IFC. Les fichiers IFC que vous rencontrez peuvent donc &ecirc;tre de tr&egrave;s mauvaise qualit&eacute; et remplis de d&eacute;chets, parfois au point d'&ecirc;tre &agrave; peine utilisables. Les d&eacute;fenseurs des applications BIM propri&eacute;taires ont souvent utilis&eacute; ce fait pour discr&eacute;diter le format IFC et tenter de d&eacute;montrer son inefficacit&eacute;.
</p><p>Il n'est pourtant pas difficile de cr&eacute;er des mod&egrave;les IFC de qualit&eacute;. Mais il faut une application qui traite le format avec s&eacute;rieux et qui laisse &agrave; l'utilisateur le contr&ocirc;le de ce qui est export&eacute; et de la mani&egrave;re dont il l'est.
</p><p>Les choses &agrave; savoir sont peu nombreuses&nbsp;:
</p>
<ul>
<li><p>Comme le format STEP, un fichier IFC est <b>un fichier texte</b>, o&ugrave; chaque ligne repr&eacute;sente un &eacute;l&eacute;ment, et commence par un num&eacute;ro d'identification. Par exemple&nbsp;:</p>
<pre>#66=IFCWALL('3JmWkr',$,'MyWall',$,$,(#71),$,$,$,.SOLIDWALL.);</pre>
<p>La ligne ci-dessus d&eacute;finit un &eacute;l&eacute;ment de la classe <b>IfcWall</b>, avec l'ID 66. Les &eacute;l&eacute;ments entre parenth&egrave;ses sont ses attributs. Nous reviendrons plus loin sur les attributs.</p>
<p>L'&eacute;l&eacute;ment important est la <b>classe</b> (comme dans 'Industry Foundation Classes'). Chaque &eacute;l&eacute;ment a une classe, qui d&eacute;finit le type d'&eacute;l&eacute;ment&nbsp;: un mur, une fen&ecirc;tre, mais aussi un sol, un espace, ou m&ecirc;me une ligne, un cercle, un point dans l'espace 3D ou m&ecirc;me des concepts tels qu'un moment dans le temps ou une t&acirc;che &agrave; accomplir. La plupart des classes IFC utiles pour les &eacute;l&eacute;ments de construction sont d&eacute;riv&eacute;es de la classe <a rel="nofollow" class="external text" href="https://standards.buildingsmart.org/IFC/RELEASE/IFC4_1/FINAL/HTML/schema/ifcproductextension/lexical/ifcbuildingelement.htm">IfcBuildingElement</a>.</p></li>
<li><p>Les mod&egrave;les IFC suivent g&eacute;n&eacute;ralement une <i>structure stricte</i>&nbsp;: dans chaque fichier, il doit y avoir un et un seul <i>IfcProject</i>. L'<a rel="nofollow" class="external text" href="https://ifc43-docs.standards.buildingsmart.org/IFC/RELEASE/IFC4x3/HTML/lexical/IfcProject.htm">IfcProject</a> est la racine de tous les objets d'un mod&egrave;le IFC. Sous le projet IfcProject, il y a g&eacute;n&eacute;ralement au moins un <b>IfcSite</b>, qui peut contenir un ou plusieurs <b>IfcBuildings</b>, qui sont &agrave; leur tour divis&eacute;s en <b>IfcBuildingStoreys</b>. Ces derniers peuvent &ecirc;tre divis&eacute;s en <b>IfcZones</b> et <b>IfcSpaces</b>.</p></li>
<li><p>Les &eacute;l&eacute;ments de construction, tels que les <b>IfcWalls</b> ou les <b>IfcWindows</b>, sont alors <b>li&eacute;s</b> &agrave; l'une des structures ci-dessus, g&eacute;n&eacute;ralement un IfcBuildingStorey, mais ils peuvent &eacute;galement &ecirc;tre li&eacute;s &agrave; un autre &eacute;l&eacute;ment de construction, de sorte qu'un &eacute;l&eacute;ment peut &ecirc;tre compos&eacute; de plusieurs autres. Ces relations sont toujours explicitement mentionn&eacute;es dans les fichiers IFC, elles ne sont jamais automatiques ou implicites.</p></li>
<li><p>Les &eacute;l&eacute;ments IFC, qu'il s'agisse d'&eacute;l&eacute;ments de construction tels que les murs ou les fen&ecirc;tres, ou d'&eacute;l&eacute;ments de structure tels que les sites et les &eacute;tages, ou de l'une des nombreuses autres <a rel="nofollow" class="external text" href="https://ifc43-docs.standards.buildingsmart.org/IFC/RELEASE/IFC4x3/HTML/annex-b1.html">classes d'&eacute;l&eacute;ments</a> propos&eacute;es par le format IFC, disposent tous d'un ensemble pr&eacute;d&eacute;fini d'&laquo;&nbsp;attributs&nbsp;&raquo;. Les attributs sont des &eacute;l&eacute;ments tels que le nom, la position dans l'espace ou le num&eacute;ro d'identification unique, qui sont d&eacute;finis dans le format. Toutes les entit&eacute;s de la m&ecirc;me classe doivent avoir les m&ecirc;mes attributs. Les &eacute;l&eacute;ments peuvent &eacute;galement avoir des <b>propri&eacute;t&eacute;s</b>. Contrairement aux attributs, les propri&eacute;t&eacute;s ne sont pas d&eacute;finies par le format IFC et peuvent &ecirc;tre d&eacute;finies librement par l'utilisateur (ou l'application BIM). Il s'agit en quelque sorte d'attributs personnalis&eacute;s. Le format IFC propose &eacute;galement des ensembles de propri&eacute;t&eacute;s par d&eacute;faut pour de nombreuses classes d'&eacute;l&eacute;ments. Par exemple, pour les poutres, il existe un ensemble appel&eacute; <a rel="nofollow" class="external text" href="https://ifc43-docs.standards.buildingsmart.org/IFC/RELEASE/IFC4x3/HTML/lexical/Pset_BeamCommon.htm">BimCommon</a> qui contient une s&eacute;rie de propri&eacute;t&eacute;s typiques pour les poutres.</p></li>
<li><p>La <b>g&eacute;om&eacute;trie</b> des &eacute;l&eacute;ments IFC est d&eacute;finie dans des &eacute;l&eacute;ments s&eacute;par&eacute;s, qui sont attach&eacute;s &agrave; chaque mur, fen&ecirc;tre, porte, etc. Elle peut &eacute;galement &ecirc;tre partag&eacute;e par plusieurs &eacute;l&eacute;ments. Il existe de tr&egrave;s nombreuses fa&ccedil;ons de d&eacute;finir la g&eacute;om&eacute;trie, et c'est l&agrave; que les probl&egrave;mes commencent. Les &eacute;l&eacute;ments de construction peuvent avoir une g&eacute;om&eacute;trie 3D et une g&eacute;om&eacute;trie 2D (par exemple une vue en plan ou une empreinte), ainsi qu'une g&eacute;om&eacute;trie lin&eacute;aire (utile pour les &eacute;tudes de stabilit&eacute;). Une bonne g&eacute;om&eacute;trie est g&eacute;n&eacute;ralement bien d&eacute;finie et construite de mani&egrave;re judicieuse. Par exemple, la g&eacute;om&eacute;trie d'un mur simple est d&eacute;finie par un rectangle au sol, avec une largeur et une longueur, qui est ensuite extrud&eacute; verticalement d'une hauteur donn&eacute;e pour produire la forme du mur. Cela repr&eacute;sente trois lignes dans le fichier IFC&nbsp;: le rectangle, l'extrusion et la position de l'objet final. Il est reconnaissable par d'autres applications BIM et les param&egrave;tres peuvent &ecirc;tre modifi&eacute;s, par exemple la largeur du rectangle de base.</p></li>
<li><p>Dans certains fichiers IFC que vous pouvez recevoir, cette information logique peut &ecirc;tre compl&egrave;tement perdue, et la g&eacute;om&eacute;trie du mur d&eacute;finie comme un ensemble de facettes triangulaires. C'est souvent le cas des fichiers qui ont &eacute;t&eacute; convertis en IFC &agrave; partir d'un autre format. Il peut y avoir d'autres probl&egrave;mes tels que des relations incompl&egrave;tes, etc. Il suffit de dire que le format IFC permet de d&eacute;finir la g&eacute;om&eacute;trie de multiples fa&ccedil;ons, des plus &laquo;&nbsp;stupides&nbsp;&raquo; (facettes triangulaires) aux plus &laquo;&nbsp;intelligentes&nbsp;&raquo; (objets bas&eacute;s sur NURBS), en mettant l'accent sur les solides bien d&eacute;finis (tels que notre rectangle extrud&eacute;). Heureusement pour nous, c'est la sp&eacute;cialit&eacute; de FreeCAD.</p></li></ul>
<p><span id="Opening,_creating_and_converting_IFC_models"></span>
</p>
<h3><span id="Ouvrir.2C_cr.C3.A9er_et_convertir_des_mod.C3.A8les_IFC"></span><span class="mw-headline" id="Ouvrir,_cr&eacute;er_et_convertir_des_mod&egrave;les_IFC">Ouvrir, cr&eacute;er et convertir des mod&egrave;les IFC</span></h3>
<p>Dans FreeCAD, l'ouverture d'un fichier IFC se fait comme n'importe quel autre fichier, via le menu <b>Fichier &rarr; Ouvrir</b>. Par d&eacute;faut, les fichiers IFC se chargent avec un seul &eacute;l&eacute;ment apparaissant dans l'arborescence. C'est la fa&ccedil;on la plus rapide d'importer, et vous pouvez g&eacute;n&eacute;ralement importer un mod&egrave;le de 100 Mo en quelques secondes.
</p><p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-05.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-05.jpg" decoding="async" width="1920" height="1007"></a></span>
</p><p>Vous pouvez modifier les pr&eacute;f&eacute;rences d'importation IFC natif sous <b>Edition &rarr; Pr&eacute;f&eacute;rences &rarr; BIM &rarr; NativeIFC</b>. Vous pouvez par exemple faire en sorte que toute la structure du b&acirc;timent soit r&eacute;v&eacute;l&eacute;e lors de l'importation, ou qu'elle soit demand&eacute;e &agrave; chaque fois.
</p><p>La cr&eacute;ation d'un nouveau mod&egrave;le IFC commence simplement par la cr&eacute;ation d'un nouveau projet IFC dans le menu <b>3D/BIM</b>.
</p><p>La conversion d'un mod&egrave;le FreeCAD non IFC en nativeIFC peut se faire simplement en l'exportant en IFC, en utilisant le menu <b>Fichier &rarr; Exporter</b> ou en utilisant le bouton de verrouillage (plus d'informations &agrave; ce sujet ci-dessous).
</p><p><br>
</p>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h2><span class="mw-headline" id="Exploring_the_model">Exploring the model</span></h2>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Expanding_model_contents">Expanding model contents</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>By default, opening IFC files will show only the first, outer element of the file. Usually the IfcSite. To view the contents of that element, and of the subsequent ones, you need to <b>expand</b> it. Expanding is done by <b>double-clicking the element in the Tree view</b> or, alternatively, via the <b>Utils &rarr; IFC expand</b> menu option. This command can be <a href="../Interface_Customization.html" title="Interface Customization">customized</a> and be assigned a keyboard shortcut, so it's possible to navigate the Tree view with the arrow keys and expand your model where needed entirely using the keyboard.
</p>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-06.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-06.jpg" decoding="async" width="1246" height="742"></a></span>
</p>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Double-clicking an element in the Tree view will, the first time, reveal its children, and, the second time, or if there are no more children to reveal, <b>load its full properties, material and shape</b>.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>This allows to load a model as quickly as possible, and expand/define elements as needed. You can change this behavior under <b>Edit &rarr; Preferences &rarr; BIM &rarr; Native IFC</b>.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Locking_and_unlocking">Locking and unlocking</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>When an IFC model is loaded in FreeCAD, it can be locked or unlocked. By default, opening IFC files will lock them, while inserting them (using <b>File &rarr; Insert</b>) will leave FreeCAD unlocked.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Locking or unlocking is simply done using the lock button in the FreeCAD status bar:
</p>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-07.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-07.jpg" decoding="async" width="1081" height="494"></a></span>
</p>
<div lang="en" dir="ltr" class="mw-content-ltr">
<ul><li><b>Locked mode</b> means that the FreeCAD document IS the IFC file. You don't see the IfcProject (it is the FreeCAD document itself in the Tree view), and anything you do in that document is automatically, transparently and immediately done in the IFC data itself. Adding a wall will modify the IFC file, as well as adding a line or a dimension, everything is done in IFC. you cannot have any FreeCAD element in the document that is not part of the IFC file. You can convert any FreeCAD model (BIM or not) to IFC by clicking the lock button.</li>
<li><b>Unlocked mode</b>, also called hybrid mode, means the IFC project resides inside a <b>project</b> object. You can still have normal, non-IFC FreeCAD objects besides the IFC elements. To add an element to the IFC project, you must add it yourself to it by dragging it onto the project or one of the sub-elements of the project. You can create a new, blank IFC project using menu <b>3D/BIM &rarr; Project</b>.</li>
<li><b>Working with no IFC project at all</b>: Remember you don't need to create an IFC project to start a BIM project (that can be done anytime later if needed). You can simply start building walls, adding floors and roofs, without defining an IFC structure or even caring about IFC.</li></ul>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Locked mode means careful mode: When opening a file by somebody else, you don't want to break anything, you want to explore the file, and maybe fix something or do a few localized changes. You want to make sure the changes you did are strictly located and traceable.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In all other cases, there is no real need or advantage to lock your model. In fact, you can change the default behavior to open IFC models as unlocked if you prefer, under <b>Edit &rarr; Preferences &rarr; BIM &rarr; Native IFC</b>.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>When changing to an IFC model, you often want to verify <b>what you have changed in the IFC data</b> since the last save. This is done using <b>Utils &rarr; IFC Diff</b> (or right-clicking the project in the Tree view and selecting <b>IFC &rarr; Diff</b>). The changes are presented in the <a rel="nofollow" class="external text" href="https://en.wikipedia.org/wiki/Diff">diff format</a>, with sections highlighted in red and green. This format is also understandable by computer systems like Git, which are able to track large change sets, and therefore turn your IFC files first-class citizens under such systems.
</p>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-08.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-08.jpg" decoding="async" width="1920" height="983"></a></span>
</p>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Model_structure">Model structure</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>As seen above, most IFC files use a standard <b>Site &rarr; Building &rarr; Storey</b> structure. This is so common that it is often considered mandatory, although it is not expressly stated in the IFC standard. You could very well have all your elements directly related to the IfcProject. However, since standardization works when everybody decides to use the same system, it is advisable to have at least one site, one building and one storey (called <b>Level</b> in FreeCAD) in your model.
</p>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-09.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-09.jpg" decoding="async" width="1920" height="1005"></a></span>
</p>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In FreeCAD, it is possible to use <b>Groups</b> to organize your objects further under a storey. For example, inside your first floor, you could create a 'Walls' group to add all your walls, a 'Carpentry' group to add your wooden beams, etc. Groups are supported by IFC, however it is not standard to put groups inside a building structure element like a storey. For this reason, groups by default are written as <b>IfcBuildingElementAssemblies</b> instead of IfcGroups. At FreeCAD, though, we believe such behavior is useful and should be permitted. So there is a preference option to allow it. Most BIM applications will happily open files with groups inside other elements. That preference option is there to help spread our vision and possibly convince people.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>So, hands on, let's start breaking our model&hellip;
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h2><span class="mw-headline" id="Adding_and_modifying_elements">Adding and modifying elements</span></h2>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Modifying_attributes_and_properties">Modifying attributes and properties</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Once we have opened a model, we can start modifying its contents. Be aware that at the moment I'm writing this tutorial, there is <b>no graphical geometry editor</b> for IFC elements (this is on the roadmap and should land pretty soon, though). The way to modify the geometry of elements is by modifying their <b>geometric properties</b>.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>When IFC elements are loaded from the file, their attributes are rendered in the <a href="../Property_editor.html" title="Property editor">properties editor</a> under the <b>IFC</b> group. There, you can change things like name, description or even the class of elements.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>When double-clicking an element in the Tree view, you will first reveal the child elements of that element. When double-clicking it a second time, you will load additional data such as <b>property sets</b>, <b>custom properties</b>, <b>materials</b> and <b>shape data</b>. It will additionally create a set of <b>geometry properties</b> that will allow you to modify the geometry of that element. These geometry properties also form the foundations of the future graphical editor.
</p>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-10.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-10.jpg" decoding="async" width="1370" height="837"></a></span>
</p>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>All these additional properties can be changed directly, and new custom properties can be added using the two buttons under the properties editor.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Modifying_geometry">Modifying geometry</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>You can change the position of any element by changing its <b>Placement</b> property (or using the <a href="../Draft_Move.html" title="Draft Move">Move</a> or <a href="../Draft_Rotate.html" title="Draft Rotate">Rotate</a> tools).
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>To modify the geometry, such as the width of a wall, you need first to double-click twice to reveal its <b>geometry properties</b>. If that wall was constructed the standard way, as an extruded rectangle, you will see the width and length of the rectangle, as well as the extrusion height, among those properties.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Of course, everything depends on how the wall was defined in the IFC file. It might not be an extruded rectangle. In that case, fewer or other geometry properties might be available.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Adding_new_BIM_objects">Adding new BIM objects</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>How you add new objects depends on the current mode: locked or unlocked. When locked, anything you draw, such as a wall or a column, is automatically created in the IFC file itself. You might need to put it under the right level or building after creation, which is done simply by dragging the new wall under the right level in the Tree view.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In unlocked mode, your new wall will not be an IFC element yet. You always need to drag the wall yourself to the right place after creation.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Types">Types</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In IFC, any element can be defined by a <a rel="nofollow" class="external text" href="https://standards.buildingsmart.org/IFC/RELEASE/IFC4_1/FINAL/HTML/schema/ifckernel/lexical/ifctypeproduct.htm">type</a>. A type (ex. IfcWallType, IfcWindowType) is an IFC element that can hold common characteristics, properties or even geometry, that will automatically be used by all objects of that type. In some BIM applications, this is sometimes referred to as families.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In FreeCAD, in non-IFC BIM projects, we used to do this using cloning. In native IFC, there is full support for types. To define a type, the easiest way is to build an object of a desired class, for example a wall, then right-click it in the tree view and choose <b>IFC &rarr; convert to type</b>.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>When an object is converted to a type, it is moved to a special <i>Types</i> group under the project. It can then be referenced by any other wall in the project.
</p>
</div>
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-11.jpg" class="mw-file-description"><img src="../File/Nativeifc-tutorial-11.jpg" decoding="async" width="1370" height="837"></a></span>
</p>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p style="text-align:left; font-style:italic; width:800px; margin-left:1em; margin-right:1em;">The above image shows our wall that is now using the 'My Wall Type' as its type</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Adding_downloadable_contents">Adding downloadable contents</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In a BIM project, one often needs to add downloadable contents, such as pieces of furniture, appliances or elements such as prefabricated window frames. These elements are typically downloaded from manufacturers websites, or BIM library websites.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In all those cases, the quality and format of the elements you download, are of importance. You should care (in that order) about using a file format well supported by FreeCAD, getting models with good geometric quality, and enough metadata (color, materials, manufacturer info, etc&hellip;). Some good ideas are:
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<ul><li>STEP files from <a rel="nofollow" class="external text" href="https://grabcad.com/library?page=1&amp;time=this_month&amp;sort=popular&amp;softwares=step-slash-iges">GrabCAD</a>: STEP files are very well supported by FreeCAD and usually always contain high-quality geometry, as it is a favorite engineering format. They usually convert very well to IFC too.</li>
<li>IFC files from model libraries like <a rel="nofollow" class="external text" href="https://bimobject.com">BIMObject</a>: While using the IFC format might sound interesting, the IFC files made available by these website are often converted automatically from other (proprietary) formats, and the quality can be very low.</li>
<li>Exporting models from BIM proprietary applications such as Revit or ArchiCAD to the SAT format, and open these in FreeCAD using the <a rel="nofollow" class="external text" href="https://github.com/jmplonka/InventorLoader">Inventor Loader</a> addon (installable from the <a href="../Std_AddonMgr.html" title="Std AddonMgr">Addon manager</a>). While these applications will allow to export parts and elements to IFC, they will often degrade the geometry. Exporting types and families to SAT often gives a similar quality as STEP files. The Inventor Loader, though, is a work in progress and might not work with each and every file.</li></ul>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Saving_and_handling_files">Saving and handling files</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>A FreeCAD file containing a native IFC project, be it locked or unlocked, will always have an attached IFC file, where the IFC data is stored. When you create a new project, and you did not save the file yet, the IFC contents lives in the memory. As soon as you save the file, a companion IFC file is created and from now on attached to the FreeCAD file.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In <b>locked mode</b>, the FreeCAD document contains in its <i>IFC File Path</i> property the path to the companion IFC file. Since everything that happens in FreeCAD happens directly in the IFC file, there is no more need of the FreeCAD file anymore. The 'Save' and 'Save as' entries in the FreeCAD file menu are replaced with 'Save IFC' and 'Save IFC as'. When you save the file, you will be saving the IFC file, and no FreeCAD file is written. Literally, you only work with the IFC file.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In <b>unlocked mode</b>, a <i>project</i> object exists in the FreeCAD document, that also has a <i>IFC file Path</i> property that points to its companion IFC file. If you distribute your file to someone else, you will need to give them the IFC file too. If you move the IFC file, you will need to fix the <i>IFC File Path</i> property of the project object.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>It is possible to distribute the FreeCAD file without the IFC file, though: Set the <i>Shape Mode</i> property of all objects to 'Shape'. This will make the FreeCAD file retain the shape of all objects, and open correctly even if the IFC file is not present. The objects, however, will not be editable in that case.
</p>
</div>
<p><br>
</p>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h2><span class="mw-headline" id="Creating_output">Creating output</span></h2>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Creating_views_and_2D_content">Creating views and 2D content</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>2D views, to be put on <a href="../TechDraw_Workbench.html" title="TechDraw Workbench">TechDraw sheets</a>, can still be created the <a href="../BIM_Workbench.html" title="BIM Workbench">same way as before</a>: Adding <a href="../Arch_SectionPlane.html" title="Arch SectionPlane">section planes</a>, creating <a href="../BIM_Shape2DView.html" title="BIM Shape2DView">2D views</a>, filling them with annotations, then <a href="../BIM_TDView.html" title="BIM TDView">placing them</a> on <a href="../BIM_TDPage.html" title="BIM TDPage">sheets</a>. The process is exactly the same with non-IFC BIM models as with native IFC models.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>By default, though, native IFC objects are loaded without their shape (their <i>Shape Mode</i> property is set to 'Coin'). This saves a lot of time when loading. But the cutting algorithms used to generate 2D views need the full shape, so when including native IFC objects in a section plane, their Shape Mode will automatically be set to 'Shape'.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>While the final sheet itself cannot currently be saved to the IFC file, the 2D views, section planes and their annotations can. When adding (by drag and dropping in unlocked mode, or automatically in locked mode) a section plane to a project, a group will automatically be created under the project. That group represents a 2D view (its <i>Object Type</i> property is set to 'DRAWING'), and everything you add to that group will be part of that 2D view.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<div class="figure">
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p><span class="mw-default-size" typeof="mw:File"><a href="../File/Nativeifc-tutorial-12.jpg" class="mw-file-description" title="Screenshot of a 2D view created from an IFC project"><img alt="Screenshot of a 2D view created from an IFC project" src="../File/Nativeifc-tutorial-12.jpg" decoding="async" width="1920" height="1004"></a></span>
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
</div>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Creating_sheets">Creating sheets</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>At the moment, sheets are not saved in the IFC file. So in case of locked files, the sheets will need to be recreated.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="Creating_schedules">Creating schedules</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Schedules and all kinds of queries can be created the same way for native IFC as for non-IFC projects, using the <a href="../Arch_Schedule.html" title="Arch Schedule">Schedule tool</a>. Schedules can also be added to a native IFC project. In that case, their companion spreadsheet is not saved in the IFC file and must be re-created when opening the file.
</p>
</div>
<p><br>
</p>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h2><span class="mw-headline" id="Python_scripting">Python scripting</span></h2>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="IfcOpenShell">IfcOpenShell</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p><a rel="nofollow" class="external text" href="https://ifcopenshell.org/">IfcOpenShell</a> is the software component used in all IFC-related operations in FreeCAD. The BIM workbench can function without it, but in that case all IFC operations are disabled. IfcOpenShell is responsible for creating and modifying IFC files and IFC objects, as well as producing BREP geometry for the FreeCAD objects that represent IFC elements. FreeCAD currently uses IfcOpenShell only via its Python interface.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>IfcOpenShell offers a <a rel="nofollow" class="external text" href="https://docs.ifcopenshell.org/">broad documentation</a> that explains in detail how to use it.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>you can also use both IfcOpenShell and ifc_tools to manipulate IFC data directly. Below is a short example of how to use IfcOpenShell to open an IFC file and analyze its contents:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">ifcopenshell</span>
<span class="n">my_ifc_file</span> <span class="o">=</span> <span class="n">ifcopenshell</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s2">"/path/to/some/file.ifc"</span><span class="p">)</span>
<span class="n">walls</span> <span class="o">=</span> <span class="n">my_ifc_file</span><span class="o">.</span><span class="n">by_type</span><span class="p">(</span><span class="s2">"IfcWall"</span><span class="p">)</span> <span class="c1"># get a list of all IfcWalls</span>
<span class="n">some_specific_object</span> <span class="o">=</span> <span class="n">my_ifc_file</span><span class="p">[</span><span class="mi">66</span><span class="p">]</span> <span class="c1"># get an object by its ID</span>
<span class="n">some_specific_object</span> <span class="o">=</span> <span class="n">my_ifc_file</span><span class="o">.</span><span class="n">by_id</span><span class="p">(</span><span class="mi">66</span><span class="p">)</span> <span class="c1"># alternative way</span>
<span class="nb">print</span><span class="p">(</span><span class="n">some_specific_object</span><span class="o">.</span><span class="n">Name</span><span class="p">)</span> <span class="c1"># you can access attributes that way</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>IfcOpenShell itself has no specific FreeCAD functionality (yet), so you would use it basically to do non-FreeCAD operations on objects, for example retrieve or modify objects and attributes, modify attributes, or even directly add objects. Be sure to have a look at the <a rel="nofollow" class="external text" href="https://docs.ifcopenshell.org/ifcopenshell-python.html">IfcOpenShell Python documentation</a> to know more.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In FreeCAD, once you load an IFC file, an IfcOpenShell file object is created and attached to the project (the project object for unlocked files or the FreeCAD document itself for locked projects). Everything you do in FreeCAD actually manipulates that object. You can easily get access and manipulate the IfcOpenShell file object of a FreeCAD native IFC project. For example, in locked mode, you do:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">FreeCAD</span>
<span class="n">my_doc</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">loadFile</span><span class="p">(</span><span class="s2">"/path/to/some/file.ifc"</span><span class="p">)</span>
<span class="n">my_ifc_file</span> <span class="o">=</span> <span class="n">my_doc</span><span class="o">.</span><span class="n">Proxy</span><span class="o">.</span><span class="n">ifcfile</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>In unlocked mode, each project object also has a <code>Proxy.ifcfile</code> member.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h3><span class="mw-headline" id="The_ifc_tools_module">The ifc_tools module</span></h3>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>The <a rel="nofollow" class="external text" href="https://github.com/FreeCAD/FreeCAD/blob/main/src/Mod/BIM/nativeifc/ifc_tools.py">ifc_tools</a> module is the main tool to use IfcOpenShell in FreeCAD's BIM module. It contains many tools and functions to do everything FreeCAD needs to do with IFC files and objects, such as creating new files, opening files, creating elements, modifying attributes, etc.
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>When working with FreeCAD objects, using ifc_tools is much more convenient as it handles for you all the relationship between the FreeCAD object and the IFC object it represents. For example:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">nativeifc</span> <span class="kn">import</span> <span class="n">ifc_tools</span>
<span class="n">selection</span> <span class="o">=</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Selection</span><span class="o">.</span><span class="n">getSelection</span><span class="p">()</span>
<span class="n">my_obj</span> <span class="o">=</span> <span class="n">selection</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># just get the first selected object</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">ifc_tools</span><span class="o">.</span><span class="n">get_project</span><span class="p">(</span><span class="n">my_obj</span><span class="p">)</span>
<span class="n">ifcfile</span> <span class="o">=</span> <span class="n">ifc_tools</span><span class="o">.</span><span class="n">get_ifcfile</span><span class="p">(</span><span class="n">project</span><span class="p">)</span>
<span class="n">ifc_elem</span> <span class="o">=</span> <span class="n">ifc_tools</span><span class="o">.</span><span class="n">get_ifc_element</span><span class="p">(</span><span class="n">my_obj</span><span class="p">)</span>
<span class="n">my_obj</span><span class="o">.</span><span class="n">LongName</span> <span class="o">=</span> <span class="s2">"Changed long name"</span> <span class="c1"># this updates the IFC data too</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ifc_elem</span><span class="o">.</span><span class="n">LongName</span><span class="p">)</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>There is much more in ifc_tools, such as utilities to create and modify FreeCAD objects (and their underlying IFC elements). Below are a few simple examples to get you started:
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h4><span class="mw-headline" id="Load_the_shape_of_selected_objects">Load the shape of selected objects</span></h4>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>By default, opening an IFC file will only load a lightweight 3D representation of each element. To do more serious work with them, we might need to load their full shape:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Selection</span><span class="o">.</span><span class="n">getSelection</span><span class="p">():</span>
    <span class="n">obj</span><span class="o">.</span><span class="n">ShapeMode</span> <span class="o">=</span> <span class="s2">"Shape"</span>
<span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span><span class="o">.</span><span class="n">recompute</span><span class="p">()</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h4><span class="mw-headline" id="Load_the_property_sets_of_selected_objects">Load the property sets of selected objects</span></h4>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Property sets and their included properties are rendered as object properties in FreeCAD. Once they are loaded, you can simply manipulate the values through the properties editor in FreeCAD (or via Python):
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">from</span> <span class="nn">nativeifc</span> <span class="kn">import</span> <span class="n">ifc_psets</span>
<span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="n">FreeCADGui</span><span class="o">.</span><span class="n">Selection</span><span class="o">.</span><span class="n">getSelection</span><span class="p">():</span>
    <span class="n">ifc_psets</span><span class="o">.</span><span class="n">show_psets</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="n">my_object</span><span class="o">.</span><span class="n">FireResistanceClass</span> <span class="o">=</span> <span class="s2">"1B"</span> <span class="c1"># manipulate properties once loaded</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h4><span class="mw-headline" id="Saving_an_IFC_file">Saving an IFC file</span></h4>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">ifc_tools</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">project</span><span class="p">)</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h4><span class="mw-headline" id="Add_a_new_IFC_document">Add a new IFC document</span></h4>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Use the <b>Project</b> tool from the <a href="../BIM_Workbench.html" title="BIM Workbench">BIM workbench</a> to produce a native IFC project object. It is not mandatory to save your new IFC project immediately, but it is a good practice anyway. If you forget to do so, you will get notified and be able to do it when saving the FreeCAD document.
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">doc</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span>
<span class="n">new_project</span> <span class="o">=</span> <span class="n">ifc_tools</span><span class="o">.</span><span class="n">create_document</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
<span class="n">ifc_tools</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">new_project</span><span class="p">,</span> <span class="s2">"/path/for/our/new/file.ifc"</span><span class="p">)</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h4><span class="mw-headline" id="Modifying_the_IFC_class_of_an_object">Modifying the IFC class of an object</span></h4>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Changing the class is very easy, one can simply select another one in the object's <b>class</b> property. Be warned, this might also change the predefined attributes of that object, so some attributes might vanish.
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">my_object</span><span class="o">.</span><span class="n">Class</span> <span class="o">=</span> <span class="s2">"IfcWall"</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h4><span id="Aggregate_.28and_convert.29_any_FreeCAD_object_to_an_IFC_project"></span><span class="mw-headline" id="Aggregate_(and_convert)_any_FreeCAD_object_to_an_IFC_project">Aggregate (and convert) any FreeCAD object to an IFC project</span></h4>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Suppose we built a new wall, and we need to add it to an IFC project. We can do that graphically by dragging it and dropping it onto the project in the tree view, but it is as easy in Python:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">Arch</span>
<span class="n">my_new_wall</span> <span class="o">=</span> <span class="n">Arch</span><span class="o">.</span><span class="n">makeWall</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
<span class="n">ifc_tools</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">my_new_wall</span><span class="p">,</span> <span class="n">project</span><span class="p">)</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h4><span class="mw-headline" id="Add_a_new_model_structure">Add a new model structure</span></h4>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>When creating a new project, you can also have a basic structure automatically created for you by answering 'yes' on the dialog that will pop up. But you can also easily do that in Python:
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="kn">import</span> <span class="nn">Arch</span>
<span class="n">doc</span> <span class="o">=</span> <span class="n">FreeCAD</span><span class="o">.</span><span class="n">ActiveDocument</span>
<span class="n">project</span> <span class="o">=</span> <span class="n">ifc_tools</span><span class="o">.</span><span class="n">create_document</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span>
<span class="n">site</span> <span class="o">=</span> <span class="n">Arch</span><span class="o">.</span><span class="n">makeSite</span><span class="p">()</span>
<span class="n">site</span> <span class="o">=</span> <span class="n">ifc_tools</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">site</span><span class="p">,</span> <span class="n">project</span><span class="p">)</span>
<span class="n">building</span> <span class="o">=</span> <span class="n">Arch</span><span class="o">.</span><span class="n">makeBuilding</span><span class="p">()</span>
<span class="n">building</span> <span class="o">=</span> <span class="n">ifc_tools</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">building</span><span class="p">,</span> <span class="n">site</span><span class="p">)</span>
<span class="n">level</span> <span class="o">=</span> <span class="n">Arch</span><span class="o">.</span><span class="n">makeFloor</span><span class="p">()</span>
<span class="n">level</span> <span class="o">=</span> <span class="n">ifc_tools</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">floor</span><span class="p">,</span> <span class="n">building</span><span class="p">)</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<h4><span class="mw-headline" id="Change_the_schema_of_an_IFC_document">Change the schema of an IFC document</span></h4>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>Simply change the 'Schema' property of the project. Be warned, this can have deep consequences (some object types might have changed in the new schema version), so use with care and check your data afterwards.
</p>
</div>
<div class="mw-highlight mw-highlight-lang-python mw-content-ltr" dir="ltr"><pre><span></span><span class="n">project</span><span class="o">.</span><span class="n">Schema</span> <span class="o">=</span> <span class="s2">"IFC4"</span>
</pre></div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>There is much more to explore, as more functionality is available through the different <a rel="nofollow" class="external text" href="https://github.com/FreeCAD/FreeCAD/tree/main/src/Mod/BIM/nativeifc">native IFC submodules</a>, each one provides tools to deal with a certain aspect of IFC (property sets, geometry, layers&hellip;). Be sure to explore them if needed!
</p>
</div>
<div lang="en" dir="ltr" class="mw-content-ltr">
<p>I hope you now have a good idea of where to start and what can be done with native IFC in FreeCAD. Be sure to head to the <a rel="nofollow" class="external text" href="https://forum.freecad.org/viewforum.php?f=23">BIM section on the FreeCAD forum</a> if you need some help!
</p>
</div>
<!-- 
NewPP limit report
Cached time: 20250130201337
Cache expiry: 86400
Reduced expiry: false
Complications: [show&#8208;toc, no&#8208;toc&#8208;conversion]
CPU time usage: 0.067 seconds
Real time usage: 0.075 seconds
Preprocessor visited node count: 431/1000000
Post&#8208;expand include size: 2779/2097152 bytes
Template argument size: 1985/2097152 bytes
Highest expansion depth: 4/100
Expensive parser function count: 11/100
Unstrip recursion depth: 0/20
Unstrip post&#8208;expand size: 10571/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    8.879      1 -total
 46.80%    4.156     11 Template:Code
 16.50%    1.465      1 Template:TutorialInfo/fr
 11.96%    1.062      3 Template:Caption
  8.67%    0.770      1 Template:Incode
-->

<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:370742-0!canonical and timestamp 20250130201337 and revision id 1538828. Rendering was triggered because: edit-page
 -->
</div>
</div><script src="../site.js"></script>