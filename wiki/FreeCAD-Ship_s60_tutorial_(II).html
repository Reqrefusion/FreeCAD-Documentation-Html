<link href="site.css" rel="stylesheet" type="text/css"/>
<div class="mw-page-container"><h1 class="firstHeading mw-first-heading" id="firstHeading"><span class="mw-page-title-main">FreeCAD-Ship s60 tutorial (II)</span></h1><div class="mw-parser-output"><div class="mw-pt-languages noprint" dir="ltr" lang="en"><div class="mw-pt-languages-label">Other languages:</div><ul class="mw-pt-languages-list"><li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="FreeCAD-Ship_s60_tutorial_(II).html" lang="de" title="FreeCAD Schiff s60 Tutorium (II) (100% translated)">Deutsch</a></li>
<li><span class="mw-pt-languages-ui mw-pt-languages-selected mw-pt-progress mw-pt-progress--complete" dir="ltr" lang="en">English</span></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="FreeCAD-Ship_s60_tutorial_(II).html" lang="es" title="FreeCAD-Ship s60 tutorial (II) (80% translated)">español</a></li>
<li><a class="mw-pt-progress mw-pt-progress--complete" dir="ltr" href="FreeCAD-Ship_s60_tutorial_(II).html" lang="fr" title="Tutoriel de construction navale S60 (II) (100% translated)">français</a></li>
<li><a class="mw-pt-progress mw-pt-progress--med" dir="ltr" href="FreeCAD-Ship_s60_tutorial_(II).html" lang="it" title="FreeCAD-Ship s60 tutorial (II) (56% translated)">italiano</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="FreeCAD-Ship_s60_tutorial_(II).html" lang="pl" title="Poradnik FreeCAD II: statek seria 60 (2% translated)">polski</a></li>
<li><a class="mw-pt-progress mw-pt-progress--high" dir="ltr" href="FreeCAD-Ship_s60_tutorial_(II).html" lang="ro" title="tutorial FreeCAD-Ship s60 (II) (62% translated)">română</a></li>
<li><a class="mw-pt-progress mw-pt-progress--stub" dir="ltr" href="FreeCAD-Ship_s60_tutorial_(II).html" lang="ru" title="FreeCAD-Ship s60 tutorial (II)/ru (4% translated)">русский</a></li></ul></div>
<table class="fcinfobox wikitable ct" style="width: 230px; float: right; margin-left: 1em">
<tbody><tr>
<td class="ctTitle" style="font-weight: bold; font-size: 125%;"><span typeof="mw:File"><span><img decoding="async" height="32" src="File/Freecad.svg" width="32"/></span></span> Tutorial
</td></tr>
<tr>
<th class="ctOdd">Topic
</th></tr>
<tr>
<td class="ctEven">Ship Workbench
</td></tr>
<tr>
<th class="ctOdd">Level
</th></tr>
<tr>
<td class="ctEven">Beginner
</td></tr>
<tr>
<th class="ctOdd">Time to complete
</th></tr>
<tr>
<td class="ctEven">
</td></tr>
<tr>
<th class="ctOdd">Authors
</th></tr>
<tr>
<td class="ctEven">
</td></tr>
<tr>
<th class="ctOdd">FreeCAD version
</th></tr>
<tr>
<td class="ctEven">
</td></tr>
<tr>
<th class="ctOdd">Example files
</th></tr>
<tr>
<td class="ctEven">
</td></tr>
<tr>
<th class="ctOdd">See also
</th></tr>
<tr>
<td class="ctEven"><i>None</i>
</td></tr>
<tr>
<td class="ctToc"><br/><div aria-labelledby="mw-toc-heading" class="toc" id="toc" role="navigation"><input class="toctogglecheckbox" id="toctogglecheckbox" role="button" style="display:none" type="checkbox"/><div class="toctitle" dir="ltr" lang="en"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Overview"><span class="tocnumber">1</span> <span class="toctext">Overview</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Introduction"><span class="tocnumber">2</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Ship_weights"><span class="tocnumber">3</span> <span class="toctext">Ship weights</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Tanks"><span class="tocnumber">4</span> <span class="toctext">Tanks</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Geometry_generation"><span class="tocnumber">4.1</span> <span class="toctext">Geometry generation</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Tank_intances_generation"><span class="tocnumber">4.2</span> <span class="toctext">Tank intances generation</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#GZ_curve_computation"><span class="tocnumber">4.3</span> <span class="toctext">GZ curve computation</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Results"><span class="tocnumber">4.4</span> <span class="toctext">Results</span></a></li>
</ul>
</li>
</ul>
</div>
</td></tr></tbody></table>
<h2><span class="mw-headline" id="Overview">Overview</span></h2>
<p>Before starting this tutorial, please ensure that you have already performed <a href="FreeCAD-Ship_s60_tutorial.html" title="FreeCAD-Ship s60 tutorial">the first part</a>.
</p><p>Learn more about the Ship workbench from it's dedicated wiki page: <a href="Ship_Workbench.html" title="Ship Workbench">Ship Workbench</a>
</p>
<h2><span class="mw-headline" id="Introduction">Introduction</span></h2>
<p>In this tutorial we will work with weights and tanks in order to compute GZ curve, the most important hydrostatic stability parameter. GZ is the static moment generated when the ship takes roll angle, of course, since the GZ arm is positive, the ship has a positive moment, and will try to recover upright position, but when GZ turns on negative numbers ship has not anymore stability, reaching a critical situation.
</p><p>IMO (International Maritime Organization) set following criteria:
</p>
<ul><li><i>GM</i> &gt;= 0.15 m. <i>GM</i> (metacentric height) is the initial tangent of the <i>GZ</i> curve.</li>
<li>Maximum <i>GZ</i> value must be placed over 30 degrees of roll angle.</li>
<li>With 30 degrees roll angle, <i>GZ</i> value must be 0.2 m at least.</li>
<li>Area involved by <i>GZ</i> curve up to 40 degrees of roll angle must be at least 0.090 m · rad.</li>
<li>Area involved by <i>GZ</i> curve up to 30 degrees of roll angle must be at least 0.055 m · rad.</li>
<li>Area involved by <i>GZ</i> curve from 30 to 40 degrees of roll angle must be at least 0.030 m · rad.</li></ul>
<p>In this tutorial we will set weights and tanks for our series 60 ship, in a simulated situation.
</p>
<h2><span class="mw-headline" id="Ship_weights">Ship weights</span></h2>
<p>In order to can compute GZ curve we need to know ship weights, and their position at each roll angle, so weights will be divided in two categories:
</p>
<ul><li>Fixed weights, that are fully linked to ship movements.</li>
<li>Tanks, where fluid shape changes with the angle, needing center of gravity computation at each position.</li></ul>
<p>The Ship workbench provides two different tools to generate each instance.
</p>
<figure class="mw-default-size mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="File/FreeCAD-Ship-WeightIco.png" title="Weights definition tool icon."><img alt="Weights definition tool icon." decoding="async" height="64" src="File/FreeCAD-Ship-WeightIco.png" width="64"/></a><figcaption>Weights definition tool icon.</figcaption></figure>
<center><span style="font-variant:small-caps">Weights definition tool icon.</span></center>
<p>Weights definition tool can be used to set first category of weights. When you launch the tool for first time (with ship instance selected), the Ship workbench initializes ship weights with Lightweight ship (equal to ship displacement) that is placed on the ship geometry center of gravity X coordinate, and at design draft height. Usually there are at least 2 relevant weights:
</p>
<ul><li>Structure.</li>
<li>Main engine (or several of them).</li></ul>
<p>So we will change it. Double-click over each cell  we can edit the value, setting weights:
</p>
<ul><li>Structure, 15000 kg, (-0.1, 0, 1.25) m</li>
<li>Starboard engine, 5000 kg, (-6.5, -0.65, 0.5) m</li>
<li>Port side engine, 5000 kg, (-6.5, 0.65, 0.5) m</li>
<li>Emergency engine, 2500 kg, (0.2, 0, 2.5) m</li></ul>
<figure class="mw-default-size mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="File/FreeCAD-Ship-S60WeightsPreview.png" title="Weights definition 3D preview."><img alt="Weights definition 3D preview." decoding="async" height="337" src="File/FreeCAD-Ship-S60WeightsPreview.png" width="834"/></a><figcaption>Weights definition 3D preview.</figcaption></figure>
<center><span style="font-variant:small-caps">Weights definition 3D preview.</span></center>
<p>Weights position are shown in the <a href="3D_view.html" title="3D view">3D view</a>. Note: the annotations will be removed when the tool is closed. When you press <span style="background: #f5f5f5; -moz-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); -webkit-box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); box-shadow: 0.1em 0.1em 0.2em rgba(0,0,0,0.1); border: 2px solid #989898; border-radius: 0.4em; padding: 0px 10px 1px 10px; font-weight:normal;">Accept</span> weights will be stored in your ship instance.
</p>
<h2><span class="mw-headline" id="Tanks">Tanks</span></h2>
<p>Tanks must be created on top of solid geometry, as the ship instance, so first step is create two bow tanks (one per ship side) solid geometries that we will consider (usually ships have a lot of tanks for fuel, fresh water, salt water, load, etc).
</p>
<h3><span class="mw-headline" id="Geometry_generation">Geometry generation</span></h3>
<p>In order to generate tanks we load <a href="Part_Workbench.html" title="Part Workbench">Part module</a>, and create a box solid.
</p><p>We need to edit the box, so we select it at <b>Attributes and tags</b> tree, and change from view to data tab. Expand Placement, and into them Position, and set <i>x</i> to 1.5, and z to -1. We want to change box length too changing it for 5.0 (note that units can be in mm, don't take care about this).
</p><p>Tank geometry will be common part of created box and ship geometry, so we can hide <b>Ship</b> instance, and show <b>s60_IowaUniversity</b> geometry. Selecting box and <b>s60_IowaUniversity</b> we can use Common operation generating our starboard tank geometry.
</p>
<figure class="mw-default-size mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="File/FreeCAD-Ship-S60TankGeometry.png" title="Generated tank geometry."><img alt="Generated tank geometry." decoding="async" height="337" src="File/FreeCAD-Ship-S60TankGeometry.png" width="834"/></a><figcaption>Generated tank geometry.</figcaption></figure>
<center><span style="font-variant:small-caps">Generated tank geometry.</span></center>
<p>We can perform port side tank selecting our starboard geometry and executing mirror tool, selecting XZ as mirror plane.
</p><p>In order to convert geometry into a ussual solid shape our tanks, and recover our <b>s60_IowaUniversity</b> geometry, we can load <a href="Draft_Workbench.html" title="Draft Workbench">Draft module</a>, and with starboard tank geometry selected execute Upgrade, and repeat with port side tank geometry. We can rename geometries as:
</p>
<ul><li>StarboardTankGeom</li>
<li>PortTankGeom</li></ul>
<p>We can delete created Box, that we don't need anymore. 
</p>
<h3><span class="mw-headline" id="Tank_intances_generation">Tank intances generation</span></h3>
<p>If reload <a href="Ship_Workbench.html" title="Ship Workbench">FreeCAD-Ship module</a> another time, we can find tank instances generator tool.
</p>
<figure class="mw-default-size mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="File/FreeCAD-Ship-TankIco.png" title="Tank instance generation tool icon."><img alt="Tank instance generation tool icon." decoding="async" height="64" src="File/FreeCAD-Ship-TankIco.png" width="64"/></a><figcaption>Tank instance generation tool icon.</figcaption></figure>
<center><span style="font-variant:small-caps">Tank instance generation tool icon.</span></center>
<p>Now we can select <b>StarboardTankGeom</b> and execute tank instance generation tool, where some data must be provided. We will set 40% of filling level, and 925 kg/m<span class="mwe-math-element"><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math alttext="{\displaystyle \mathrm {m} ^{3}}" xmlns="http://www.w3.org/1998/Math/MathML">
<semantics>
<mrow class="MJX-TeXAtom-ORD">
<mstyle displaystyle="true" scriptlevel="0">
<msup>
<mrow class="MJX-TeXAtom-ORD">
<mi mathvariant="normal">m</mi>
</mrow>
<mrow class="MJX-TeXAtom-ORD">
<mn>3</mn>
</mrow>
</msup>
</mstyle>
</mrow>
<annotation encoding="application/x-tex">{\displaystyle \mathrm {m} ^{3}}</annotation>
</semantics>
</math></span><img alt="{\displaystyle \mathrm {m} ^{3}}" aria-hidden="true" class="mwe-math-fallback-image-inline" src="https://wikimedia.org/api/rest_v1/media/math/render/svg/02f2d39cc494c8a72de611f7a3d7e9461818db5b" style="vertical-align: -0.338ex; width:2.99ex; height:2.676ex;"/></span> (fuel approach). When <b>Accept</b> is clicked a new tank instance called <b>Tank</b> is generated. We can rename it as <b>StarboardTank</b>, and hide <b>StarboardTankGeom</b>.
</p><p>We can repeat the same process in order to generate <b>PortTank</b>.
</p>
<figure class="mw-default-size mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="File/FreeCAD-Ship-S60WeightsTanksPreview.png" title="View of generated weights."><img alt="View of generated weights." decoding="async" height="337" src="File/FreeCAD-Ship-S60WeightsTanksPreview.png" width="834"/></a><figcaption>View of generated weights.</figcaption></figure>
<center><span style="font-variant:small-caps">View of generated weights.</span></center>
<p>Figure shown our ship result that we will compute.
</p>
<h3><span class="mw-headline" id="GZ_curve_computation">GZ curve computation</span></h3>
<p>The Ship workbench provide a tool to easily compute a <i>GZ</i> curve.
</p>
<figure class="mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="File/Ship_GZ.svg" title="GZ curve computation tool icon."><img alt="GZ curve computation tool icon." decoding="async" height="128" src="File/Ship_GZ.svg" width="128"/></a><figcaption>GZ curve computation tool icon.</figcaption></figure>
<center><span style="font-variant:small-caps">GZ curve computation tool icon.</span></center>
<p>With <b>Ship</b> instance selected, we can run the tool. The first thing that we can see at opened dialog is a list with all tank instances found at active document. We want to use both of them, so we click over the tanks that are remarked with a different background.
</p><p>In order to know the resultant ship displacement and draft we can press <b>Update displacement and draft</b>, taking some time for the computation. We receive following data:
</p>
<ul><li>Displacement = 37505.5 kg</li>
<li>Draft = 0.818664 m</li></ul>
<p>So we are in a unloaded situation, where draft are sightly lower than design draft. Usually lower drafts imply lower ship stability, the draft depends on loading condition, so if we really expect than ship can be operated in this loading condition we can consider implement ballast tanks.
</p><p>We can also automatically compute ship trim, operation that can take around one minute, retrieving that our ship have 0.95 degrees of trim angle (positive by stern). In this example we will work without trim angle (0 degrees).
</p><p>Tool request roll angles considered too. In this case we want to know all ship behaviour, so we can set:
</p>
<ul><li>0 degrees starting roll angle.</li>
<li>180 degrees ending roll angle.</li>
<li>46 points. One for each 2 degrees. GZ computation can take some time, so take care about the number of points requested.</li></ul>
<p>When we press <b>Accept</b> tool starts the computation. If you run FreeCAD from the terminal you can see work progress. In a couple of seconds we will receive GZ curve.
</p><p>This tool use <a class="external text" href="http://www.pyxplot.org.uk/" rel="nofollow">pyxplot</a> and <a class="external text" href="http://www.ghostscript.com/" rel="nofollow">ghostscript</a> too.  You can see where <b>gz.dat</b> output file has been placed at the report view (View/Views/Report view), and load it with datasheet software (for example <a class="external text" href="http://www.libreoffice.org" rel="nofollow">libreOffice</a>). Nearby data file several auxiliary files has been created too:
</p>
<ul><li><b>gz.dat</b>: Computed GZ curve data.</li>
<li><b>gz.pyxplot</b>: pyxplot layout in order to plot the curve.</li>
<li><b>gz.eps</b>: EPS image version.</li>
<li><b>gz.png</b>: PNG image version.</li></ul>
<p>This files will be overwritten if you executes the tool another time.
</p>
<h3><span class="mw-headline" id="Results">Results</span></h3>
<figure class="mw-halign-center" typeof="mw:File"><a class="mw-file-description" href="File/FreeCAD-Ship-s60GZ.png" title="Resultant GZ curve."><img alt="Resultant GZ curve." decoding="async" height="516" src="File/FreeCAD-Ship-s60GZ.png" srcset="/images/0/06/FreeCAD-Ship-s60GZ.png 1.5x" width="800"/></a><figcaption>Resultant GZ curve.</figcaption></figure>
<center><span style="font-variant:small-caps">Resultant GZ curve.</span></center>
<p><i>GZ</i> maximum value is placed over 30 degrees (45 degrees), getting 0.25 m at 30 degrees (0.2 m is the minimum). Up to 30 degrees the area below <i>GZ</i> curve is 0.065 m·rad, up to 40 degrees we have 0.092 m·rad, being the area between 30 and 40 degrees of 0.027 m·rad. So our ship don't meets the IMO requirements. The solution is place ballast tanks.
</p><p>At the other hand, the ship in this bad condition has positive <i>GZ</i> values up to 95 degrees roll angle, but has not been enough for IMO stability requirements, showing the hard criteria imposed about this item.
</p><p>Of course this example is not real (first for all fuel tanks cannot be placed in the double bottom structure, or using hull side as structure), but is a good example in order to learn to use <a href="Ship_Workbench.html" title="Ship Workbench">Ship Workbench</a>.
</p>
<!-- 
NewPP limit report
Cached time: 20241129210807
Cache expiry: 86400
Reduced expiry: false
Complications: [show‐toc, no‐toc‐conversion]
CPU time usage: 0.110 seconds
Real time usage: 0.353 seconds
Preprocessor visited node count: 140/1000000
Post‐expand include size: 1008/2097152 bytes
Template argument size: 28/2097152 bytes
Highest expansion depth: 3/100
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 1680/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    6.829      1 -total
 66.74%    4.558      1 Template:TutorialInfo
 31.30%    2.137      1 Template:Button
-->
<!-- Saved in parser cache with key freecadweb_db01-wiki_:pcache:idhash:2425-0!canonical and timestamp 20241129210806 and revision id 1133056. Rendering was triggered because: api-parse
 -->
</div></div><script src="script.js"></script>
